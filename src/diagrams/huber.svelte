<script>

    function gen_path(fn, map_x, map_y) {
        const ys = xs.map(x => fn(x));
        const pts = d3.zip(xs, ys);
        let path = d3.line().x(d => map_x(d[0])).y(d => map_y(d[1]))(pts);
        return path;
    }

    function mousemove_handler(e) {
        const rect = e.currentTarget.getBoundingClientRect();
        mouse_x = Math.min(Math.max((e.clientX - rect.x)/rect.width * 357, 36.64), 341);
        rescaled_loss_path = gen_path(rescaled_loss, map_x, map_y_loss);
        rescaled_prob_path = gen_path(rescaled_prob, map_x, map_y_prob);
    }
    

    function squared_loss(x){
        return 0.5*x*x;
    }
    function huber_loss(x){
        if (Math.abs(x) < delta) {
            return squared_loss(x);
        } else {
            return delta*(Math.abs(x) - 0.5*delta);
        }
    }
    function rescaled_loss(x) {
        const linpoint = map_inv_x(mouse_x);
        if (Math.abs(linpoint) < delta) {
            return squared_loss(x);
        } else {
            return squared_loss(x) * huber_loss(linpoint) / squared_loss(linpoint);
        }
    }
    function squared_prob(x) { return Math.exp(-squared_loss(x)); }
    function huber_prob(x) { return Math.exp(-huber_loss(x)); }        
    function rescaled_prob(x) { return Math.exp(-rescaled_loss(x)); }


    let mouse_x = 188.82;  // start at middle

    const STEP = 0.1;
    const range = 5;
    const xs = d3.range(-range, range, STEP);

    const delta = 1.1;

    const map_x = d3.scaleLinear().domain([-range, range]).range([36.64, 341]);
    const map_inv_x = d3.scaleLinear().domain([36.64, 341]).range([-range, range]);
    const map_y_loss = d3.scaleLinear().domain([0, 0.5*range*range]).range([209.55, 11.8]);
    const map_y_prob = d3.scaleLinear().domain([0, 1]).range([430.55, 232.88]);

    const square_loss_path = gen_path(squared_loss, map_x, map_y_loss);
    const huber_loss_path = gen_path(huber_loss, map_x, map_y_loss);
    let rescaled_loss_path = gen_path(rescaled_loss, map_x, map_y_loss);
    const square_prob_path = gen_path(squared_prob, map_x, map_y_prob);
    const huber_prob_path = gen_path(huber_prob, map_x, map_y_prob);
    let rescaled_prob_path = gen_path(rescaled_prob, map_x, map_y_prob);


</script>

<style>

    #wrapper {
        position: relative;
        margin-bottom: 0.5rem;
        min-height: 210px;
        /* border: none; */
        /* background-color: white; */
    }

    figure {
        padding-bottom: 0em;
    }

    .curve {
        stroke-linecap: square;
        stroke-width: 2;
    }

    .huber {
        stroke: var(--full_blue);
    }

    .gauss {
        stroke: var(--orange);
    }

    .rescaled {
        stroke: var(--green);
    }

    #track {
        stroke: green;
        stroke-width: 2;
        stroke-dasharray: 8,3;
    }

    /* .boundary {
        stroke: var(--full_blue);
        stroke-width: 2;
        stroke-dasharray: 8,3; 
        opacity: 0.4;
    } */

    .transition {
        fill: var(--full_blue);
    }

    .ball {
        fill: green;
    }

</style>


<figure class="subgrid" id="figure">

    <div id="wrapper" class="interactive-container">

        <svg on:mousemove={mousemove_handler} width="357" height="483" viewBox="0 0 357 483" fill="none" xmlns="http://www.w3.org/2000/svg">

            <rect width="357" height="483" fill="white"/>
            <g id="axis2">
            <g id="Vector">
            <path d="M188.821 440.44V443.94Z" fill="black"/>
            <path d="M188.821 440.44V443.94" stroke="black" stroke-width="0.8"/>
            </g>
            <path id="Vector_2" d="M188.815 449.164C187.902 449.164 187.215 449.614 186.753 450.514C186.294 451.412 186.064 452.764 186.064 454.57C186.064 456.368 186.294 457.717 186.753 458.617C187.215 459.517 187.902 459.967 188.815 459.967C189.736 459.967 190.426 459.517 190.885 458.617C191.346 457.717 191.577 456.368 191.577 454.57C191.577 452.764 191.346 451.412 190.885 450.514C190.426 449.614 189.736 449.164 188.815 449.164ZM188.815 447.758C190.287 447.758 191.411 448.34 192.187 449.504C192.963 450.667 193.352 452.355 193.352 454.57C193.352 456.778 192.963 458.465 192.187 459.629C191.411 460.792 190.287 461.373 188.815 461.373C187.345 461.373 186.222 460.792 185.446 459.629C184.669 458.465 184.281 456.778 184.281 454.57C184.281 452.355 184.669 450.667 185.446 449.504C186.222 448.34 187.345 447.758 188.815 447.758Z" fill="black"/>
            <path id="Vector_3" d="M21.4206 440.44V223" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            <path id="Vector_4" d="M356.221 440.44V223" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            <path id="Vector_5" d="M21.4206 440.44H356.221" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            <path id="Vector_6" d="M21.4206 223H356.221" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            </g>
            <g id="axis1">
            <path id="Vector_7" d="M21.4206 219.44V2" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            <path id="Vector_8" d="M356.221 219.44V2" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            <path id="Vector_9" d="M21.4206 219.44H356.221" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            <path id="Vector_10" d="M21.4206 2H356.221" stroke="black" stroke-width="0.8" stroke-linecap="square"/>
            </g>
            <g id="ax labels">
            <path id="Residual" d="M156.779 476.248H153.439V482H151.555V467.781H156.262C157.863 467.781 159.094 468.146 159.953 468.875C160.819 469.604 161.252 470.665 161.252 472.059C161.252 472.944 161.011 473.715 160.529 474.373C160.054 475.031 159.39 475.522 158.537 475.848L161.877 481.883V482H159.865L156.779 476.248ZM153.439 474.715H156.32C157.251 474.715 157.99 474.474 158.537 473.992C159.09 473.51 159.367 472.866 159.367 472.059C159.367 471.18 159.104 470.506 158.576 470.037C158.055 469.568 157.3 469.331 156.311 469.324H153.439V474.715ZM167.99 482.195C166.558 482.195 165.393 481.727 164.494 480.789C163.596 479.845 163.146 478.585 163.146 477.01V476.678C163.146 475.63 163.345 474.695 163.742 473.875C164.146 473.048 164.706 472.404 165.422 471.941C166.145 471.473 166.926 471.238 167.766 471.238C169.139 471.238 170.207 471.691 170.969 472.596C171.73 473.501 172.111 474.796 172.111 476.482V477.234H164.953C164.979 478.276 165.282 479.119 165.861 479.764C166.447 480.402 167.189 480.721 168.088 480.721C168.726 480.721 169.266 480.59 169.709 480.33C170.152 480.07 170.539 479.725 170.871 479.295L171.975 480.154C171.089 481.515 169.761 482.195 167.99 482.195ZM167.766 472.723C167.036 472.723 166.424 472.99 165.93 473.523C165.435 474.051 165.129 474.793 165.012 475.75H170.305V475.613C170.253 474.695 170.005 473.986 169.562 473.484C169.12 472.977 168.521 472.723 167.766 472.723ZM180.363 479.197C180.363 478.709 180.178 478.331 179.807 478.064C179.442 477.791 178.801 477.557 177.883 477.361C176.971 477.166 176.245 476.932 175.705 476.658C175.171 476.385 174.774 476.059 174.514 475.682C174.26 475.304 174.133 474.855 174.133 474.334C174.133 473.468 174.497 472.736 175.227 472.137C175.962 471.538 176.9 471.238 178.039 471.238C179.237 471.238 180.207 471.548 180.949 472.166C181.698 472.785 182.072 473.576 182.072 474.539H180.256C180.256 474.044 180.044 473.618 179.621 473.26C179.204 472.902 178.677 472.723 178.039 472.723C177.382 472.723 176.867 472.866 176.496 473.152C176.125 473.439 175.939 473.813 175.939 474.275C175.939 474.712 176.112 475.04 176.457 475.262C176.802 475.483 177.424 475.695 178.322 475.896C179.227 476.098 179.96 476.339 180.52 476.619C181.079 476.899 181.493 477.238 181.76 477.635C182.033 478.025 182.17 478.504 182.17 479.07C182.17 480.014 181.792 480.773 181.037 481.346C180.282 481.912 179.302 482.195 178.098 482.195C177.251 482.195 176.503 482.046 175.852 481.746C175.201 481.447 174.689 481.03 174.318 480.496C173.954 479.956 173.771 479.373 173.771 478.748H175.578C175.611 479.354 175.852 479.835 176.301 480.193C176.757 480.545 177.355 480.721 178.098 480.721C178.781 480.721 179.328 480.584 179.738 480.311C180.155 480.031 180.363 479.66 180.363 479.197ZM186.486 482H184.68V471.434H186.486V482ZM184.533 468.631C184.533 468.338 184.621 468.09 184.797 467.889C184.979 467.687 185.246 467.586 185.598 467.586C185.949 467.586 186.216 467.687 186.398 467.889C186.581 468.09 186.672 468.338 186.672 468.631C186.672 468.924 186.581 469.168 186.398 469.363C186.216 469.559 185.949 469.656 185.598 469.656C185.246 469.656 184.979 469.559 184.797 469.363C184.621 469.168 184.533 468.924 184.533 468.631ZM188.947 476.629C188.947 475.008 189.331 473.706 190.1 472.723C190.868 471.733 191.874 471.238 193.117 471.238C194.354 471.238 195.334 471.661 196.057 472.508V467H197.863V482H196.203L196.115 480.867C195.393 481.753 194.387 482.195 193.098 482.195C191.874 482.195 190.874 481.694 190.1 480.691C189.331 479.689 188.947 478.38 188.947 476.766V476.629ZM190.754 476.834C190.754 478.032 191.001 478.969 191.496 479.646C191.991 480.324 192.674 480.662 193.547 480.662C194.693 480.662 195.529 480.148 196.057 479.119V474.266C195.516 473.27 194.686 472.771 193.566 472.771C192.681 472.771 191.991 473.113 191.496 473.797C191.001 474.48 190.754 475.493 190.754 476.834ZM207.199 480.955C206.496 481.782 205.464 482.195 204.104 482.195C202.977 482.195 202.118 481.87 201.525 481.219C200.939 480.561 200.643 479.591 200.637 478.309V471.434H202.443V478.26C202.443 479.861 203.094 480.662 204.396 480.662C205.777 480.662 206.695 480.148 207.15 479.119V471.434H208.957V482H207.238L207.199 480.955ZM218.234 482C218.13 481.792 218.046 481.421 217.98 480.887C217.141 481.759 216.138 482.195 214.973 482.195C213.931 482.195 213.075 481.902 212.404 481.316C211.74 480.724 211.408 479.975 211.408 479.07C211.408 477.97 211.825 477.117 212.658 476.512C213.498 475.9 214.676 475.594 216.193 475.594H217.951V474.764C217.951 474.132 217.762 473.631 217.385 473.26C217.007 472.882 216.451 472.693 215.715 472.693C215.07 472.693 214.53 472.856 214.094 473.182C213.658 473.507 213.439 473.901 213.439 474.363H211.623C211.623 473.836 211.809 473.328 212.18 472.84C212.557 472.345 213.065 471.954 213.703 471.668C214.348 471.382 215.054 471.238 215.822 471.238C217.04 471.238 217.993 471.544 218.684 472.156C219.374 472.762 219.732 473.598 219.758 474.666V479.529C219.758 480.499 219.882 481.271 220.129 481.844V482H218.234ZM215.236 480.623C215.803 480.623 216.34 480.477 216.848 480.184C217.355 479.891 217.723 479.51 217.951 479.041V476.873H216.535C214.322 476.873 213.215 477.521 213.215 478.816C213.215 479.383 213.404 479.826 213.781 480.145C214.159 480.464 214.644 480.623 215.236 480.623ZM224.553 482H222.746V467H224.553V482Z" fill="black"/>
            <path id="Factor / probability" d="M7.7207 408.453L7.7207 414.42H14V416.295H-0.21875L-0.21875 407.486H1.32422V414.42H6.1875L6.1875 408.453H7.7207ZM14 399.332C13.7917 399.436 13.4206 399.521 12.8867 399.586C13.7591 400.426 14.1953 401.428 14.1953 402.594C14.1953 403.635 13.9023 404.492 13.3164 405.162C12.724 405.826 11.9753 406.158 11.0703 406.158C9.97005 406.158 9.11719 405.742 8.51172 404.908C7.89974 404.068 7.59375 402.89 7.59375 401.373V399.615H6.76367C6.13216 399.615 5.63086 399.804 5.25977 400.182C4.88216 400.559 4.69336 401.116 4.69336 401.852C4.69336 402.496 4.85612 403.036 5.18164 403.473C5.50716 403.909 5.90104 404.127 6.36328 404.127V405.943C5.83594 405.943 5.32813 405.758 4.83984 405.387C4.34505 405.009 3.95443 404.501 3.66797 403.863C3.38151 403.219 3.23828 402.512 3.23828 401.744C3.23828 400.527 3.54427 399.573 4.15625 398.883C4.76172 398.193 5.59831 397.835 6.66602 397.809H11.5293C12.4993 397.809 13.2708 397.685 13.8438 397.438H14V399.332ZM12.623 402.33C12.623 401.764 12.4766 401.227 12.1836 400.719C11.8906 400.211 11.5098 399.843 11.041 399.615H8.87305V401.031C8.87305 403.245 9.52083 404.352 10.8164 404.352C11.3828 404.352 11.8255 404.163 12.1445 403.785C12.4635 403.408 12.623 402.923 12.623 402.33ZM12.7207 390.738C12.7207 390.094 12.5254 389.531 12.1348 389.049C11.7441 388.567 11.2559 388.3 10.6699 388.248V386.539C11.2754 386.572 11.8516 386.78 12.3984 387.164C12.9453 387.548 13.3815 388.062 13.707 388.707C14.0326 389.345 14.1953 390.022 14.1953 390.738C14.1953 392.177 13.7168 393.323 12.7598 394.176C11.7962 395.022 10.4811 395.445 8.81445 395.445H8.51172C7.48307 395.445 6.56836 395.257 5.76758 394.879C4.9668 394.501 4.34505 393.961 3.90234 393.258C3.45964 392.548 3.23828 391.712 3.23828 390.748C3.23828 389.563 3.5931 388.58 4.30273 387.799C5.01237 387.011 5.93359 386.591 7.06641 386.539V388.248C6.38281 388.3 5.82292 388.561 5.38672 389.029C4.94401 389.492 4.72266 390.064 4.72266 390.748C4.72266 391.666 5.05469 392.379 5.71875 392.887C6.3763 393.388 7.33008 393.639 8.58008 393.639H8.92188C10.1393 393.639 11.0768 393.388 11.7344 392.887C12.3919 392.385 12.7207 391.669 12.7207 390.738ZM0.875 382.057H3.43359V380.084H4.83008L4.83008 382.057H11.3828C11.806 382.057 12.125 381.969 12.3398 381.793C12.5482 381.617 12.6523 381.318 12.6523 380.895C12.6523 380.686 12.6133 380.4 12.5352 380.035H14C14.1302 380.51 14.1953 380.973 14.1953 381.422C14.1953 382.229 13.9512 382.838 13.4629 383.248C12.9746 383.658 12.2813 383.863 11.3828 383.863H4.83008V385.787H3.43359V383.863H0.875V382.057ZM8.61914 378.639C7.58398 378.639 6.65299 378.437 5.82617 378.033C4.99935 377.623 4.36133 377.057 3.91211 376.334C3.46289 375.605 3.23828 374.775 3.23828 373.844C3.23828 372.405 3.73633 371.243 4.73242 370.357C5.72852 369.465 7.05339 369.02 8.70703 369.02H8.83398C9.86263 369.02 10.7871 369.218 11.6074 369.615C12.4212 370.006 13.056 370.569 13.5117 371.305C13.9674 372.034 14.1953 372.874 14.1953 373.824C14.1953 375.257 13.6973 376.419 12.7012 377.311C11.7051 378.196 10.3867 378.639 8.74609 378.639H8.61914ZM8.83398 376.822C10.0059 376.822 10.9466 376.552 11.6563 376.012C12.3659 375.465 12.7207 374.736 12.7207 373.824C12.7207 372.906 12.3626 372.177 11.6465 371.637C10.9238 371.096 9.91471 370.826 8.61914 370.826C7.46029 370.826 6.52279 371.103 5.80664 371.656C5.08398 372.203 4.72266 372.932 4.72266 373.844C4.72266 374.736 5.07747 375.455 5.78711 376.002C6.49674 376.549 7.51237 376.822 8.83398 376.822ZM5.05469 361.646C5.00911 361.92 4.98633 362.216 4.98633 362.535C4.98633 363.72 5.49089 364.524 6.5 364.947H14V366.754H3.43359V364.996L4.6543 364.967C3.71029 364.374 3.23828 363.535 3.23828 362.447C3.23828 362.096 3.28385 361.829 3.375 361.646H5.05469ZM15.2207 354.654V356.207L-0.21875 350.27V348.727L15.2207 354.654ZM8.83398 327.926C10.4421 327.926 11.7376 328.294 12.7207 329.029C13.7038 329.765 14.1953 330.761 14.1953 332.018C14.1953 333.3 13.7884 334.309 12.9746 335.045H18.0625V336.852H3.43359V335.201L4.60547 335.113C3.69401 334.378 3.23828 333.355 3.23828 332.047C3.23828 330.777 3.7168 329.775 4.67383 329.039C5.63086 328.297 6.96224 327.926 8.66797 327.926H8.83398ZM8.62891 329.732C7.4375 329.732 6.49674 329.986 5.80664 330.494C5.11654 331.002 4.77148 331.699 4.77148 332.584C4.77148 333.678 5.25651 334.498 6.22656 335.045H11.2754C12.2389 334.505 12.7207 333.678 12.7207 332.564C12.7207 331.699 12.3789 331.012 11.6953 330.504C11.0052 329.99 9.98307 329.732 8.62891 329.732ZM5.05469 320.514C5.00911 320.787 4.98633 321.083 4.98633 321.402C4.98633 322.587 5.49089 323.391 6.5 323.814H14V325.621H3.43359V323.863L4.6543 323.834C3.71029 323.242 3.23828 322.402 3.23828 321.314C3.23828 320.963 3.28385 320.696 3.375 320.514H5.05469ZM8.61914 319.518C7.58398 319.518 6.65299 319.316 5.82617 318.912C4.99935 318.502 4.36133 317.936 3.91211 317.213C3.46289 316.484 3.23828 315.654 3.23828 314.723C3.23828 313.284 3.73633 312.122 4.73242 311.236C5.72852 310.344 7.05339 309.898 8.70703 309.898H8.83398C9.86263 309.898 10.7871 310.097 11.6074 310.494C12.4212 310.885 13.056 311.448 13.5117 312.184C13.9674 312.913 14.1953 313.753 14.1953 314.703C14.1953 316.135 13.6973 317.298 12.7012 318.189C11.7051 319.075 10.3867 319.518 8.74609 319.518H8.61914ZM8.83398 317.701C10.0059 317.701 10.9466 317.431 11.6563 316.891C12.3659 316.344 12.7207 315.615 12.7207 314.703C12.7207 313.785 12.3626 313.056 11.6465 312.516C10.9238 311.975 9.91471 311.705 8.61914 311.705C7.46029 311.705 6.52279 311.982 5.80664 312.535C5.08398 313.082 4.72266 313.811 4.72266 314.723C4.72266 315.615 5.07747 316.334 5.78711 316.881C6.49674 317.428 7.51237 317.701 8.83398 317.701ZM8.83398 298.688C10.4486 298.688 11.7474 299.059 12.7305 299.801C13.707 300.543 14.1953 301.539 14.1953 302.789C14.1953 304.124 13.7233 305.156 12.7793 305.885L14 305.973V307.633H-1V305.826H4.5957C3.69076 305.097 3.23828 304.091 3.23828 302.809C3.23828 301.526 3.72331 300.52 4.69336 299.791C5.66341 299.055 6.99154 298.688 8.67773 298.688H8.83398ZM8.62891 300.494C7.39844 300.494 6.44792 300.732 5.77734 301.207C5.10677 301.682 4.77148 302.366 4.77148 303.258C4.77148 304.449 5.32487 305.305 6.43164 305.826H11.002C12.1087 305.273 12.6621 304.41 12.6621 303.238C12.6621 302.372 12.3268 301.699 11.6563 301.217C10.9857 300.735 9.97656 300.494 8.62891 300.494ZM14 289.879C13.7917 289.983 13.4206 290.068 12.8867 290.133C13.7591 290.973 14.1953 291.975 14.1953 293.141C14.1953 294.182 13.9023 295.038 13.3164 295.709C12.724 296.373 11.9753 296.705 11.0703 296.705C9.97005 296.705 9.11719 296.288 8.51172 295.455C7.89974 294.615 7.59375 293.437 7.59375 291.92V290.162H6.76367C6.13216 290.162 5.63086 290.351 5.25977 290.729C4.88216 291.106 4.69336 291.663 4.69336 292.398C4.69336 293.043 4.85612 293.583 5.18164 294.02C5.50716 294.456 5.90104 294.674 6.36328 294.674V296.49C5.83594 296.49 5.32813 296.305 4.83984 295.934C4.34505 295.556 3.95443 295.048 3.66797 294.41C3.38151 293.766 3.23828 293.059 3.23828 292.291C3.23828 291.074 3.54427 290.12 4.15625 289.43C4.76172 288.74 5.59831 288.382 6.66602 288.355H11.5293C12.4993 288.355 13.2708 288.232 13.8438 287.984H14V289.879ZM12.623 292.877C12.623 292.311 12.4766 291.773 12.1836 291.266C11.8906 290.758 11.5098 290.39 11.041 290.162H8.87305V291.578C8.87305 293.792 9.52083 294.898 10.8164 294.898C11.3828 294.898 11.8255 294.71 12.1445 294.332C12.4635 293.954 12.623 293.469 12.623 292.877ZM8.83398 276.578C10.4486 276.578 11.7474 276.949 12.7305 277.691C13.707 278.434 14.1953 279.43 14.1953 280.68C14.1953 282.014 13.7233 283.046 12.7793 283.775L14 283.863V285.523H-1V283.717H4.5957C3.69076 282.988 3.23828 281.982 3.23828 280.699C3.23828 279.417 3.72331 278.411 4.69336 277.682C5.66341 276.946 6.99154 276.578 8.67773 276.578H8.83398ZM8.62891 278.385C7.39844 278.385 6.44792 278.622 5.77734 279.098C5.10677 279.573 4.77148 280.257 4.77148 281.148C4.77148 282.34 5.32487 283.196 6.43164 283.717H11.002C12.1087 283.163 12.6621 282.301 12.6621 281.129C12.6621 280.263 12.3268 279.589 11.6563 279.107C10.9857 278.626 9.97656 278.385 8.62891 278.385ZM14 272.33V274.137H3.43359V272.33H14ZM0.630859 274.283C0.337891 274.283 0.0904948 274.195 -0.111328 274.02C-0.313151 273.837 -0.414062 273.57 -0.414062 273.219C-0.414062 272.867 -0.313151 272.6 -0.111328 272.418C0.0904948 272.236 0.337891 272.145 0.630859 272.145C0.923828 272.145 1.16797 272.236 1.36328 272.418C1.55859 272.6 1.65625 272.867 1.65625 273.219C1.65625 273.57 1.55859 273.837 1.36328 274.02C1.16797 274.195 0.923828 274.283 0.630859 274.283ZM14 267.467V269.273H-1L-1 267.467H14ZM14 262.604V264.41H3.43359V262.604H14ZM0.630859 264.557C0.337891 264.557 0.0904948 264.469 -0.111328 264.293C-0.313151 264.111 -0.414062 263.844 -0.414062 263.492C-0.414062 263.141 -0.313151 262.874 -0.111328 262.691C0.0904948 262.509 0.337891 262.418 0.630859 262.418C0.923828 262.418 1.16797 262.509 1.36328 262.691C1.55859 262.874 1.65625 263.141 1.65625 263.492C1.65625 263.844 1.55859 264.111 1.36328 264.293C1.16797 264.469 0.923828 264.557 0.630859 264.557ZM0.875 257.252H3.43359L3.43359 255.279H4.83008V257.252H11.3828C11.806 257.252 12.125 257.164 12.3398 256.988C12.5482 256.812 12.6523 256.513 12.6523 256.09C12.6523 255.882 12.6133 255.595 12.5352 255.23H14C14.1302 255.706 14.1953 256.168 14.1953 256.617C14.1953 257.424 13.9512 258.033 13.4629 258.443C12.9746 258.854 12.2813 259.059 11.3828 259.059H4.83008V260.982H3.43359V259.059H0.875V257.252ZM11.3535 249.703L3.43359 247.242V245.309L15.6309 249.557C17.3887 250.214 18.2676 251.259 18.2676 252.691L18.2383 253.033L18.1113 253.707H16.6465L16.6855 253.219C16.6855 252.607 16.5618 252.132 16.3145 251.793C16.0671 251.448 15.6146 251.165 14.957 250.943L13.8828 250.543L3.43359 254.312V252.34L11.3535 249.703Z" fill="black"/>
            <path id="Energy / neg. log prob" d="M7.42773 198.049L7.42773 204.211H12.4668V197.053H14V206.086H-0.21875L-0.21875 197.15H1.32422V204.211H5.89453L5.89453 198.049H7.42773ZM3.43359 193.293L4.76172 193.234C3.74609 192.427 3.23828 191.372 3.23828 190.07C3.23828 187.837 4.49805 186.711 7.01758 186.691H14V188.498H7.00781C6.24609 188.505 5.68294 188.68 5.31836 189.025C4.95378 189.364 4.77148 189.895 4.77148 190.617C4.77148 191.203 4.92773 191.717 5.24023 192.16C5.55273 192.603 5.96289 192.948 6.4707 193.195H14V195.002H3.43359V193.293ZM14.1953 179.582C14.1953 181.014 13.7266 182.18 12.7891 183.078C11.8451 183.977 10.5853 184.426 9.00977 184.426H8.67773C7.62956 184.426 6.69531 184.227 5.875 183.83C5.04818 183.426 4.40365 182.867 3.94141 182.15C3.47266 181.428 3.23828 180.646 3.23828 179.807C3.23828 178.433 3.69076 177.365 4.5957 176.604C5.50065 175.842 6.79622 175.461 8.48242 175.461H9.23438V182.619C10.276 182.593 11.1191 182.29 11.7637 181.711C12.4017 181.125 12.7207 180.383 12.7207 179.484C12.7207 178.846 12.5905 178.306 12.3301 177.863C12.0697 177.421 11.7246 177.033 11.2949 176.701L12.1543 175.598C13.515 176.483 14.1953 177.811 14.1953 179.582ZM4.72266 179.807C4.72266 180.536 4.98958 181.148 5.52344 181.643C6.05078 182.137 6.79297 182.443 7.75 182.561V177.268H7.61328C6.69531 177.32 5.98568 177.567 5.48438 178.01C4.97656 178.452 4.72266 179.051 4.72266 179.807ZM5.05469 168.254C5.00911 168.527 4.98633 168.824 4.98633 169.143C4.98633 170.327 5.49089 171.132 6.5 171.555H14V173.361H3.43359V171.604L4.6543 171.574C3.71029 170.982 3.23828 170.142 3.23828 169.055C3.23828 168.703 3.28385 168.436 3.375 168.254H5.05469ZM8.62891 167.209C6.98177 167.209 5.67318 166.828 4.70313 166.066C3.72656 165.305 3.23828 164.296 3.23828 163.039C3.23828 161.75 3.69401 160.744 4.60547 160.021L3.43359 159.934V158.283H13.7461C15.1133 158.283 16.1908 158.69 16.9785 159.504C17.7663 160.311 18.1602 161.398 18.1602 162.766C18.1602 163.527 17.9974 164.273 17.6719 165.002C17.3464 165.731 16.9004 166.288 16.334 166.672L15.25 165.734C16.207 164.96 16.6855 164.012 16.6855 162.893C16.6855 162.014 16.4382 161.33 15.9434 160.842C15.4486 160.347 14.752 160.1 13.8535 160.1H12.9453C13.7786 160.822 14.1953 161.809 14.1953 163.059C14.1953 164.296 13.6973 165.298 12.7012 166.066C11.7051 166.828 10.3477 167.209 8.62891 167.209ZM8.83398 165.393C10.0254 165.393 10.9629 165.148 11.6465 164.66C12.3236 164.172 12.6621 163.488 12.6621 162.609C12.6621 161.47 12.1445 160.633 11.1094 160.1H6.28516C5.27604 160.653 4.77148 161.483 4.77148 162.59C4.77148 163.469 5.11328 164.156 5.79688 164.65C6.48047 165.145 7.49284 165.393 8.83398 165.393ZM11.3535 152.092L3.43359 149.631L3.43359 147.697L15.6309 151.945C17.3887 152.603 18.2676 153.648 18.2676 155.08L18.2383 155.422L18.1113 156.096H16.6465L16.6855 155.607C16.6855 154.995 16.5618 154.52 16.3145 154.182C16.0671 153.837 15.6146 153.553 14.957 153.332L13.8828 152.932L3.43359 156.701V154.729L11.3535 152.092ZM15.2207 140.754V142.307L-0.21875 136.369V134.826L15.2207 140.754ZM3.43359 126.203L4.76172 126.145C3.74609 125.337 3.23828 124.283 3.23828 122.98C3.23828 120.747 4.49805 119.621 7.01758 119.602H14V121.408H7.00781C6.24609 121.415 5.68294 121.59 5.31836 121.936C4.95378 122.274 4.77148 122.805 4.77148 123.527C4.77148 124.113 4.92773 124.628 5.24023 125.07C5.55273 125.513 5.96289 125.858 6.4707 126.105H14V127.912H3.43359V126.203ZM14.1953 112.492C14.1953 113.924 13.7266 115.09 12.7891 115.988C11.8451 116.887 10.5853 117.336 9.00977 117.336H8.67773C7.62956 117.336 6.69531 117.137 5.875 116.74C5.04818 116.337 4.40365 115.777 3.94141 115.061C3.47266 114.338 3.23828 113.557 3.23828 112.717C3.23828 111.343 3.69076 110.275 4.5957 109.514C5.50065 108.752 6.79622 108.371 8.48242 108.371H9.23438L9.23438 115.529C10.276 115.503 11.1191 115.201 11.7637 114.621C12.4017 114.035 12.7207 113.293 12.7207 112.395C12.7207 111.757 12.5905 111.216 12.3301 110.773C12.0697 110.331 11.7246 109.943 11.2949 109.611L12.1543 108.508C13.515 109.393 14.1953 110.721 14.1953 112.492ZM4.72266 112.717C4.72266 113.446 4.98958 114.058 5.52344 114.553C6.05078 115.048 6.79297 115.354 7.75 115.471L7.75 110.178H7.61328C6.69531 110.23 5.98568 110.477 5.48438 110.92C4.97656 111.363 4.72266 111.962 4.72266 112.717ZM8.62891 106.701C6.98177 106.701 5.67318 106.32 4.70313 105.559C3.72656 104.797 3.23828 103.788 3.23828 102.531C3.23828 101.242 3.69401 100.236 4.60547 99.5137L3.43359 99.4258V97.7754H13.7461C15.1133 97.7754 16.1908 98.1823 16.9785 98.9961C17.7663 99.8034 18.1602 100.891 18.1602 102.258C18.1602 103.02 17.9974 103.765 17.6719 104.494C17.3464 105.223 16.9004 105.78 16.334 106.164L15.25 105.227C16.207 104.452 16.6855 103.505 16.6855 102.385C16.6855 101.506 16.4382 100.822 15.9434 100.334C15.4486 99.8392 14.752 99.5918 13.8535 99.5918H12.9453C13.7786 100.314 14.1953 101.301 14.1953 102.551C14.1953 103.788 13.6973 104.79 12.7012 105.559C11.7051 106.32 10.3477 106.701 8.62891 106.701ZM8.83398 104.885C10.0254 104.885 10.9629 104.641 11.6465 104.152C12.3236 103.664 12.6621 102.98 12.6621 102.102C12.6621 100.962 12.1445 100.126 11.1094 99.5918H6.28516C5.27604 100.145 4.77148 100.975 4.77148 102.082C4.77148 102.961 5.11328 103.648 5.79688 104.143C6.48047 104.637 7.49284 104.885 8.83398 104.885ZM13.0527 95.002C12.7402 95.002 12.4798 94.9108 12.2715 94.7285C12.0632 94.5397 11.959 94.2598 11.959 93.8887C11.959 93.5176 12.0632 93.2376 12.2715 93.0488C12.4798 92.8535 12.7402 92.7559 13.0527 92.7559C13.3522 92.7559 13.6029 92.8535 13.8047 93.0488C14.0065 93.2376 14.1074 93.5176 14.1074 93.8887C14.1074 94.2598 14.0065 94.5397 13.8047 94.7285C13.6029 94.9108 13.3522 95.002 13.0527 95.002ZM14 82.8438V84.6504H-1V82.8438H14ZM8.61914 80.4219C7.58398 80.4219 6.65299 80.2201 5.82617 79.8164C4.99935 79.4062 4.36133 78.8398 3.91211 78.1172C3.46289 77.388 3.23828 76.5579 3.23828 75.627C3.23828 74.1882 3.73633 73.026 4.73242 72.1406C5.72852 71.2487 7.05339 70.8027 8.70703 70.8027H8.83398C9.86263 70.8027 10.7871 71.0013 11.6074 71.3984C12.4212 71.7891 13.056 72.3522 13.5117 73.0879C13.9674 73.8171 14.1953 74.6569 14.1953 75.6074C14.1953 77.0397 13.6973 78.2018 12.7012 79.0938C11.7051 79.9792 10.3867 80.4219 8.74609 80.4219H8.61914ZM8.83398 78.6055C10.0059 78.6055 10.9466 78.3353 11.6563 77.7949C12.3659 77.248 12.7207 76.5189 12.7207 75.6074C12.7207 74.6895 12.3626 73.9603 11.6465 73.4199C10.9238 72.8796 9.91471 72.6094 8.61914 72.6094C7.46029 72.6094 6.52279 72.8861 5.80664 73.4395C5.08398 73.9863 4.72266 74.7155 4.72266 75.627C4.72266 76.5189 5.07747 77.2383 5.78711 77.7852C6.49674 78.332 7.51237 78.6055 8.83398 78.6055ZM8.62891 68.9668C6.98177 68.9668 5.67318 68.5859 4.70313 67.8242C3.72656 67.0625 3.23828 66.0534 3.23828 64.7969C3.23828 63.5078 3.69401 62.502 4.60547 61.7793L3.43359 61.6914L3.43359 60.041H13.7461C15.1133 60.041 16.1908 60.4479 16.9785 61.2617C17.7663 62.069 18.1602 63.1562 18.1602 64.5234C18.1602 65.2852 17.9974 66.0306 17.6719 66.7598C17.3464 67.4889 16.9004 68.0456 16.334 68.4297L15.25 67.4922C16.207 66.7174 16.6855 65.7702 16.6855 64.6504C16.6855 63.7715 16.4382 63.0879 15.9434 62.5996C15.4486 62.1048 14.752 61.8574 13.8535 61.8574H12.9453C13.7786 62.5801 14.1953 63.5664 14.1953 64.8164C14.1953 66.0534 13.6973 67.056 12.7012 67.8242C11.7051 68.5859 10.3477 68.9668 8.62891 68.9668ZM8.83398 67.1504C10.0254 67.1504 10.9629 66.9062 11.6465 66.418C12.3236 65.9297 12.6621 65.2461 12.6621 64.3672C12.6621 63.2279 12.1445 62.3913 11.1094 61.8574H6.28516C5.27604 62.4108 4.77148 63.2409 4.77148 64.3477C4.77148 65.2266 5.11328 65.9134 5.79688 66.4082C6.48047 66.903 7.49284 67.1504 8.83398 67.1504ZM8.83398 43.4199C10.4421 43.4199 11.7376 43.7878 12.7207 44.5234C13.7038 45.2591 14.1953 46.2552 14.1953 47.5117C14.1953 48.7943 13.7884 49.8034 12.9746 50.5391H18.0625V52.3457H3.43359V50.6953L4.60547 50.6074C3.69401 49.8717 3.23828 48.8496 3.23828 47.541C3.23828 46.2715 3.7168 45.2689 4.67383 44.5332C5.63086 43.791 6.96224 43.4199 8.66797 43.4199H8.83398ZM8.62891 45.2266C7.4375 45.2266 6.49674 45.4805 5.80664 45.9883C5.11654 46.4961 4.77148 47.1927 4.77148 48.0781C4.77148 49.1719 5.25651 49.9922 6.22656 50.5391H11.2754C12.2389 49.9987 12.7207 49.1719 12.7207 48.0586C12.7207 47.1927 12.3789 46.5059 11.6953 45.998C11.0052 45.4837 9.98307 45.2266 8.62891 45.2266ZM5.05469 36.0078C5.00911 36.2812 4.98633 36.5775 4.98633 36.8965C4.98633 38.0814 5.49089 38.8854 6.5 39.3086H14V41.1152H3.43359V39.3574L4.6543 39.3281C3.71029 38.7357 3.23828 37.8958 3.23828 36.8086C3.23828 36.457 3.28385 36.1901 3.375 36.0078H5.05469ZM8.61914 35.0117C7.58398 35.0117 6.65299 34.8099 5.82617 34.4062C4.99935 33.9961 4.36133 33.4297 3.91211 32.707C3.46289 31.9779 3.23828 31.1478 3.23828 30.2168C3.23828 28.778 3.73633 27.6159 4.73242 26.7305C5.72852 25.8385 7.05339 25.3926 8.70703 25.3926H8.83398C9.86263 25.3926 10.7871 25.5911 11.6074 25.9883C12.4212 26.3789 13.056 26.9421 13.5117 27.6777C13.9674 28.4069 14.1953 29.2467 14.1953 30.1973C14.1953 31.6296 13.6973 32.7917 12.7012 33.6836C11.7051 34.569 10.3867 35.0117 8.74609 35.0117H8.61914ZM8.83398 33.1953C10.0059 33.1953 10.9466 32.9251 11.6563 32.3848C12.3659 31.8379 12.7207 31.1087 12.7207 30.1973C12.7207 29.2793 12.3626 28.5501 11.6465 28.0098C10.9238 27.4694 9.91471 27.1992 8.61914 27.1992C7.46029 27.1992 6.52279 27.4759 5.80664 28.0293C5.08398 28.5762 4.72266 29.3053 4.72266 30.2168C4.72266 31.1087 5.07747 31.8281 5.78711 32.375C6.49674 32.9219 7.51237 33.1953 8.83398 33.1953ZM8.83398 14.1816C10.4486 14.1816 11.7474 14.5527 12.7305 15.2949C13.707 16.0371 14.1953 17.0332 14.1953 18.2832C14.1953 19.6178 13.7233 20.6497 12.7793 21.3789L14 21.4668V23.127H-1V21.3203H4.5957C3.69076 20.5911 3.23828 19.5853 3.23828 18.3027C3.23828 17.0202 3.72331 16.0143 4.69336 15.2852C5.66341 14.5495 6.99154 14.1816 8.67773 14.1816H8.83398ZM8.62891 15.9883C7.39844 15.9883 6.44792 16.2259 5.77734 16.7012C5.10677 17.1764 4.77148 17.86 4.77148 18.752C4.77148 19.9434 5.32487 20.7995 6.43164 21.3203H11.002C12.1087 20.7669 12.6621 19.9043 12.6621 18.7324C12.6621 17.8665 12.3268 17.1927 11.6563 16.7109C10.9857 16.2292 9.97656 15.9883 8.62891 15.9883Z" fill="black"/>
            </g>
            <g id="key">
            <path id="Huber" d="M135.344 51H133.553V44.7563H126.744V51H124.962V37.4922H126.744V43.2998H133.553V37.4922H135.344V51ZM144.436 50.0073C143.768 50.7928 142.787 51.1855 141.495 51.1855C140.425 51.1855 139.608 50.8763 139.045 50.2578C138.489 49.6331 138.207 48.7116 138.201 47.4932V40.9619H139.917V47.4468C139.917 48.9683 140.536 49.729 141.773 49.729C143.084 49.729 143.956 49.2404 144.389 48.2632V40.9619H146.105V51H144.473L144.436 50.0073ZM157.22 46.0923C157.22 47.6261 156.867 48.86 156.162 49.7939C155.457 50.7217 154.511 51.1855 153.323 51.1855C152.055 51.1855 151.075 50.7371 150.382 49.8403L150.299 51H148.722V36.75H150.438V42.0659C151.131 41.2062 152.086 40.7764 153.305 40.7764C154.523 40.7764 155.479 41.2371 156.171 42.1587C156.87 43.0802 157.22 44.342 157.22 45.9438V46.0923ZM155.503 45.8975C155.503 44.7285 155.278 43.8255 154.826 43.1885C154.375 42.5514 153.725 42.2329 152.878 42.2329C151.746 42.2329 150.933 42.7586 150.438 43.8101V48.1519C150.964 49.2033 151.783 49.729 152.896 49.729C153.719 49.729 154.359 49.4105 154.817 48.7734C155.275 48.1364 155.503 47.1777 155.503 45.8975ZM163.556 51.1855C162.195 51.1855 161.088 50.7402 160.235 49.8496C159.381 48.9528 158.955 47.756 158.955 46.2593V45.9438C158.955 44.9481 159.143 44.0605 159.521 43.2812C159.904 42.4958 160.436 41.8835 161.116 41.4443C161.803 40.999 162.545 40.7764 163.343 40.7764C164.648 40.7764 165.662 41.2062 166.386 42.0659C167.109 42.9256 167.471 44.1564 167.471 45.7583V46.4727H160.671C160.696 47.4622 160.983 48.2632 161.534 48.8755C162.09 49.4816 162.795 49.7847 163.649 49.7847C164.255 49.7847 164.768 49.661 165.189 49.4136C165.61 49.1662 165.978 48.8384 166.293 48.4302L167.341 49.2466C166.5 50.5392 165.238 51.1855 163.556 51.1855ZM163.343 42.1865C162.65 42.1865 162.069 42.4401 161.599 42.9473C161.129 43.4482 160.838 44.1533 160.727 45.0625H165.755V44.9326C165.705 44.0605 165.47 43.3864 165.05 42.9102C164.629 42.4277 164.06 42.1865 163.343 42.1865ZM174.318 42.502C174.058 42.4587 173.777 42.437 173.474 42.437C172.348 42.437 171.584 42.9163 171.182 43.875V51H169.466V40.9619H171.136L171.164 42.1216C171.726 41.2248 172.524 40.7764 173.557 40.7764C173.891 40.7764 174.145 40.8197 174.318 40.9062V42.502Z" fill="black"/>
            <path id="Gaussian" d="M134.64 26.228C134.182 26.8836 133.542 27.3753 132.72 27.7031C131.903 28.0247 130.951 28.1855 129.862 28.1855C128.761 28.1855 127.784 27.9289 126.931 27.4155C126.077 26.896 125.415 26.16 124.945 25.2075C124.481 24.255 124.243 23.151 124.231 21.8955V20.7173C124.231 18.6825 124.704 17.1053 125.65 15.9858C126.603 14.8664 127.939 14.3066 129.658 14.3066C131.068 14.3066 132.203 14.6685 133.063 15.3921C133.923 16.1095 134.448 17.13 134.64 18.4536H132.859C132.525 16.6662 131.461 15.7725 129.667 15.7725C128.474 15.7725 127.568 16.193 126.949 17.0342C126.337 17.8691 126.028 19.0814 126.021 20.6709V21.7749C126.021 23.2902 126.368 24.4963 127.061 25.3931C127.753 26.2837 128.69 26.729 129.872 26.729C130.54 26.729 131.124 26.6548 131.625 26.5063C132.126 26.3579 132.54 26.1074 132.868 25.7549V22.7212H129.742V21.2739H134.64V26.228ZM143.546 28C143.447 27.8021 143.367 27.4495 143.305 26.9424C142.507 27.7712 141.555 28.1855 140.448 28.1855C139.458 28.1855 138.645 27.9072 138.008 27.3506C137.377 26.7878 137.062 26.0765 137.062 25.2168C137.062 24.1715 137.457 23.3613 138.249 22.7861C139.047 22.2048 140.166 21.9141 141.607 21.9141H143.277V21.1255C143.277 20.5256 143.098 20.0493 142.739 19.6968C142.381 19.3381 141.852 19.1587 141.153 19.1587C140.541 19.1587 140.027 19.3133 139.613 19.6226C139.198 19.9318 138.991 20.306 138.991 20.7451H137.266C137.266 20.2441 137.442 19.7617 137.794 19.2979C138.153 18.8278 138.636 18.4567 139.242 18.1846C139.854 17.9124 140.525 17.7764 141.255 17.7764C142.411 17.7764 143.318 18.0671 143.973 18.6484C144.629 19.2236 144.969 20.0184 144.994 21.0327V25.6528C144.994 26.5744 145.111 27.3073 145.346 27.8516V28H143.546ZM140.698 26.6919C141.236 26.6919 141.747 26.5527 142.229 26.2744C142.711 25.9961 143.061 25.6343 143.277 25.189V23.1294H141.932C139.829 23.1294 138.778 23.7448 138.778 24.9756C138.778 25.5137 138.957 25.9342 139.316 26.2373C139.675 26.5404 140.135 26.6919 140.698 26.6919ZM153.881 27.0073C153.213 27.7928 152.233 28.1855 150.94 28.1855C149.87 28.1855 149.054 27.8763 148.491 27.2578C147.935 26.6331 147.653 25.7116 147.647 24.4932V17.9619H149.363V24.4468C149.363 25.9683 149.982 26.729 151.219 26.729C152.53 26.729 153.402 26.2404 153.835 25.2632V17.9619H155.551V28H153.918L153.881 27.0073ZM164.012 25.3374C164.012 24.8735 163.836 24.5148 163.483 24.2612C163.137 24.0015 162.528 23.7788 161.656 23.5933C160.79 23.4077 160.1 23.1851 159.587 22.9253C159.08 22.6655 158.702 22.3563 158.455 21.9976C158.214 21.6388 158.093 21.2121 158.093 20.7173C158.093 19.8947 158.44 19.1989 159.132 18.6299C159.831 18.0609 160.722 17.7764 161.804 17.7764C162.942 17.7764 163.864 18.0701 164.569 18.6577C165.28 19.2453 165.636 19.9967 165.636 20.9121H163.91C163.91 20.4421 163.709 20.0369 163.307 19.6968C162.911 19.3566 162.41 19.1865 161.804 19.1865C161.18 19.1865 160.691 19.3226 160.338 19.5947C159.986 19.8669 159.81 20.2225 159.81 20.6616C159.81 21.076 159.973 21.3883 160.301 21.5986C160.629 21.8089 161.22 22.0099 162.073 22.2017C162.933 22.3934 163.629 22.6222 164.161 22.8882C164.693 23.1541 165.085 23.4757 165.339 23.853C165.599 24.2241 165.729 24.6787 165.729 25.2168C165.729 26.1136 165.37 26.8341 164.652 27.3784C163.935 27.9165 163.004 28.1855 161.86 28.1855C161.056 28.1855 160.345 28.0433 159.726 27.7588C159.108 27.4743 158.622 27.0785 158.27 26.5713C157.923 26.0579 157.75 25.5044 157.75 24.9106H159.466C159.497 25.4858 159.726 25.9435 160.153 26.2837C160.586 26.6177 161.155 26.7847 161.86 26.7847C162.509 26.7847 163.029 26.6548 163.418 26.395C163.814 26.1291 164.012 25.7765 164.012 25.3374ZM173.809 25.3374C173.809 24.8735 173.633 24.5148 173.28 24.2612C172.934 24.0015 172.325 23.7788 171.453 23.5933C170.587 23.4077 169.897 23.1851 169.384 22.9253C168.877 22.6655 168.499 22.3563 168.252 21.9976C168.011 21.6388 167.89 21.2121 167.89 20.7173C167.89 19.8947 168.236 19.1989 168.929 18.6299C169.628 18.0609 170.519 17.7764 171.601 17.7764C172.739 17.7764 173.661 18.0701 174.366 18.6577C175.077 19.2453 175.433 19.9967 175.433 20.9121H173.707C173.707 20.4421 173.506 20.0369 173.104 19.6968C172.708 19.3566 172.207 19.1865 171.601 19.1865C170.976 19.1865 170.488 19.3226 170.135 19.5947C169.783 19.8669 169.606 20.2225 169.606 20.6616C169.606 21.076 169.77 21.3883 170.098 21.5986C170.426 21.8089 171.017 22.0099 171.87 22.2017C172.73 22.3934 173.426 22.6222 173.958 22.8882C174.489 23.1541 174.882 23.4757 175.136 23.853C175.396 24.2241 175.525 24.6787 175.525 25.2168C175.525 26.1136 175.167 26.8341 174.449 27.3784C173.732 27.9165 172.801 28.1855 171.657 28.1855C170.853 28.1855 170.141 28.0433 169.523 27.7588C168.904 27.4743 168.419 27.0785 168.066 26.5713C167.72 26.0579 167.547 25.5044 167.547 24.9106H169.263C169.294 25.4858 169.523 25.9435 169.95 26.2837C170.383 26.6177 170.952 26.7847 171.657 26.7847C172.306 26.7847 172.826 26.6548 173.215 26.395C173.611 26.1291 173.809 25.7765 173.809 25.3374ZM179.626 28H177.91V17.9619H179.626V28ZM177.771 15.2993C177.771 15.021 177.854 14.786 178.021 14.5942C178.194 14.4025 178.448 14.3066 178.782 14.3066C179.116 14.3066 179.369 14.4025 179.542 14.5942C179.716 14.786 179.802 15.021 179.802 15.2993C179.802 15.5776 179.716 15.8096 179.542 15.9951C179.369 16.1807 179.116 16.2734 178.782 16.2734C178.448 16.2734 178.194 16.1807 178.021 15.9951C177.854 15.8096 177.771 15.5776 177.771 15.2993ZM188.579 28C188.48 27.8021 188.399 27.4495 188.337 26.9424C187.54 27.7712 186.587 28.1855 185.48 28.1855C184.49 28.1855 183.677 27.9072 183.04 27.3506C182.409 26.7878 182.094 26.0765 182.094 25.2168C182.094 24.1715 182.49 23.3613 183.281 22.7861C184.079 22.2048 185.199 21.9141 186.64 21.9141H188.31V21.1255C188.31 20.5256 188.13 20.0493 187.771 19.6968C187.413 19.3381 186.884 19.1587 186.185 19.1587C185.573 19.1587 185.059 19.3133 184.645 19.6226C184.231 19.9318 184.023 20.306 184.023 20.7451H182.298C182.298 20.2441 182.474 19.7617 182.827 19.2979C183.185 18.8278 183.668 18.4567 184.274 18.1846C184.886 17.9124 185.557 17.7764 186.287 17.7764C187.444 17.7764 188.35 18.0671 189.005 18.6484C189.661 19.2236 190.001 20.0184 190.026 21.0327V25.6528C190.026 26.5744 190.143 27.3073 190.378 27.8516V28H188.579ZM185.73 26.6919C186.269 26.6919 186.779 26.5527 187.261 26.2744C187.744 25.9961 188.093 25.6343 188.31 25.189V23.1294H186.964C184.861 23.1294 183.81 23.7448 183.81 24.9756C183.81 25.5137 183.989 25.9342 184.348 26.2373C184.707 26.5404 185.168 26.6919 185.73 26.6919ZM194.34 17.9619L194.396 19.2236C195.162 18.2588 196.164 17.7764 197.401 17.7764C199.523 17.7764 200.593 18.9731 200.611 21.3667V28H198.895V21.3574C198.889 20.6338 198.722 20.0988 198.394 19.7524C198.072 19.4061 197.568 19.2329 196.882 19.2329C196.325 19.2329 195.837 19.3813 195.416 19.6782C194.995 19.9751 194.668 20.3647 194.433 20.8472V28H192.716V17.9619H194.34Z" fill="black"/>
            <path id="Rescaled Gaussian" d="M129.625 69.5356H126.452V75H124.661V61.4922H129.133C130.654 61.4922 131.823 61.8385 132.64 62.5312C133.462 63.224 133.874 64.2321 133.874 65.5557C133.874 66.3968 133.645 67.1297 133.187 67.7544C132.736 68.3791 132.105 68.846 131.294 69.1553L134.467 74.8887V75H132.556L129.625 69.5356ZM126.452 68.0791H129.188C130.073 68.0791 130.775 67.8503 131.294 67.3926C131.82 66.9349 132.083 66.3226 132.083 65.5557C132.083 64.7207 131.833 64.0806 131.332 63.6353C130.837 63.1899 130.119 62.9642 129.179 62.958H126.452V68.0791ZM140.275 75.1855C138.914 75.1855 137.807 74.7402 136.954 73.8496C136.1 72.9528 135.673 71.756 135.673 70.2593V69.9438C135.673 68.9481 135.862 68.0605 136.239 67.2812C136.623 66.4958 137.155 65.8835 137.835 65.4443C138.521 64.999 139.264 64.7764 140.062 64.7764C141.367 64.7764 142.381 65.2062 143.104 66.0659C143.828 66.9256 144.19 68.1564 144.19 69.7583V70.4727H137.39C137.414 71.4622 137.702 72.2632 138.252 72.8755C138.809 73.4816 139.514 73.7847 140.368 73.7847C140.974 73.7847 141.487 73.661 141.908 73.4136C142.328 73.1662 142.696 72.8384 143.012 72.4302L144.06 73.2466C143.219 74.5392 141.957 75.1855 140.275 75.1855ZM140.062 66.1865C139.369 66.1865 138.787 66.4401 138.317 66.9473C137.847 67.4482 137.557 68.1533 137.445 69.0625H142.474V68.9326C142.424 68.0605 142.189 67.3864 141.769 66.9102C141.348 66.4277 140.779 66.1865 140.062 66.1865ZM152.029 72.3374C152.029 71.8735 151.853 71.5148 151.5 71.2612C151.154 71.0015 150.545 70.7788 149.673 70.5933C148.807 70.4077 148.117 70.1851 147.604 69.9253C147.097 69.6655 146.72 69.3563 146.472 68.9976C146.231 68.6388 146.11 68.2121 146.11 67.7173C146.11 66.8947 146.457 66.1989 147.149 65.6299C147.848 65.0609 148.739 64.7764 149.821 64.7764C150.959 64.7764 151.881 65.0701 152.586 65.6577C153.297 66.2453 153.653 66.9967 153.653 67.9121H151.927C151.927 67.4421 151.726 67.0369 151.324 66.6968C150.928 66.3566 150.427 66.1865 149.821 66.1865C149.197 66.1865 148.708 66.3226 148.355 66.5947C148.003 66.8669 147.827 67.2225 147.827 67.6616C147.827 68.076 147.991 68.3883 148.318 68.5986C148.646 68.8089 149.237 69.0099 150.09 69.2017C150.95 69.3934 151.646 69.6222 152.178 69.8882C152.71 70.1541 153.102 70.4757 153.356 70.853C153.616 71.2241 153.746 71.6787 153.746 72.2168C153.746 73.1136 153.387 73.8341 152.669 74.3784C151.952 74.9165 151.021 75.1855 149.877 75.1855C149.073 75.1855 148.362 75.0433 147.743 74.7588C147.125 74.4743 146.639 74.0785 146.287 73.5713C145.94 73.0579 145.767 72.5044 145.767 71.9106H147.483C147.514 72.4858 147.743 72.9435 148.17 73.2837C148.603 73.6177 149.172 73.7847 149.877 73.7847C150.526 73.7847 151.046 73.6548 151.436 73.395C151.831 73.1291 152.029 72.7765 152.029 72.3374ZM160.008 73.7847C160.62 73.7847 161.155 73.5991 161.613 73.228C162.07 72.8569 162.324 72.3931 162.374 71.8364H163.997C163.966 72.4116 163.768 72.959 163.403 73.4785C163.038 73.998 162.55 74.4124 161.938 74.7217C161.331 75.0309 160.688 75.1855 160.008 75.1855C158.641 75.1855 157.552 74.731 156.742 73.8218C155.938 72.9064 155.536 71.6571 155.536 70.0737V69.7861C155.536 68.8089 155.715 67.9399 156.074 67.1792C156.433 66.4185 156.946 65.8278 157.614 65.4072C158.288 64.9867 159.083 64.7764 159.999 64.7764C161.124 64.7764 162.058 65.1134 162.8 65.7876C163.549 66.4618 163.948 67.3369 163.997 68.4131H162.374C162.324 67.7637 162.077 67.2318 161.631 66.8174C161.192 66.3968 160.648 66.1865 159.999 66.1865C159.126 66.1865 158.449 66.502 157.967 67.1328C157.491 67.7575 157.252 68.6636 157.252 69.8511V70.1758C157.252 71.3324 157.491 72.223 157.967 72.8477C158.443 73.4723 159.123 73.7847 160.008 73.7847ZM172.124 75C172.025 74.8021 171.945 74.4495 171.883 73.9424C171.085 74.7712 170.132 75.1855 169.025 75.1855C168.036 75.1855 167.222 74.9072 166.585 74.3506C165.955 73.7878 165.639 73.0765 165.639 72.2168C165.639 71.1715 166.035 70.3613 166.827 69.7861C167.625 69.2048 168.744 68.9141 170.185 68.9141H171.855V68.1255C171.855 67.5256 171.676 67.0493 171.317 66.6968C170.958 66.3381 170.429 66.1587 169.73 66.1587C169.118 66.1587 168.605 66.3133 168.19 66.6226C167.776 66.9318 167.569 67.306 167.569 67.7451H165.843C165.843 67.2441 166.02 66.7617 166.372 66.2979C166.731 65.8278 167.213 65.4567 167.819 65.1846C168.432 64.9124 169.103 64.7764 169.833 64.7764C170.989 64.7764 171.895 65.0671 172.551 65.6484C173.206 66.2236 173.547 67.0184 173.571 68.0327V72.6528C173.571 73.5744 173.689 74.3073 173.924 74.8516V75H172.124ZM169.276 73.6919C169.814 73.6919 170.324 73.5527 170.807 73.2744C171.289 72.9961 171.639 72.6343 171.855 72.189V70.1294H170.51C168.407 70.1294 167.355 70.7448 167.355 71.9756C167.355 72.5137 167.535 72.9342 167.894 73.2373C168.252 73.5404 168.713 73.6919 169.276 73.6919ZM178.126 75H176.41V60.75H178.126V75ZM185.047 75.1855C183.687 75.1855 182.58 74.7402 181.726 73.8496C180.873 72.9528 180.446 71.756 180.446 70.2593V69.9438C180.446 68.9481 180.634 68.0605 181.012 67.2812C181.395 66.4958 181.927 65.8835 182.607 65.4443C183.294 64.999 184.036 64.7764 184.834 64.7764C186.139 64.7764 187.153 65.2062 187.877 66.0659C188.601 66.9256 188.962 68.1564 188.962 69.7583V70.4727H182.162C182.187 71.4622 182.474 72.2632 183.025 72.8755C183.582 73.4816 184.287 73.7847 185.14 73.7847C185.746 73.7847 186.26 73.661 186.68 73.4136C187.101 73.1662 187.469 72.8384 187.784 72.4302L188.833 73.2466C187.991 74.5392 186.73 75.1855 185.047 75.1855ZM184.834 66.1865C184.141 66.1865 183.56 66.4401 183.09 66.9473C182.62 67.4482 182.329 68.1533 182.218 69.0625H187.246V68.9326C187.197 68.0605 186.962 67.3864 186.541 66.9102C186.12 66.4277 185.551 66.1865 184.834 66.1865ZM190.54 69.8975C190.54 68.3574 190.904 67.1204 191.634 66.1865C192.364 65.2464 193.32 64.7764 194.501 64.7764C195.676 64.7764 196.607 65.1784 197.293 65.9824V60.75H199.01V75H197.433L197.349 73.9238C196.663 74.765 195.707 75.1855 194.482 75.1855C193.32 75.1855 192.37 74.7093 191.634 73.7568C190.904 72.8044 190.54 71.5612 190.54 70.0273V69.8975ZM192.256 70.0923C192.256 71.2303 192.491 72.1209 192.961 72.7642C193.431 73.4074 194.08 73.729 194.909 73.729C195.998 73.729 196.792 73.2404 197.293 72.2632V67.6523C196.78 66.7061 195.992 66.2329 194.928 66.2329C194.087 66.2329 193.431 66.5576 192.961 67.207C192.491 67.8564 192.256 68.8182 192.256 70.0923ZM216.637 73.228C216.179 73.8836 215.539 74.3753 214.716 74.7031C213.9 75.0247 212.947 75.1855 211.859 75.1855C210.758 75.1855 209.781 74.9289 208.927 74.4155C208.074 73.896 207.412 73.16 206.942 72.2075C206.478 71.255 206.24 70.151 206.228 68.8955V67.7173C206.228 65.6825 206.701 64.1053 207.647 62.9858C208.599 61.8664 209.935 61.3066 211.655 61.3066C213.065 61.3066 214.2 61.6685 215.06 62.3921C215.919 63.1095 216.445 64.13 216.637 65.4536H214.855C214.521 63.6662 213.458 62.7725 211.664 62.7725C210.47 62.7725 209.564 63.193 208.946 64.0342C208.333 64.8691 208.024 66.0814 208.018 67.6709V68.7749C208.018 70.2902 208.364 71.4963 209.057 72.3931C209.75 73.2837 210.687 73.729 211.868 73.729C212.536 73.729 213.121 73.6548 213.622 73.5063C214.123 73.3579 214.537 73.1074 214.865 72.7549V69.7212H211.738V68.2739H216.637V73.228ZM225.543 75C225.444 74.8021 225.364 74.4495 225.302 73.9424C224.504 74.7712 223.551 75.1855 222.444 75.1855C221.455 75.1855 220.641 74.9072 220.004 74.3506C219.374 73.7878 219.058 73.0765 219.058 72.2168C219.058 71.1715 219.454 70.3613 220.246 69.7861C221.043 69.2048 222.163 68.9141 223.604 68.9141H225.274V68.1255C225.274 67.5256 225.095 67.0493 224.736 66.6968C224.377 66.3381 223.848 66.1587 223.149 66.1587C222.537 66.1587 222.024 66.3133 221.609 66.6226C221.195 66.9318 220.988 67.306 220.988 67.7451H219.262C219.262 67.2441 219.438 66.7617 219.791 66.2979C220.15 65.8278 220.632 65.4567 221.238 65.1846C221.851 64.9124 222.522 64.7764 223.251 64.7764C224.408 64.7764 225.314 65.0671 225.97 65.6484C226.625 66.2236 226.965 67.0184 226.99 68.0327V72.6528C226.99 73.5744 227.108 74.3073 227.343 74.8516V75H225.543ZM222.695 73.6919C223.233 73.6919 223.743 73.5527 224.226 73.2744C224.708 72.9961 225.057 72.6343 225.274 72.189V70.1294H223.929C221.826 70.1294 220.774 70.7448 220.774 71.9756C220.774 72.5137 220.954 72.9342 221.312 73.2373C221.671 73.5404 222.132 73.6919 222.695 73.6919ZM235.878 74.0073C235.21 74.7928 234.23 75.1855 232.937 75.1855C231.867 75.1855 231.051 74.8763 230.488 74.2578C229.931 73.6331 229.65 72.7116 229.644 71.4932V64.9619H231.36V71.4468C231.36 72.9683 231.978 73.729 233.215 73.729C234.527 73.729 235.399 73.2404 235.832 72.2632V64.9619H237.548V75H235.915L235.878 74.0073ZM246.009 72.3374C246.009 71.8735 245.833 71.5148 245.48 71.2612C245.134 71.0015 244.524 70.7788 243.652 70.5933C242.786 70.4077 242.097 70.1851 241.583 69.9253C241.076 69.6655 240.699 69.3563 240.452 68.9976C240.21 68.6388 240.09 68.2121 240.09 67.7173C240.09 66.8947 240.436 66.1989 241.129 65.6299C241.828 65.0609 242.718 64.7764 243.801 64.7764C244.939 64.7764 245.86 65.0701 246.565 65.6577C247.277 66.2453 247.632 66.9967 247.632 67.9121H245.907C245.907 67.4421 245.706 67.0369 245.304 66.6968C244.908 66.3566 244.407 66.1865 243.801 66.1865C243.176 66.1865 242.688 66.3226 242.335 66.5947C241.982 66.8669 241.806 67.2225 241.806 67.6616C241.806 68.076 241.97 68.3883 242.298 68.5986C242.626 68.8089 243.216 69.0099 244.07 69.2017C244.93 69.3934 245.625 69.6222 246.157 69.8882C246.689 70.1541 247.082 70.4757 247.335 70.853C247.595 71.2241 247.725 71.6787 247.725 72.2168C247.725 73.1136 247.366 73.8341 246.649 74.3784C245.931 74.9165 245.001 75.1855 243.856 75.1855C243.052 75.1855 242.341 75.0433 241.723 74.7588C241.104 74.4743 240.619 74.0785 240.266 73.5713C239.92 73.0579 239.747 72.5044 239.747 71.9106H241.463C241.494 72.4858 241.723 72.9435 242.149 73.2837C242.582 73.6177 243.151 73.7847 243.856 73.7847C244.506 73.7847 245.025 73.6548 245.415 73.395C245.811 73.1291 246.009 72.7765 246.009 72.3374ZM255.806 72.3374C255.806 71.8735 255.629 71.5148 255.277 71.2612C254.931 71.0015 254.321 70.7788 253.449 70.5933C252.583 70.4077 251.894 70.1851 251.38 69.9253C250.873 69.6655 250.496 69.3563 250.249 68.9976C250.007 68.6388 249.887 68.2121 249.887 67.7173C249.887 66.8947 250.233 66.1989 250.926 65.6299C251.625 65.0609 252.515 64.7764 253.598 64.7764C254.736 64.7764 255.657 65.0701 256.362 65.6577C257.074 66.2453 257.429 66.9967 257.429 67.9121H255.704C255.704 67.4421 255.503 67.0369 255.101 66.6968C254.705 66.3566 254.204 66.1865 253.598 66.1865C252.973 66.1865 252.484 66.3226 252.132 66.5947C251.779 66.8669 251.603 67.2225 251.603 67.6616C251.603 68.076 251.767 68.3883 252.095 68.5986C252.423 68.8089 253.013 69.0099 253.867 69.2017C254.726 69.3934 255.422 69.6222 255.954 69.8882C256.486 70.1541 256.879 70.4757 257.132 70.853C257.392 71.2241 257.522 71.6787 257.522 72.2168C257.522 73.1136 257.163 73.8341 256.446 74.3784C255.728 74.9165 254.798 75.1855 253.653 75.1855C252.849 75.1855 252.138 75.0433 251.52 74.7588C250.901 74.4743 250.416 74.0785 250.063 73.5713C249.717 73.0579 249.543 72.5044 249.543 71.9106H251.26C251.291 72.4858 251.52 72.9435 251.946 73.2837C252.379 73.6177 252.948 73.7847 253.653 73.7847C254.303 73.7847 254.822 73.6548 255.212 73.395C255.608 73.1291 255.806 72.7765 255.806 72.3374ZM261.623 75H259.906V64.9619H261.623V75ZM259.767 62.2993C259.767 62.021 259.851 61.786 260.018 61.5942C260.191 61.4025 260.444 61.3066 260.778 61.3066C261.112 61.3066 261.366 61.4025 261.539 61.5942C261.712 61.786 261.799 62.021 261.799 62.2993C261.799 62.5776 261.712 62.8096 261.539 62.9951C261.366 63.1807 261.112 63.2734 260.778 63.2734C260.444 63.2734 260.191 63.1807 260.018 62.9951C259.851 62.8096 259.767 62.5776 259.767 62.2993ZM270.575 75C270.476 74.8021 270.396 74.4495 270.334 73.9424C269.536 74.7712 268.584 75.1855 267.477 75.1855C266.487 75.1855 265.674 74.9072 265.037 74.3506C264.406 73.7878 264.09 73.0765 264.09 72.2168C264.09 71.1715 264.486 70.3613 265.278 69.7861C266.076 69.2048 267.195 68.9141 268.636 68.9141H270.306V68.1255C270.306 67.5256 270.127 67.0493 269.768 66.6968C269.409 66.3381 268.881 66.1587 268.182 66.1587C267.569 66.1587 267.056 66.3133 266.642 66.6226C266.227 66.9318 266.02 67.306 266.02 67.7451H264.294C264.294 67.2441 264.471 66.7617 264.823 66.2979C265.182 65.8278 265.664 65.4567 266.271 65.1846C266.883 64.9124 267.554 64.7764 268.284 64.7764C269.44 64.7764 270.346 65.0671 271.002 65.6484C271.658 66.2236 271.998 67.0184 272.022 68.0327V72.6528C272.022 73.5744 272.14 74.3073 272.375 74.8516V75H270.575ZM267.727 73.6919C268.265 73.6919 268.775 73.5527 269.258 73.2744C269.74 72.9961 270.09 72.6343 270.306 72.189V70.1294H268.961C266.858 70.1294 265.807 70.7448 265.807 71.9756C265.807 72.5137 265.986 72.9342 266.345 73.2373C266.703 73.5404 267.164 73.6919 267.727 73.6919ZM276.336 64.9619L276.392 66.2236C277.159 65.2588 278.161 64.7764 279.398 64.7764C281.519 64.7764 282.589 65.9731 282.608 68.3667V75H280.892V68.3574C280.885 67.6338 280.718 67.0988 280.391 66.7524C280.069 66.4061 279.565 66.2329 278.878 66.2329C278.322 66.2329 277.833 66.3813 277.413 66.6782C276.992 66.9751 276.664 67.3647 276.429 67.8472V75H274.713V64.9619H276.336Z" fill="black"/>
            <line id="Line 1" x1="85" y1="44" x2="116" y2="44" stroke="#007BFF" stroke-width="2"/>
            <line id="Line 2" x1="85" y1="68" x2="116" y2="68" stroke="#3DB867" stroke-width="2"/>
            <line id="Line 3" x1="85" y1="22" x2="116" y2="22" stroke="#FF6600" stroke-width="2"/>
            </g>

            <path class="gauss curve" d="{square_loss_path}"/>
            <path class="huber curve" d="{huber_loss_path}"/>
            <path class="rescaled curve" d="{rescaled_loss_path}"/>
            <path class="gauss curve" d="{square_prob_path}"/>
            <path class="huber curve" d="{huber_prob_path}"/>
            <path class="rescaled curve" d="{rescaled_prob_path}"/>

            <!-- <line class="boundary" x1="{map_x(delta)}" x2="{map_x(delta)}" y1="11.8" y2="430.55"/> -->
            <!-- <line class="boundary" x1="{map_x(-delta)}" x2="{map_x(-delta)}" y1="11.8" y2="430.55"/> -->

            <circle class="transition" cx="{map_x(delta)}" cy="{map_y_loss(huber_loss(delta))}" r="4"/>
            <circle class="transition" cx="{map_x(-delta)}" cy="{map_y_loss(huber_loss(-delta))}" r="4"/>
            <circle class="transition" cx="{map_x(delta)}" cy="{map_y_prob(huber_prob(delta))}" r="4"/>
            <circle class="transition" cx="{map_x(-delta)}" cy="{map_y_prob(huber_prob(-delta))}" r="4"/>

            <line id="track" x1="{mouse_x}" x2="{mouse_x}" y1="11.8" y2="430.55"/>

            <circle class="ball" cx="{mouse_x}" cy="{map_y_loss(huber_loss(map_inv_x(mouse_x)))}" r="6"/>
            <circle class="ball" cx="{mouse_x}" cy="{map_y_prob(huber_prob(map_inv_x(mouse_x)))}" r="6"/>

        </svg>
    </div>

    <figcaption style="text-align: center;">
        Move your mouse over the figure to set the residual and observe how the rescaled Gaussian changes. 
        The Huber loss transitions at the blue dots.
    </figcaption>

</figure>

