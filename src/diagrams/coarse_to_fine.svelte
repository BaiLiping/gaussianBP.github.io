<script>
    import { onMount } from 'svelte';
    import { onInterval, randomColor } from '../utils/util.js';
    import * as d3 from 'd3';
    import * as m from 'ml-matrix';
    import * as gauss from '../utils/gaussian';

    function makeArr(startValue, stopValue, cardinality) {
        var arr = [];
        var step = (stopValue - startValue) / (cardinality - 1);
        for (var i = 0; i < cardinality; i++) {
            arr.push(startValue + (step * i));
        }
        return arr;
    }

    export class FactorGraph {
        constructor() {
            this.var_nodes = [];
            this.factors = [];
        }

        update_beliefs() {
            for(var c=0; c<this.var_nodes.length; c++) {
                this.var_nodes[c].update_belief();
            }
        }

        send_messages() {
            for(var c=0; c<this.factors.length; c++) {
                this.factors[c].compute_messages();
            }
        }

        sync_iter() {
            this.send_messages();
            this.update_beliefs();
        }

        relin_all() {
            for(var c=0; c<this.factors.length; c++) {
                if (this.factors[c] instanceof NonLinearUnaryFactor) {
                    this.factors[c].compute_factor();
                }
            }
        }

        belief_means() {
            let means = [];
            for(var c=0; c<this.var_nodes.length; c++) {
                means.push(this.var_nodes[c].belief.getMean().get(0, 0));
            }
            return means;
        }
        
        energy() {
            let energy = 0.;
            for (var c=0; c<this.factors.length; c++) {
                energy += this.factors[c].energy();
            }
            return energy;
        }

        av_energy() {
            return this.energy() / this.var_nodes.length;
        }

        av_offset_err() {
            let err = 0.;
            const n = this.var_nodes.length;
            for(var c=0; c<n; c++) {
                const mean = this.var_nodes[c].belief.getMean().get(0, 0);
                const res = mean - shift(this.factors[n - 1 + c].x) + this.factors[n - 1 + c].x;
                err += Math.abs(res);
            }
            return err / this.var_nodes.length;
        }
    }

    export class VariableNode {
        constructor(id, prior_mean, prior_cov) {
            this.var_id = id;
            this.prior = new gauss.Gaussian(new m.Matrix([[prior_mean/prior_cov]]), new m.Matrix([[1./prior_cov]]));
            this.belief = new gauss.Gaussian(this.prior.eta.clone(), this.prior.lam.clone());
            this.adj_factors = [];
        }

        update_belief() {
            this.belief.eta = this.prior.eta.clone();
            this.belief.lam = this.prior.lam.clone();

            // Take product of incoming messages
            for(var c=0; c<this.adj_factors.length; c++) {
                var ix = this.adj_factors[c].adj_var_ids.indexOf(this.var_id);
                this.belief.product(this.adj_factors[c].messages[ix])
            }

            this.send_beliefs();
        }

        send_beliefs() {  // Send new belief to adjacent factors
            for(var c=0; c<this.adj_factors.length; c++) {
                var ix = this.adj_factors[c].adj_var_ids.indexOf(this.var_id);
                this.adj_factors[c].adj_beliefs[ix] = this.belief;
            }
        }
    }

    export class LinearBinaryFactor {
        constructor(adj_var_ids, factor_eta, factor_lam) {
            this.adj_var_ids = adj_var_ids;
            this.adj_beliefs = [new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1)), new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1))];
            this.messages = [new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1)), new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1))];
            this.factor = new gauss.Gaussian(factor_eta, factor_lam);
        }

        compute_messages() {
            const mess1 = new gauss.Gaussian([[0]], [[0]]);
            mess1.eta = new m.Matrix([[this.factor.eta.get(1, 0) - 
                this.factor.lam.get(1, 0) * (this.factor.eta.get(0, 0) + this.adj_beliefs[0].eta.get(0, 0) - this.messages[0].eta.get(0, 0)) / 
                (this.factor.lam.get(0, 0) + this.adj_beliefs[0].lam.get(0, 0) - this.messages[0].lam.get(0, 0))]]);
            mess1.lam = new m.Matrix([[this.factor.lam.get(1, 1) - 
                this.factor.lam.get(1, 0) * this.factor.lam.get(0, 1) / 
                (this.factor.lam.get(0, 0) + this.adj_beliefs[0].lam.get(0, 0) - this.messages[0].lam.get(0, 0))]]);

            const mess0 = new gauss.Gaussian([[0]], [[0]]);
            mess0.eta = new m.Matrix([[this.factor.eta.get(0, 0) - 
                this.factor.lam.get(0, 1) * (this.factor.eta.get(1, 0) + this.adj_beliefs[1].eta.get(0, 0) - this.messages[1].eta.get(0, 0)) / 
                (this.factor.lam.get(1, 1) + this.adj_beliefs[1].lam.get(0, 0) - this.messages[1].lam.get(0, 0))]]);
            mess0.lam = new m.Matrix([[this.factor.lam.get(0, 0) - 
                this.factor.lam.get(0, 1) * this.factor.lam.get(1, 0) / 
                (this.factor.lam.get(1, 1) + this.adj_beliefs[1].lam.get(0, 0) - this.messages[1].lam.get(0, 0))]]);

            this.messages[0] = mess0;
            this.messages[1] = mess1;
        }

        energy() {
            const energy = 0.5 * (this.adj_beliefs[0].getMean().get(0,0) - this.adj_beliefs[1].getMean().get(0,0))**2 / smooth_cov;
            return energy;
        }
    }

    export class NonLinearUnaryFactor {
        constructor(adj_var_ids, meas, noise_model_lam, x) {
            this.adj_var_ids = adj_var_ids;
            this.adj_beliefs = [new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1))];
            this.messages = [new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1))];

            this.factor = new gauss.Gaussian(m.Matrix.zeros(1, 1), m.Matrix.zeros(1, 1));

            this.meas = meas;
            this.noise_model_lam = noise_model_lam;
            this.x = x;
            this.linpoint = 0.;
        }

        compute_factor() {
            this.linpoint = this.adj_beliefs[0].getMean().get(0, 0);
            const jac = dtarget_fn(this.x + this.linpoint);
            const pred_meas = target_fn(this.x + this.linpoint);
            const term = jac*this.linpoint + this.meas - pred_meas;
            this.factor.eta = new m.Matrix([[jac*this.noise_model_lam * term]]);
            this.factor.lam = new m.Matrix([[jac*jac*this.noise_model_lam]]);
        }

        compute_messages() {
            this.messages[0] = new gauss.Gaussian(this.factor.eta.clone(), this.factor.lam.clone());
        }

        energy() {
            this.linpoint = this.adj_beliefs[0].getMean().get(0, 0);
            const pred_meas = target_fn(this.x + this.linpoint);
            const res = pred_meas - this.meas;
            const energy = 0.5 * res * res * this.noise_model_lam;
            return energy;
        }

    }

    function create_fg(n_nodes) {
        const skip = max_n_varnodes / n_nodes;
        const start = Math.floor(skip / 2);
        let xs = [];
        let ys = [];

        const fg = new FactorGraph();
        for (var i=0; i < n_nodes; ++i) {
            xs.push(x[start + i*skip]);
            ys.push(y[start + i*skip]);
            const n = new VariableNode(i, 0., prior_cov)
            fg.var_nodes.push(n);
        }
        
        // Smoothness factors
        for (var i=0; i < n_nodes-1; ++i) {
            let factor_lam = new m.Matrix([[1., -1.], [-1., 1.]]);
            factor_lam = factor_lam.mul(1. / smooth_cov);
            const factor_eta = new m.Matrix([[0.], [0.]]);
            const f = new LinearBinaryFactor([i, i+1], factor_eta, factor_lam);
            fg.var_nodes[i].adj_factors.push(f);
            fg.var_nodes[i+1].adj_factors.push(f);
            fg.factors.push(f);
        }

        // Data factors
        for (var i=0; i < n_nodes; ++i) {
            const f = new NonLinearUnaryFactor([i], ys[i], 1./data_cov, xs[i]);
            fg.var_nodes[i].adj_factors.push(f);
            fg.var_nodes[i].send_beliefs();
            f.compute_factor();
            fg.factors.push(f);
        }
        return fg;
    }

    function do_iter(graph_ix) {
        const fg = fgs[graph_ix];
        fg.sync_iter();
        fg.relin_all();
        iter += 1;
        belief_means = fg.belief_means();
        energies.push(fg.av_energy());
        create_path();

        // for (var i=0; i<nodes[active_ix]; ++i) {
        //     const mean = belief_means[i]
        //     const x1=map_x(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x + mean); 
        //     const y1=map_y(fgs[active_ix].factors[nodes[active_ix] - 1 + i].meas);
        //     const x2=map_x(shift(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x));
        //     const y2=map_y(fgs[active_ix].factors[nodes[active_ix] - 1 + i].meas);
        //     console.log(x1, x2, y1, y2);
        // }
    }

    function set_prior_means(graph_ix, means) {
        const fg = fgs[graph_ix];
        const n_nodes = fg.var_nodes.length;
        for (var i=0; i < n_nodes; ++i) {
            const prior_lam = fg.var_nodes[i].prior.lam.get(0, 0)
            fg.var_nodes[i].prior.eta = new m.Matrix([[means[i] * prior_lam]]);
            fg.var_nodes[i].belief.eta = fg.var_nodes[i].prior.eta.clone();
            fg.var_nodes[i].belief.lam = fg.var_nodes[i].prior.lam.clone();
        }
        // Relinearise factors about the init
        for (var i=0; i < n_nodes; ++i) {
            fg.var_nodes[i].send_beliefs();
            fg.factors[n_nodes-1+i].compute_factor();
        }
    }

    function pass_init(graph_ix) {
        if (graph_ix < nodes.length-1) {
            const fg = fgs[graph_ix];
            const means = fg.belief_means();
            let inits = [];
            const expand = fgs[graph_ix+1].var_nodes.length / fgs[graph_ix].var_nodes.length;
            for (var j=0; j < expand*means.length; j++) {
                inits.push(means[Math.floor(j/expand)]);
            }
            set_prior_means(graph_ix+1, inits);
            belief_means = fgs[graph_ix+1].belief_means();
            active_ix += 1;
        }
    }
    
    function create_path() {
        if (iter < max_x_plot) {
            const iterations = d3.range(0, iter+1, 1);
            const pts = d3.zip(iterations, energies);
            plot_paths[path_ix] = d3.line().x(d => map_x_graph(d[0])).y(d => map_y_graph(d[1]))(pts);
        }
    }

    function create_graphs() {
        fgs = [];
        for (var i=0; i < len; ++i) {
            const fg = create_fg(nodes[i]);
            fgs.push(fg);
        }
    }

    function setup() {
        create_graphs(); 

        active_ix = 0;
        iter = 0;
        energies = [];
        belief_means = fgs[active_ix].belief_means();
        energies = [fgs[active_ix].av_energy()];
        path_ix += 1;
        colors[path_ix] = randomColor();
        create_path();
    }


    function shift(x) { return scaling*x + offset; }
    function inv_shift(x) { return (x-offset) / scaling; }
    function fn(x) { return 2 - x/1.5 + x / 15 * Math.cos(4*x); }
    function dfn(x){ return -1./1.5 + 1/15 * Math.cos(4*x) - 4/15 * x * Math.sin(4*x); }
    function target_fn(x) { return fn(inv_shift(x)); }
    function dtarget_fn(x) { return dfn(inv_shift(x)) * 1/scaling; }

    const radius = 4.;
    const max_x_plot = 80;
    const map_x_graph = d3.scaleLinear().domain([0, max_x_plot]).range([116, 116+220]);
    const map_y_graph = d3.scaleLog().domain([0.001, 10]).range([215, 215-120]);


    const scaling = 1.3
    const offset = 2.

    const prior_cov = 30.;
    const data_cov = 0.05;
    const smooth_cov = 0.1;

    const max_n_varnodes = 54;
    const x_range = [0., 4.7]
    const x = makeArr(x_range[0], x_range[1], max_n_varnodes);
    let y = [];
    let shifts = [];

    for (var i=0; i < x.length; i++) {
        y.push(fn(x[i]));
        shifts.push(shift(x[i]) - x[i])
    }


    let el;
    // d3.select(el).call(d3.axisBottom(map_x_graph));


    const nodes = [6, 18, 54];
    const len = nodes.length;

    let fgs = [];
    create_graphs();
    let active_ix = 0;
    let iter = 0;
    let path_ix = 0;
    let belief_means = fgs[active_ix].belief_means();
    let energies = [fgs[active_ix].av_energy()];
    let plot_paths = [];
    let colors = [randomColor()];

    // Target and source curve
    const map_x = d3.scaleLinear().domain([-1, 13]).range([490, 850]);
    const map_y = d3.scaleLinear().domain([-3, 4]).range([370, 80]);
    const STEP = 0.1;
    const target_xs = d3.range(-0.5, 9, STEP);
    const target_ys = target_xs.map(x => target_fn(x));
    const src_xs = d3.range(x_range[0], x_range[1], STEP);
    const src_ys = src_xs.map(x => fn(x));
    const target_pts = d3.zip(target_xs, target_ys);
    const src_pts = d3.zip(src_xs, src_ys);
    const target_path = d3.line().x(d => map_x(d[0])).y(d => map_y(d[1]))(target_pts);
    const src_path = d3.line().x(d => map_x(d[0])).y(d => map_y(d[1]))(src_pts);

    // Event handlers
    function gbp_iter(e) { do_iter(active_ix); }
    function finer_layer(e) { pass_init(active_ix); }
    function reset(e) { setup(); }
    function clear_plot(e) { plot_paths = []; }

</script>

<style>

    /* #wrapper {
        position: relative;
        margin-bottom: 0.5rem;
        min-height: 210px;
    } */

    #target-path {
        stroke: #008000;
        stroke-width: 3;
        fill: none;
    }

    #source-path {
        stroke: #0095DD;
        stroke-width: 3;
        fill: none;
        opacity: 0.4;
    }

    .means {
        stroke: #0095DD;
        fill: #0095DD;
    }

    .res_line {
        stroke: #FF6347;
        stroke-width: 2;
        /* fill: none; */
        opacity: 1;
        stroke-dasharray: 6,2;
    }

    .node_g {
        cursor: pointer;
    }

    .inactive {
        opacity: 0.4;
    }

    .plot-path {
        stroke-width: 3;
        fill: none;
    }

</style>


<figure class="subgrid" id="figure">

    <div id="wrapper" class="interactive-container">

        <svg bind:this={el} width="856" height="380" viewBox="0 0 856 380" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">

            <g id="buttons">
            <rect id="gbp box" on:click={gbp_iter} class="node_g" x="223" y="16" width="48" height="18" fill="#C4C4C4" opacity="0"/>
            <path id="GBP" on:click={gbp_iter} class="node_g" d="M238.023 31.8437C237.391 32.6015 236.496 33.1914 235.34 33.6133C234.184 34.0273 232.902 34.2344 231.496 34.2344C230.02 34.2344 228.723 33.914 227.605 33.2734C226.496 32.625 225.637 31.6875 225.027 30.4609C224.426 29.2344 224.117 27.793 224.102 26.1367V24.9765C224.102 23.2734 224.387 21.8008 224.957 20.5586C225.535 19.3086 226.363 18.3555 227.441 17.6992C228.527 17.0351 229.797 16.7031 231.25 16.7031C233.273 16.7031 234.855 17.1875 235.996 18.1562C237.137 19.1172 237.812 20.5195 238.023 22.3633H234.602C234.445 21.3867 234.098 20.6719 233.559 20.2187C233.027 19.7656 232.293 19.539 231.355 19.539C230.16 19.539 229.25 19.9883 228.625 20.8867C228 21.7851 227.684 23.1211 227.676 24.8945V25.9844C227.676 27.7734 228.016 29.125 228.695 30.039C229.375 30.9531 230.371 31.4101 231.684 31.4101C233.004 31.4101 233.945 31.1289 234.508 30.5664V27.625H231.309V25.0351H238.023V31.8437ZM240.883 34V16.9375H246.859C248.93 16.9375 250.5 17.3359 251.57 18.1328C252.641 18.9219 253.176 20.082 253.176 21.6133C253.176 22.4492 252.961 23.1875 252.531 23.8281C252.102 24.4609 251.504 24.9258 250.738 25.2226C251.613 25.4414 252.301 25.8828 252.801 26.5469C253.309 27.2109 253.562 28.0234 253.562 28.9844C253.562 30.625 253.039 31.8672 251.992 32.7109C250.945 33.5547 249.453 33.9844 247.516 34H240.883ZM244.398 26.5703V31.1758H247.41C248.238 31.1758 248.883 30.9805 249.344 30.5898C249.812 30.1914 250.047 29.6445 250.047 28.9492C250.047 27.3867 249.238 26.5937 247.621 26.5703H244.398ZM244.398 24.0859H247C248.773 24.0547 249.66 23.3476 249.66 21.9648C249.66 21.1914 249.434 20.6367 248.98 20.3008C248.535 19.957 247.828 19.7851 246.859 19.7851H244.398V24.0859ZM259.727 27.9883V34H256.211V16.9375H262.867C264.148 16.9375 265.273 17.1719 266.242 17.6406C267.219 18.1094 267.969 18.7773 268.492 19.6445C269.016 20.5039 269.277 21.4844 269.277 22.5859C269.277 24.2578 268.703 25.5781 267.555 26.5469C266.414 27.5078 264.832 27.9883 262.809 27.9883H259.727ZM259.727 25.1406H262.867C263.797 25.1406 264.504 24.9219 264.988 24.4844C265.48 24.0469 265.727 23.4219 265.727 22.6094C265.727 21.7734 265.48 21.0976 264.988 20.582C264.496 20.0664 263.816 19.8008 262.949 19.7851H259.727V25.1406Z" fill="black"/>
            <rect id="Delete" on:click={clear_plot} class="node_g" x="587" y="4" width="41.7647" height="41.7647" fill="url(#clear_icon)"/>
            <rect id="Down" on:click={finer_layer} class="node_g" x="348" width="43.2563" height="41.7647" fill="url(#down_icon)"/>
            <rect id="Reset" on:click={reset} class="node_g" x="468.196" y="3.7843" width="41.7647" height="41.7647" fill="url(#reset_icon)"/>
            <path id="Clear plot" d="M588.477 55.8418C588.354 56.8945 587.964 57.708 587.308 58.2822C586.656 58.8519 585.788 59.1367 584.703 59.1367C583.527 59.1367 582.584 58.7152 581.873 57.8721C581.167 57.029 580.813 55.901 580.813 54.4883V53.5312C580.813 52.6061 580.978 51.7926 581.306 51.0908C581.638 50.389 582.108 49.8512 582.714 49.4775C583.32 49.0993 584.022 48.9102 584.819 48.9102C585.877 48.9102 586.724 49.2064 587.362 49.7988C588 50.3867 588.372 51.2025 588.477 52.2461H587.157C587.043 51.4531 586.795 50.8789 586.412 50.5234C586.034 50.168 585.503 49.9902 584.819 49.9902C583.981 49.9902 583.322 50.3001 582.844 50.9199C582.37 51.5397 582.133 52.4215 582.133 53.5654V54.5293C582.133 55.6094 582.358 56.4684 582.81 57.1064C583.261 57.7445 583.892 58.0635 584.703 58.0635C585.432 58.0635 585.991 57.8994 586.378 57.5713C586.77 57.2386 587.03 56.6621 587.157 55.8418H588.477ZM591.45 59H590.186V48.5H591.45V59ZM596.55 59.1367C595.547 59.1367 594.731 58.8086 594.103 58.1523C593.474 57.4915 593.159 56.6097 593.159 55.5068V55.2744C593.159 54.5407 593.298 53.8867 593.576 53.3125C593.859 52.7337 594.251 52.2826 594.752 51.959C595.258 51.6309 595.805 51.4668 596.393 51.4668C597.354 51.4668 598.102 51.7835 598.635 52.417C599.168 53.0505 599.435 53.9574 599.435 55.1377V55.6641H594.424C594.442 56.3932 594.654 56.9834 595.06 57.4346C595.47 57.8812 595.989 58.1045 596.618 58.1045C597.065 58.1045 597.443 58.0133 597.753 57.8311C598.063 57.6488 598.334 57.4072 598.566 57.1064L599.339 57.708C598.719 58.6605 597.789 59.1367 596.55 59.1367ZM596.393 52.5059C595.882 52.5059 595.454 52.6927 595.107 53.0664C594.761 53.4355 594.547 53.9551 594.465 54.625H598.17V54.5293C598.133 53.8867 597.96 53.39 597.65 53.0391C597.34 52.6836 596.921 52.5059 596.393 52.5059ZM605.471 59C605.398 58.8542 605.339 58.5944 605.293 58.2207C604.705 58.8314 604.003 59.1367 603.188 59.1367C602.458 59.1367 601.859 58.9316 601.39 58.5215C600.925 58.1068 600.692 57.5827 600.692 56.9492C600.692 56.179 600.984 55.582 601.567 55.1582C602.155 54.7298 602.98 54.5156 604.042 54.5156H605.272V53.9346C605.272 53.4925 605.14 53.1416 604.876 52.8818C604.612 52.6175 604.222 52.4854 603.707 52.4854C603.256 52.4854 602.878 52.5993 602.572 52.8271C602.267 53.055 602.114 53.3307 602.114 53.6543H600.843C600.843 53.2852 600.973 52.9297 601.232 52.5879C601.497 52.2415 601.852 51.9681 602.299 51.7676C602.75 51.5671 603.244 51.4668 603.782 51.4668C604.634 51.4668 605.302 51.681 605.785 52.1094C606.268 52.5332 606.519 53.1188 606.537 53.8662V57.2705C606.537 57.9495 606.624 58.4896 606.797 58.8906V59H605.471ZM603.372 58.0361C603.769 58.0361 604.145 57.9336 604.5 57.7285C604.855 57.5234 605.113 57.2568 605.272 56.9287V55.4111H604.281C602.732 55.4111 601.957 55.8646 601.957 56.7715C601.957 57.168 602.089 57.4779 602.354 57.7012C602.618 57.9245 602.957 58.0361 603.372 58.0361ZM612.095 52.7383C611.903 52.7064 611.696 52.6904 611.473 52.6904C610.643 52.6904 610.08 53.0436 609.784 53.75V59H608.52V51.6035H609.75L609.771 52.458C610.185 51.7972 610.773 51.4668 611.534 51.4668C611.78 51.4668 611.967 51.4987 612.095 51.5625V52.7383ZM622.984 55.3838C622.984 56.5094 622.727 57.4163 622.212 58.1045C621.697 58.7926 621 59.1367 620.12 59.1367C619.222 59.1367 618.516 58.8519 618.001 58.2822V61.8438H616.736V51.6035H617.892L617.953 52.4238C618.468 51.7858 619.184 51.4668 620.1 51.4668C620.988 51.4668 621.69 51.8018 622.205 52.4717C622.725 53.1416 622.984 54.0736 622.984 55.2676V55.3838ZM621.72 55.2402C621.72 54.4062 621.542 53.7477 621.187 53.2646C620.831 52.7816 620.343 52.54 619.724 52.54C618.958 52.54 618.384 52.8796 618.001 53.5586V57.0928C618.379 57.7673 618.958 58.1045 619.737 58.1045C620.343 58.1045 620.824 57.8652 621.18 57.3867C621.54 56.9036 621.72 56.1882 621.72 55.2402ZM625.972 59H624.707V48.5H625.972V59ZM627.667 55.2334C627.667 54.5088 627.808 53.8571 628.091 53.2783C628.378 52.6995 628.774 52.2529 629.28 51.9385C629.791 51.624 630.372 51.4668 631.023 51.4668C632.031 51.4668 632.844 51.8154 633.464 52.5127C634.088 53.21 634.4 54.1374 634.4 55.2949V55.3838C634.4 56.1038 634.261 56.751 633.983 57.3252C633.71 57.8949 633.316 58.3392 632.801 58.6582C632.29 58.9772 631.702 59.1367 631.037 59.1367C630.035 59.1367 629.221 58.7881 628.597 58.0908C627.977 57.3936 627.667 56.4707 627.667 55.3223V55.2334ZM628.938 55.3838C628.938 56.2041 629.128 56.8626 629.506 57.3594C629.889 57.8561 630.399 58.1045 631.037 58.1045C631.68 58.1045 632.19 57.8538 632.568 57.3525C632.947 56.8467 633.136 56.1403 633.136 55.2334C633.136 54.4222 632.942 53.766 632.555 53.2646C632.172 52.7588 631.661 52.5059 631.023 52.5059C630.399 52.5059 629.896 52.7542 629.513 53.251C629.13 53.7477 628.938 54.4587 628.938 55.3838ZM637.702 49.8125V51.6035H639.083V52.5811H637.702V57.168C637.702 57.4642 637.764 57.6875 637.887 57.8379C638.01 57.9837 638.219 58.0566 638.516 58.0566C638.661 58.0566 638.862 58.0293 639.117 57.9746V59C638.785 59.0911 638.461 59.1367 638.146 59.1367C637.581 59.1367 637.155 58.9658 636.868 58.624C636.581 58.2822 636.438 57.7969 636.438 57.168V52.5811H635.091V51.6035H636.438V49.8125H637.702Z" fill="black"/>
            <path id="GBP iteration" d="M214.504 57.6943C214.167 58.1774 213.695 58.5397 213.089 58.7812C212.487 59.0182 211.785 59.1367 210.983 59.1367C210.172 59.1367 209.452 58.9476 208.823 58.5693C208.194 58.1865 207.707 57.6442 207.36 56.9424C207.019 56.2405 206.843 55.4271 206.834 54.5019V53.6338C206.834 52.1344 207.183 50.9723 207.88 50.1474C208.582 49.3226 209.566 48.9101 210.833 48.9101C211.872 48.9101 212.708 49.1767 213.342 49.7099C213.975 50.2386 214.363 50.9905 214.504 51.9658H213.191C212.945 50.6487 212.161 49.9902 210.84 49.9902C209.96 49.9902 209.293 50.3001 208.837 50.9199C208.386 51.5351 208.158 52.4284 208.153 53.5996V54.4131C208.153 55.5296 208.409 56.4183 208.919 57.0791C209.429 57.7353 210.12 58.0635 210.99 58.0635C211.482 58.0635 211.913 58.0088 212.282 57.8994C212.651 57.79 212.957 57.6055 213.198 57.3457V55.1103H210.895V54.0439H214.504V57.6943ZM216.698 59V49.0469H219.952C221.032 49.0469 221.843 49.2702 222.386 49.7168C222.933 50.1634 223.206 50.8242 223.206 51.6992C223.206 52.164 223.074 52.5765 222.81 52.9365C222.545 53.292 222.185 53.5677 221.729 53.7637C222.267 53.914 222.691 54.2012 223.001 54.625C223.315 55.0443 223.473 55.5456 223.473 56.1289C223.473 57.0221 223.183 57.7239 222.604 58.2344C222.026 58.7448 221.208 59 220.15 59H216.698ZM218.011 54.3447V57.9267H220.178C220.788 57.9267 221.269 57.7695 221.62 57.4551C221.976 57.1361 222.153 56.6986 222.153 56.1426C222.153 54.944 221.502 54.3447 220.198 54.3447H218.011ZM218.011 53.292H219.993C220.567 53.292 221.025 53.1484 221.367 52.8613C221.714 52.5742 221.887 52.1846 221.887 51.6924C221.887 51.1455 221.727 50.749 221.408 50.5029C221.089 50.2523 220.604 50.1269 219.952 50.1269H218.011V53.292ZM226.733 55.1035V59H225.421V49.0469H229.092C230.181 49.0469 231.033 49.3249 231.648 49.8808C232.268 50.4368 232.578 51.1728 232.578 52.0889C232.578 53.055 232.275 53.8001 231.669 54.3242C231.067 54.8437 230.204 55.1035 229.078 55.1035H226.733ZM226.733 54.0303H229.092C229.794 54.0303 230.331 53.8662 230.705 53.5381C231.079 53.2054 231.266 52.7269 231.266 52.1025C231.266 51.5101 231.079 51.0361 230.705 50.6806C230.331 50.3252 229.819 50.1406 229.167 50.1269H226.733V54.0303ZM238.901 59H237.637V51.6035H238.901V59ZM237.534 49.6416C237.534 49.4365 237.596 49.2633 237.719 49.1221C237.846 48.9808 238.033 48.9101 238.279 48.9101C238.525 48.9101 238.712 48.9808 238.84 49.1221C238.967 49.2633 239.031 49.4365 239.031 49.6416C239.031 49.8467 238.967 50.0176 238.84 50.1543C238.712 50.291 238.525 50.3594 238.279 50.3594C238.033 50.3594 237.846 50.291 237.719 50.1543C237.596 50.0176 237.534 49.8467 237.534 49.6416ZM242.647 49.8125V51.6035H244.028V52.581H242.647V57.168C242.647 57.4642 242.709 57.6875 242.832 57.8379C242.955 57.9837 243.165 58.0566 243.461 58.0566C243.607 58.0566 243.807 58.0293 244.062 57.9746V59C243.73 59.0911 243.406 59.1367 243.092 59.1367C242.527 59.1367 242.101 58.9658 241.813 58.624C241.526 58.2822 241.383 57.7969 241.383 57.168V52.581H240.036V51.6035H241.383V49.8125H242.647ZM248.581 59.1367C247.578 59.1367 246.763 58.8086 246.134 58.1523C245.505 57.4915 245.19 56.6097 245.19 55.5068V55.2744C245.19 54.5407 245.329 53.8867 245.607 53.3125C245.89 52.7337 246.282 52.2825 246.783 51.959C247.289 51.6308 247.836 51.4668 248.424 51.4668C249.385 51.4668 250.133 51.7835 250.666 52.417C251.199 53.0504 251.466 53.9573 251.466 55.1377V55.664H246.455C246.473 56.3932 246.685 56.9834 247.091 57.4346C247.501 57.8812 248.021 58.1045 248.649 58.1045C249.096 58.1045 249.474 58.0133 249.784 57.831C250.094 57.6487 250.365 57.4072 250.598 57.1064L251.37 57.708C250.75 58.6605 249.821 59.1367 248.581 59.1367ZM248.424 52.5058C247.913 52.5058 247.485 52.6927 247.139 53.0664C246.792 53.4355 246.578 53.9551 246.496 54.625H250.201V54.5293C250.165 53.8867 249.992 53.39 249.682 53.039C249.372 52.6836 248.952 52.5058 248.424 52.5058ZM256.511 52.7383C256.319 52.7064 256.112 52.6904 255.889 52.6904C255.059 52.6904 254.496 53.0436 254.2 53.75V59H252.936V51.6035H254.166L254.187 52.458C254.601 51.7972 255.189 51.4668 255.95 51.4668C256.196 51.4668 256.383 51.4987 256.511 51.5625V52.7383ZM261.973 59C261.9 58.8542 261.84 58.5944 261.795 58.2207C261.207 58.8314 260.505 59.1367 259.689 59.1367C258.96 59.1367 258.361 58.9316 257.892 58.5215C257.427 58.1068 257.194 57.5827 257.194 56.9492C257.194 56.179 257.486 55.582 258.069 55.1582C258.657 54.7298 259.482 54.5156 260.544 54.5156H261.774V53.9346C261.774 53.4925 261.642 53.1416 261.378 52.8818C261.114 52.6175 260.724 52.4853 260.209 52.4853C259.758 52.4853 259.38 52.5993 259.074 52.8271C258.769 53.055 258.616 53.3307 258.616 53.6543H257.345C257.345 53.2851 257.475 52.9297 257.734 52.5879C257.999 52.2415 258.354 51.9681 258.801 51.7676C259.252 51.567 259.746 51.4668 260.284 51.4668C261.136 51.4668 261.804 51.681 262.287 52.1094C262.77 52.5332 263.021 53.1188 263.039 53.8662V57.2705C263.039 57.9495 263.126 58.4896 263.299 58.8906V59H261.973ZM259.874 58.0361C260.271 58.0361 260.646 57.9336 261.002 57.7285C261.357 57.5234 261.615 57.2568 261.774 56.9287V55.4111H260.783C259.234 55.4111 258.459 55.8646 258.459 56.7715C258.459 57.168 258.591 57.4778 258.855 57.7012C259.12 57.9245 259.459 58.0361 259.874 58.0361ZM266.737 49.8125V51.6035H268.118V52.581H266.737V57.168C266.737 57.4642 266.799 57.6875 266.922 57.8379C267.045 57.9837 267.255 58.0566 267.551 58.0566C267.697 58.0566 267.897 58.0293 268.152 57.9746V59C267.82 59.0911 267.496 59.1367 267.182 59.1367C266.617 59.1367 266.19 58.9658 265.903 58.624C265.616 58.2822 265.473 57.7969 265.473 57.168V52.581H264.126V51.6035H265.473V49.8125H266.737ZM270.976 59H269.711V51.6035H270.976V59ZM269.608 49.6416C269.608 49.4365 269.67 49.2633 269.793 49.1221C269.921 48.9808 270.107 48.9101 270.354 48.9101C270.6 48.9101 270.786 48.9808 270.914 49.1221C271.042 49.2633 271.105 49.4365 271.105 49.6416C271.105 49.8467 271.042 50.0176 270.914 50.1543C270.786 50.291 270.6 50.3594 270.354 50.3594C270.107 50.3594 269.921 50.291 269.793 50.1543C269.67 50.0176 269.608 49.8467 269.608 49.6416ZM272.671 55.2334C272.671 54.5088 272.812 53.8571 273.095 53.2783C273.382 52.6995 273.778 52.2529 274.284 51.9385C274.795 51.624 275.376 51.4668 276.027 51.4668C277.035 51.4668 277.848 51.8154 278.468 52.5127C279.092 53.2099 279.404 54.1374 279.404 55.2949V55.3838C279.404 56.1038 279.265 56.751 278.987 57.3252C278.714 57.8948 278.32 58.3392 277.805 58.6582C277.294 58.9772 276.706 59.1367 276.041 59.1367C275.038 59.1367 274.225 58.7881 273.601 58.0908C272.981 57.3935 272.671 56.4707 272.671 55.3223V55.2334ZM273.942 55.3838C273.942 56.2041 274.132 56.8626 274.51 57.3594C274.893 57.8561 275.403 58.1045 276.041 58.1045C276.684 58.1045 277.194 57.8538 277.572 57.3525C277.951 56.8467 278.14 56.1403 278.14 55.2334C278.14 54.4222 277.946 53.7659 277.559 53.2646C277.176 52.7588 276.665 52.5058 276.027 52.5058C275.403 52.5058 274.899 52.7542 274.517 53.251C274.134 53.7477 273.942 54.4586 273.942 55.3838ZM282.187 51.6035L282.228 52.5332C282.793 51.8223 283.531 51.4668 284.442 51.4668C286.006 51.4668 286.794 52.3486 286.808 54.1123V59H285.543V54.1055C285.538 53.5723 285.415 53.178 285.174 52.9228C284.937 52.6676 284.565 52.54 284.06 52.54C283.649 52.54 283.289 52.6494 282.979 52.8681C282.67 53.0869 282.428 53.374 282.255 53.7295V59H280.99V51.6035H282.187Z" fill="black"/>
            <path id="Finer graph" d="M337.645 54.6045H333.468V59H332.155V49.0469H338.321V50.127H333.468V53.5312H337.645V54.6045ZM341.069 59H339.805V51.6035H341.069V59ZM339.702 49.6416C339.702 49.4365 339.764 49.2633 339.887 49.1221C340.014 48.9808 340.201 48.9102 340.447 48.9102C340.693 48.9102 340.88 48.9808 341.008 49.1221C341.135 49.2633 341.199 49.4365 341.199 49.6416C341.199 49.8467 341.135 50.0176 341.008 50.1543C340.88 50.291 340.693 50.3594 340.447 50.3594C340.201 50.3594 340.014 50.291 339.887 50.1543C339.764 50.0176 339.702 49.8467 339.702 49.6416ZM344.296 51.6035L344.337 52.5332C344.902 51.8223 345.64 51.4668 346.552 51.4668C348.115 51.4668 348.903 52.3486 348.917 54.1123V59H347.652V54.1055C347.648 53.5723 347.525 53.1781 347.283 52.9229C347.046 52.6676 346.675 52.54 346.169 52.54C345.759 52.54 345.399 52.6494 345.089 52.8682C344.779 53.0869 344.537 53.374 344.364 53.7295V59H343.1V51.6035H344.296ZM353.894 59.1367C352.891 59.1367 352.075 58.8086 351.446 58.1523C350.817 57.4915 350.503 56.6097 350.503 55.5068V55.2744C350.503 54.5407 350.642 53.8867 350.92 53.3125C351.202 52.7337 351.594 52.2826 352.096 51.959C352.602 51.6309 353.148 51.4668 353.736 51.4668C354.698 51.4668 355.445 51.7835 355.979 52.417C356.512 53.0505 356.778 53.9574 356.778 55.1377V55.6641H351.768C351.786 56.3932 351.998 56.9834 352.403 57.4346C352.813 57.8812 353.333 58.1045 353.962 58.1045C354.409 58.1045 354.787 58.0133 355.097 57.8311C355.407 57.6488 355.678 57.4072 355.91 57.1064L356.683 57.708C356.063 58.6605 355.133 59.1367 353.894 59.1367ZM353.736 52.5059C353.226 52.5059 352.798 52.6927 352.451 53.0664C352.105 53.4355 351.891 53.9551 351.809 54.625H355.514V54.5293C355.477 53.8867 355.304 53.39 354.994 53.0391C354.684 52.6836 354.265 52.5059 353.736 52.5059ZM361.823 52.7383C361.632 52.7064 361.424 52.6904 361.201 52.6904C360.372 52.6904 359.809 53.0436 359.513 53.75V59H358.248V51.6035H359.479L359.499 52.458C359.914 51.7972 360.502 51.4668 361.263 51.4668C361.509 51.4668 361.696 51.4987 361.823 51.5625V52.7383ZM366.164 55.2402C366.164 54.0872 366.431 53.1712 366.964 52.4922C367.497 51.8086 368.203 51.4668 369.083 51.4668C369.985 51.4668 370.689 51.7858 371.195 52.4238L371.257 51.6035H372.412V58.8223C372.412 59.7793 372.127 60.5335 371.558 61.085C370.993 61.6364 370.231 61.9121 369.274 61.9121C368.741 61.9121 368.219 61.7982 367.709 61.5703C367.199 61.3424 366.809 61.0303 366.54 60.6338L367.196 59.875C367.739 60.5449 368.402 60.8799 369.186 60.8799C369.801 60.8799 370.279 60.7067 370.621 60.3604C370.967 60.014 371.141 59.5264 371.141 58.8975V58.2617C370.635 58.8451 369.944 59.1367 369.069 59.1367C368.203 59.1367 367.502 58.7881 366.964 58.0908C366.431 57.3936 366.164 56.4434 366.164 55.2402ZM367.436 55.3838C367.436 56.2178 367.606 56.874 367.948 57.3525C368.29 57.8265 368.769 58.0635 369.384 58.0635C370.181 58.0635 370.767 57.7012 371.141 56.9766V53.5996C370.753 52.8932 370.172 52.54 369.397 52.54C368.782 52.54 368.301 52.7793 367.955 53.2578C367.609 53.7363 367.436 54.445 367.436 55.3838ZM377.901 52.7383C377.71 52.7064 377.503 52.6904 377.279 52.6904C376.45 52.6904 375.887 53.0436 375.591 53.75V59H374.326V51.6035H375.557L375.577 52.458C375.992 51.7972 376.58 51.4668 377.341 51.4668C377.587 51.4668 377.774 51.4987 377.901 51.5625V52.7383ZM383.363 59C383.29 58.8542 383.231 58.5944 383.186 58.2207C382.598 58.8314 381.896 59.1367 381.08 59.1367C380.351 59.1367 379.752 58.9316 379.282 58.5215C378.817 58.1068 378.585 57.5827 378.585 56.9492C378.585 56.179 378.877 55.582 379.46 55.1582C380.048 54.7298 380.873 54.5156 381.935 54.5156H383.165V53.9346C383.165 53.4925 383.033 53.1416 382.769 52.8818C382.504 52.6175 382.115 52.4854 381.6 52.4854C381.148 52.4854 380.77 52.5993 380.465 52.8271C380.16 53.055 380.007 53.3307 380.007 53.6543H378.735C378.735 53.2852 378.865 52.9297 379.125 52.5879C379.389 52.2415 379.745 51.9681 380.191 51.7676C380.643 51.5671 381.137 51.4668 381.675 51.4668C382.527 51.4668 383.195 51.681 383.678 52.1094C384.161 52.5332 384.411 53.1188 384.43 53.8662V57.2705C384.43 57.9495 384.516 58.4896 384.689 58.8906V59H383.363ZM381.265 58.0361C381.661 58.0361 382.037 57.9336 382.393 57.7285C382.748 57.5234 383.006 57.2568 383.165 56.9287V55.4111H382.174C380.624 55.4111 379.85 55.8646 379.85 56.7715C379.85 57.168 379.982 57.4779 380.246 57.7012C380.51 57.9245 380.85 58.0361 381.265 58.0361ZM392.66 55.3838C392.66 56.5094 392.403 57.4163 391.888 58.1045C391.373 58.7926 390.675 59.1367 389.796 59.1367C388.898 59.1367 388.192 58.8519 387.677 58.2822V61.8438H386.412V51.6035H387.567L387.629 52.4238C388.144 51.7858 388.859 51.4668 389.775 51.4668C390.664 51.4668 391.366 51.8018 391.881 52.4717C392.4 53.1416 392.66 54.0736 392.66 55.2676V55.3838ZM391.396 55.2402C391.396 54.4062 391.218 53.7477 390.862 53.2646C390.507 52.7816 390.019 52.54 389.399 52.54C388.634 52.54 388.06 52.8796 387.677 53.5586V57.0928C388.055 57.7673 388.634 58.1045 389.413 58.1045C390.019 58.1045 390.5 57.8652 390.855 57.3867C391.215 56.9036 391.396 56.1882 391.396 55.2402ZM395.538 52.499C396.099 51.8109 396.828 51.4668 397.726 51.4668C399.289 51.4668 400.077 52.3486 400.091 54.1123V59H398.826V54.1055C398.822 53.5723 398.699 53.1781 398.457 52.9229C398.22 52.6676 397.849 52.54 397.343 52.54C396.933 52.54 396.573 52.6494 396.263 52.8682C395.953 53.0869 395.711 53.374 395.538 53.7295V59H394.273V48.5H395.538V52.499Z" fill="black"/>
            <path id="Reset_2" d="M476.806 54.9736H474.468V59H473.148V49.0469H476.443C477.564 49.0469 478.426 49.3021 479.027 49.8125C479.633 50.3229 479.937 51.0658 479.937 52.041C479.937 52.6608 479.768 53.2008 479.431 53.6611C479.098 54.1214 478.633 54.4655 478.036 54.6934L480.374 58.918V59H478.966L476.806 54.9736ZM474.468 53.9004H476.484C477.136 53.9004 477.653 53.7318 478.036 53.3945C478.424 53.0573 478.617 52.6061 478.617 52.041C478.617 51.4258 478.433 50.9541 478.063 50.626C477.699 50.2979 477.17 50.1315 476.478 50.127H474.468V53.9004ZM484.653 59.1367C483.651 59.1367 482.835 58.8086 482.206 58.1523C481.577 57.4915 481.263 56.6097 481.263 55.5068V55.2744C481.263 54.5407 481.402 53.8867 481.68 53.3125C481.962 52.7337 482.354 52.2826 482.855 51.959C483.361 51.6309 483.908 51.4668 484.496 51.4668C485.458 51.4668 486.205 51.7835 486.738 52.417C487.271 53.0505 487.538 53.9574 487.538 55.1377V55.6641H482.527C482.546 56.3932 482.757 56.9834 483.163 57.4346C483.573 57.8812 484.093 58.1045 484.722 58.1045C485.168 58.1045 485.547 58.0133 485.856 57.8311C486.166 57.6488 486.438 57.4072 486.67 57.1064L487.442 57.708C486.823 58.6605 485.893 59.1367 484.653 59.1367ZM484.496 52.5059C483.986 52.5059 483.557 52.6927 483.211 53.0664C482.865 53.4355 482.65 53.9551 482.568 54.625H486.273V54.5293C486.237 53.8867 486.064 53.39 485.754 53.0391C485.444 52.6836 485.025 52.5059 484.496 52.5059ZM493.314 57.0381C493.314 56.6963 493.185 56.432 492.925 56.2451C492.67 56.0537 492.221 55.8896 491.578 55.7529C490.94 55.6162 490.432 55.4521 490.054 55.2607C489.68 55.0693 489.402 54.8415 489.22 54.5771C489.042 54.3128 488.953 53.9984 488.953 53.6338C488.953 53.0277 489.208 52.515 489.719 52.0957C490.234 51.6764 490.89 51.4668 491.688 51.4668C492.526 51.4668 493.205 51.6833 493.725 52.1162C494.249 52.5492 494.511 53.1029 494.511 53.7773H493.239C493.239 53.431 493.091 53.1325 492.795 52.8818C492.503 52.6312 492.134 52.5059 491.688 52.5059C491.227 52.5059 490.867 52.6061 490.607 52.8066C490.348 53.0072 490.218 53.2692 490.218 53.5928C490.218 53.8981 490.339 54.1283 490.58 54.2832C490.822 54.4382 491.257 54.5863 491.886 54.7275C492.519 54.8688 493.032 55.0374 493.424 55.2334C493.816 55.4294 494.105 55.6663 494.292 55.9443C494.483 56.2178 494.579 56.5527 494.579 56.9492C494.579 57.61 494.315 58.141 493.786 58.542C493.257 58.9385 492.572 59.1367 491.729 59.1367C491.136 59.1367 490.612 59.0319 490.156 58.8223C489.701 58.6126 489.343 58.321 489.083 57.9473C488.828 57.569 488.7 57.1611 488.7 56.7236H489.965C489.988 57.1475 490.156 57.4847 490.471 57.7354C490.79 57.9814 491.209 58.1045 491.729 58.1045C492.207 58.1045 492.59 58.0088 492.877 57.8174C493.169 57.6214 493.314 57.3617 493.314 57.0381ZM499.296 59.1367C498.293 59.1367 497.478 58.8086 496.849 58.1523C496.22 57.4915 495.905 56.6097 495.905 55.5068V55.2744C495.905 54.5407 496.044 53.8867 496.322 53.3125C496.605 52.7337 496.997 52.2826 497.498 51.959C498.004 51.6309 498.551 51.4668 499.139 51.4668C500.1 51.4668 500.848 51.7835 501.381 52.417C501.914 53.0505 502.181 53.9574 502.181 55.1377V55.6641H497.17C497.188 56.3932 497.4 56.9834 497.806 57.4346C498.216 57.8812 498.735 58.1045 499.364 58.1045C499.811 58.1045 500.189 58.0133 500.499 57.8311C500.809 57.6488 501.08 57.4072 501.312 57.1064L502.085 57.708C501.465 58.6605 500.535 59.1367 499.296 59.1367ZM499.139 52.5059C498.628 52.5059 498.2 52.6927 497.854 53.0664C497.507 53.4355 497.293 53.9551 497.211 54.625H500.916V54.5293C500.88 53.8867 500.706 53.39 500.396 53.0391C500.087 52.6836 499.667 52.5059 499.139 52.5059ZM505.366 49.8125V51.6035H506.747V52.5811H505.366V57.168C505.366 57.4642 505.428 57.6875 505.551 57.8379C505.674 57.9837 505.883 58.0566 506.18 58.0566C506.326 58.0566 506.526 58.0293 506.781 57.9746V59C506.449 59.0911 506.125 59.1367 505.811 59.1367C505.245 59.1367 504.819 58.9658 504.532 58.624C504.245 58.2822 504.102 57.7969 504.102 57.168V52.5811H502.755V51.6035H504.102V49.8125H505.366Z" fill="black"/>
            </g>

            <g id="diagram">
            <g id="l1"  class:inactive={active_ix!=0}>
                <path id="Coarsest graph" d="M15.0244 282.842C14.9014 283.895 14.5117 284.708 13.8555 285.282C13.2038 285.852 12.3356 286.137 11.251 286.137C10.0752 286.137 9.13184 285.715 8.4209 284.872C7.71452 284.029 7.36133 282.901 7.36133 281.488V280.531C7.36133 279.606 7.52539 278.793 7.85352 278.091C8.1862 277.389 8.6556 276.851 9.26172 276.478C9.86784 276.099 10.5697 275.91 11.3672 275.91C12.4245 275.91 13.2721 276.206 13.9102 276.799C14.5482 277.387 14.9196 278.202 15.0244 279.246H13.7051C13.5911 278.453 13.3428 277.879 12.96 277.523C12.5817 277.168 12.0508 276.99 11.3672 276.99C10.5286 276.99 9.87012 277.3 9.3916 277.92C8.91764 278.54 8.68066 279.422 8.68066 280.565V281.529C8.68066 282.609 8.90625 283.468 9.35742 284.106C9.80859 284.744 10.4398 285.063 11.251 285.063C11.9801 285.063 12.5384 284.899 12.9258 284.571C13.3177 284.239 13.5775 283.662 13.7051 282.842H15.0244ZM16.2891 282.233C16.2891 281.509 16.4303 280.857 16.7129 280.278C17 279.7 17.3965 279.253 17.9023 278.938C18.4128 278.624 18.9938 278.467 19.6455 278.467C20.6527 278.467 21.4661 278.815 22.0859 279.513C22.7103 280.21 23.0225 281.137 23.0225 282.295V282.384C23.0225 283.104 22.8835 283.751 22.6055 284.325C22.332 284.895 21.9378 285.339 21.4229 285.658C20.9124 285.977 20.3245 286.137 19.6592 286.137C18.6566 286.137 17.8431 285.788 17.2188 285.091C16.599 284.394 16.2891 283.471 16.2891 282.322V282.233ZM17.5605 282.384C17.5605 283.204 17.7497 283.863 18.1279 284.359C18.5107 284.856 19.0212 285.104 19.6592 285.104C20.3018 285.104 20.8122 284.854 21.1904 284.353C21.5687 283.847 21.7578 283.14 21.7578 282.233C21.7578 281.422 21.5641 280.766 21.1768 280.265C20.7939 279.759 20.2835 279.506 19.6455 279.506C19.0212 279.506 18.5176 279.754 18.1348 280.251C17.752 280.748 17.5605 281.459 17.5605 282.384ZM29.1748 286C29.1019 285.854 29.0426 285.594 28.9971 285.221C28.4092 285.831 27.7074 286.137 26.8916 286.137C26.1624 286.137 25.5632 285.932 25.0938 285.521C24.6289 285.107 24.3965 284.583 24.3965 283.949C24.3965 283.179 24.6882 282.582 25.2715 282.158C25.8594 281.73 26.6842 281.516 27.7461 281.516H28.9766V280.935C28.9766 280.493 28.8444 280.142 28.5801 279.882C28.3158 279.618 27.9261 279.485 27.4111 279.485C26.96 279.485 26.5817 279.599 26.2764 279.827C25.971 280.055 25.8184 280.331 25.8184 280.654H24.5469C24.5469 280.285 24.6768 279.93 24.9365 279.588C25.2008 279.242 25.5563 278.968 26.0029 278.768C26.4541 278.567 26.9486 278.467 27.4863 278.467C28.3385 278.467 29.0062 278.681 29.4893 279.109C29.9723 279.533 30.223 280.119 30.2412 280.866V284.271C30.2412 284.95 30.3278 285.49 30.501 285.891V286H29.1748ZM27.0762 285.036C27.4727 285.036 27.8486 284.934 28.2041 284.729C28.5596 284.523 28.8171 284.257 28.9766 283.929V282.411H27.9854C26.4359 282.411 25.6611 282.865 25.6611 283.771C25.6611 284.168 25.7933 284.478 26.0576 284.701C26.3219 284.924 26.6615 285.036 27.0762 285.036ZM35.7988 279.738C35.6074 279.706 35.4001 279.69 35.1768 279.69C34.3473 279.69 33.7845 280.044 33.4883 280.75V286H32.2236V278.604H33.4541L33.4746 279.458C33.8893 278.797 34.4772 278.467 35.2383 278.467C35.4844 278.467 35.6712 278.499 35.7988 278.562V279.738ZM41.2744 284.038C41.2744 283.696 41.1445 283.432 40.8848 283.245C40.6296 283.054 40.1807 282.89 39.5381 282.753C38.9001 282.616 38.3919 282.452 38.0137 282.261C37.64 282.069 37.362 281.841 37.1797 281.577C37.002 281.313 36.9131 280.998 36.9131 280.634C36.9131 280.028 37.1683 279.515 37.6787 279.096C38.1937 278.676 38.8499 278.467 39.6475 278.467C40.486 278.467 41.165 278.683 41.6846 279.116C42.2087 279.549 42.4707 280.103 42.4707 280.777H41.1992C41.1992 280.431 41.0511 280.132 40.7549 279.882C40.4632 279.631 40.0941 279.506 39.6475 279.506C39.1872 279.506 38.8271 279.606 38.5674 279.807C38.3076 280.007 38.1777 280.269 38.1777 280.593C38.1777 280.898 38.2985 281.128 38.54 281.283C38.7816 281.438 39.2168 281.586 39.8457 281.728C40.4792 281.869 40.9919 282.037 41.3838 282.233C41.7757 282.429 42.0651 282.666 42.252 282.944C42.4434 283.218 42.5391 283.553 42.5391 283.949C42.5391 284.61 42.2747 285.141 41.7461 285.542C41.2174 285.938 40.5316 286.137 39.6885 286.137C39.096 286.137 38.5719 286.032 38.1162 285.822C37.6605 285.613 37.3027 285.321 37.043 284.947C36.7878 284.569 36.6602 284.161 36.6602 283.724H37.9248C37.9476 284.147 38.1162 284.485 38.4307 284.735C38.7497 284.981 39.1689 285.104 39.6885 285.104C40.167 285.104 40.5498 285.009 40.8369 284.817C41.1286 284.621 41.2744 284.362 41.2744 284.038ZM47.2559 286.137C46.2533 286.137 45.4375 285.809 44.8086 285.152C44.1797 284.492 43.8652 283.61 43.8652 282.507V282.274C43.8652 281.541 44.0042 280.887 44.2822 280.312C44.5648 279.734 44.9567 279.283 45.458 278.959C45.9639 278.631 46.5107 278.467 47.0986 278.467C48.0602 278.467 48.8076 278.784 49.3408 279.417C49.874 280.05 50.1406 280.957 50.1406 282.138V282.664H45.1299C45.1481 283.393 45.36 283.983 45.7656 284.435C46.1758 284.881 46.6953 285.104 47.3242 285.104C47.7708 285.104 48.1491 285.013 48.459 284.831C48.7689 284.649 49.04 284.407 49.2725 284.106L50.0449 284.708C49.4251 285.66 48.4954 286.137 47.2559 286.137ZM47.0986 279.506C46.5882 279.506 46.1598 279.693 45.8135 280.066C45.4671 280.436 45.2529 280.955 45.1709 281.625H48.876V281.529C48.8395 280.887 48.6663 280.39 48.3564 280.039C48.0465 279.684 47.6273 279.506 47.0986 279.506ZM55.917 284.038C55.917 283.696 55.7871 283.432 55.5273 283.245C55.2721 283.054 54.8232 282.89 54.1807 282.753C53.5426 282.616 53.0345 282.452 52.6562 282.261C52.2826 282.069 52.0046 281.841 51.8223 281.577C51.6445 281.313 51.5557 280.998 51.5557 280.634C51.5557 280.028 51.8109 279.515 52.3213 279.096C52.8363 278.676 53.4925 278.467 54.29 278.467C55.1286 278.467 55.8076 278.683 56.3271 279.116C56.8512 279.549 57.1133 280.103 57.1133 280.777H55.8418C55.8418 280.431 55.6937 280.132 55.3975 279.882C55.1058 279.631 54.7367 279.506 54.29 279.506C53.8298 279.506 53.4697 279.606 53.21 279.807C52.9502 280.007 52.8203 280.269 52.8203 280.593C52.8203 280.898 52.9411 281.128 53.1826 281.283C53.4242 281.438 53.8594 281.586 54.4883 281.728C55.1217 281.869 55.6344 282.037 56.0264 282.233C56.4183 282.429 56.7077 282.666 56.8945 282.944C57.0859 283.218 57.1816 283.553 57.1816 283.949C57.1816 284.61 56.9173 285.141 56.3887 285.542C55.86 285.938 55.1742 286.137 54.3311 286.137C53.7386 286.137 53.2145 286.032 52.7588 285.822C52.3031 285.613 51.9453 285.321 51.6855 284.947C51.4303 284.569 51.3027 284.161 51.3027 283.724H52.5674C52.5902 284.147 52.7588 284.485 53.0732 284.735C53.3923 284.981 53.8115 285.104 54.3311 285.104C54.8096 285.104 55.1924 285.009 55.4795 284.817C55.7712 284.621 55.917 284.362 55.917 284.038ZM60.5449 276.812V278.604H61.9258V279.581H60.5449V284.168C60.5449 284.464 60.6064 284.688 60.7295 284.838C60.8525 284.984 61.0622 285.057 61.3584 285.057C61.5042 285.057 61.7048 285.029 61.96 284.975V286C61.6273 286.091 61.3037 286.137 60.9893 286.137C60.4242 286.137 59.998 285.966 59.7109 285.624C59.4238 285.282 59.2803 284.797 59.2803 284.168V279.581H57.9336V278.604H59.2803V276.812H60.5449ZM17.3965 298.24C17.3965 297.087 17.6631 296.171 18.1963 295.492C18.7295 294.809 19.4359 294.467 20.3154 294.467C21.2178 294.467 21.9219 294.786 22.4277 295.424L22.4893 294.604H23.6445V301.822C23.6445 302.779 23.3597 303.534 22.79 304.085C22.2249 304.636 21.4639 304.912 20.5068 304.912C19.9736 304.912 19.4518 304.798 18.9414 304.57C18.431 304.342 18.0413 304.03 17.7725 303.634L18.4287 302.875C18.971 303.545 19.6341 303.88 20.418 303.88C21.0332 303.88 21.5117 303.707 21.8535 303.36C22.1999 303.014 22.373 302.526 22.373 301.897V301.262C21.8672 301.845 21.1768 302.137 20.3018 302.137C19.4359 302.137 18.734 301.788 18.1963 301.091C17.6631 300.394 17.3965 299.443 17.3965 298.24ZM18.668 298.384C18.668 299.218 18.8389 299.874 19.1807 300.353C19.5225 300.826 20.001 301.063 20.6162 301.063C21.4137 301.063 21.9993 300.701 22.373 299.977V296.6C21.9857 295.893 21.4046 295.54 20.6299 295.54C20.0146 295.54 19.5339 295.779 19.1875 296.258C18.8411 296.736 18.668 297.445 18.668 298.384ZM29.1338 295.738C28.9424 295.706 28.735 295.69 28.5117 295.69C27.6823 295.69 27.1195 296.044 26.8232 296.75V302H25.5586V294.604H26.7891L26.8096 295.458C27.2243 294.797 27.8122 294.467 28.5732 294.467C28.8193 294.467 29.0062 294.499 29.1338 294.562V295.738ZM34.5957 302C34.5228 301.854 34.4635 301.594 34.418 301.221C33.8301 301.831 33.1283 302.137 32.3125 302.137C31.5833 302.137 30.984 301.932 30.5146 301.521C30.0498 301.107 29.8174 300.583 29.8174 299.949C29.8174 299.179 30.109 298.582 30.6924 298.158C31.2803 297.73 32.1051 297.516 33.167 297.516H34.3975V296.935C34.3975 296.493 34.2653 296.142 34.001 295.882C33.7367 295.618 33.347 295.485 32.832 295.485C32.3809 295.485 32.0026 295.599 31.6973 295.827C31.3919 296.055 31.2393 296.331 31.2393 296.654H29.9678C29.9678 296.285 30.0977 295.93 30.3574 295.588C30.6217 295.242 30.9772 294.968 31.4238 294.768C31.875 294.567 32.3695 294.467 32.9072 294.467C33.7594 294.467 34.4271 294.681 34.9102 295.109C35.3932 295.533 35.6439 296.119 35.6621 296.866V300.271C35.6621 300.95 35.7487 301.49 35.9219 301.891V302H34.5957ZM32.4971 301.036C32.8936 301.036 33.2695 300.934 33.625 300.729C33.9805 300.523 34.238 300.257 34.3975 299.929V298.411H33.4062C31.8568 298.411 31.082 298.865 31.082 299.771C31.082 300.168 31.2142 300.478 31.4785 300.701C31.7428 300.924 32.0824 301.036 32.4971 301.036ZM43.8926 298.384C43.8926 299.509 43.6351 300.416 43.1201 301.104C42.6051 301.793 41.9079 302.137 41.0283 302.137C40.1305 302.137 39.4242 301.852 38.9092 301.282V304.844H37.6445V294.604H38.7998L38.8613 295.424C39.3763 294.786 40.0918 294.467 41.0078 294.467C41.8965 294.467 42.5983 294.802 43.1133 295.472C43.6328 296.142 43.8926 297.074 43.8926 298.268V298.384ZM42.6279 298.24C42.6279 297.406 42.4502 296.748 42.0947 296.265C41.7393 295.782 41.2516 295.54 40.6318 295.54C39.8662 295.54 39.292 295.88 38.9092 296.559V300.093C39.2874 300.767 39.8662 301.104 40.6455 301.104C41.2516 301.104 41.7324 300.865 42.0879 300.387C42.4479 299.904 42.6279 299.188 42.6279 298.24ZM46.7705 295.499C47.3311 294.811 48.0602 294.467 48.958 294.467C50.5212 294.467 51.3096 295.349 51.3232 297.112V302H50.0586V297.105C50.054 296.572 49.931 296.178 49.6895 295.923C49.4525 295.668 49.0811 295.54 48.5752 295.54C48.165 295.54 47.805 295.649 47.4951 295.868C47.1852 296.087 46.9437 296.374 46.7705 296.729V302H45.5059V291.5H46.7705V295.499Z" fill="black"/>
                <line id="Line 1" x1="185" y1="291.5" x2="299" y2="291.5" stroke="black"/>
                <circle id="Ellipse 5" cx="175" cy="291" r="9.5" fill="white" stroke="#FF0000"/>
                <circle id="Ellipse 6" cx="309" cy="291" r="9.5" fill="white" stroke="#FF0000"/>
                <path id="Rectangle 3" d="M239.4 286.4H249.6V296.6H239.4V286.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            </g>
            <g id="l2"  class:inactive={active_ix!=1}>
            <path id="Coarsened graph" d="M12.3984 321.842C12.2754 322.895 11.8857 323.708 11.2295 324.282C10.5778 324.852 9.70964 325.137 8.625 325.137C7.44922 325.137 6.50586 324.715 5.79492 323.872C5.08854 323.029 4.73535 321.901 4.73535 320.488V319.531C4.73535 318.606 4.89941 317.793 5.22754 317.091C5.56022 316.389 6.02962 315.851 6.63574 315.478C7.24186 315.099 7.94368 314.91 8.74121 314.91C9.7985 314.91 10.6462 315.206 11.2842 315.799C11.9222 316.387 12.2936 317.202 12.3984 318.246H11.0791C10.9652 317.453 10.7168 316.879 10.334 316.523C9.95573 316.168 9.4248 315.99 8.74121 315.99C7.90267 315.99 7.24414 316.3 6.76562 316.92C6.29167 317.54 6.05469 318.422 6.05469 319.565V320.529C6.05469 321.609 6.28027 322.468 6.73145 323.106C7.18262 323.744 7.8138 324.063 8.625 324.063C9.35417 324.063 9.91243 323.899 10.2998 323.571C10.6917 323.239 10.9515 322.662 11.0791 321.842H12.3984ZM13.6631 321.233C13.6631 320.509 13.8044 319.857 14.0869 319.278C14.374 318.7 14.7705 318.253 15.2764 317.938C15.7868 317.624 16.3678 317.467 17.0195 317.467C18.0267 317.467 18.8402 317.815 19.46 318.513C20.0843 319.21 20.3965 320.137 20.3965 321.295V321.384C20.3965 322.104 20.2575 322.751 19.9795 323.325C19.7061 323.895 19.3118 324.339 18.7969 324.658C18.2865 324.977 17.6986 325.137 17.0332 325.137C16.0306 325.137 15.2171 324.788 14.5928 324.091C13.973 323.394 13.6631 322.471 13.6631 321.322V321.233ZM14.9346 321.384C14.9346 322.204 15.1237 322.863 15.502 323.359C15.8848 323.856 16.3952 324.104 17.0332 324.104C17.6758 324.104 18.1862 323.854 18.5645 323.353C18.9427 322.847 19.1318 322.14 19.1318 321.233C19.1318 320.422 18.9382 319.766 18.5508 319.265C18.168 318.759 17.6576 318.506 17.0195 318.506C16.3952 318.506 15.8916 318.754 15.5088 319.251C15.126 319.748 14.9346 320.459 14.9346 321.384ZM26.5488 325C26.4759 324.854 26.4167 324.594 26.3711 324.221C25.7832 324.831 25.0814 325.137 24.2656 325.137C23.5365 325.137 22.9372 324.932 22.4678 324.521C22.0029 324.107 21.7705 323.583 21.7705 322.949C21.7705 322.179 22.0622 321.582 22.6455 321.158C23.2334 320.73 24.0583 320.516 25.1201 320.516H26.3506V319.935C26.3506 319.493 26.2184 319.142 25.9541 318.882C25.6898 318.618 25.3001 318.485 24.7852 318.485C24.334 318.485 23.9557 318.599 23.6504 318.827C23.3451 319.055 23.1924 319.331 23.1924 319.654H21.9209C21.9209 319.285 22.0508 318.93 22.3105 318.588C22.5749 318.242 22.9303 317.968 23.377 317.768C23.8281 317.567 24.3226 317.467 24.8604 317.467C25.7126 317.467 26.3802 317.681 26.8633 318.109C27.3464 318.533 27.597 319.119 27.6152 319.866V323.271C27.6152 323.95 27.7018 324.49 27.875 324.891V325H26.5488ZM24.4502 324.036C24.8467 324.036 25.2227 323.934 25.5781 323.729C25.9336 323.523 26.1911 323.257 26.3506 322.929V321.411H25.3594C23.8099 321.411 23.0352 321.865 23.0352 322.771C23.0352 323.168 23.1673 323.478 23.4316 323.701C23.696 323.924 24.0355 324.036 24.4502 324.036ZM33.1729 318.738C32.9814 318.706 32.7741 318.69 32.5508 318.69C31.7214 318.69 31.1585 319.044 30.8623 319.75V325H29.5977V317.604H30.8281L30.8486 318.458C31.2633 317.797 31.8512 317.467 32.6123 317.467C32.8584 317.467 33.0452 317.499 33.1729 317.562V318.738ZM38.6484 323.038C38.6484 322.696 38.5186 322.432 38.2588 322.245C38.0036 322.054 37.5547 321.89 36.9121 321.753C36.2741 321.616 35.766 321.452 35.3877 321.261C35.014 321.069 34.736 320.841 34.5537 320.577C34.376 320.313 34.2871 319.998 34.2871 319.634C34.2871 319.028 34.5423 318.515 35.0527 318.096C35.5677 317.676 36.224 317.467 37.0215 317.467C37.86 317.467 38.5391 317.683 39.0586 318.116C39.5827 318.549 39.8447 319.103 39.8447 319.777H38.5732C38.5732 319.431 38.4251 319.132 38.1289 318.882C37.8372 318.631 37.4681 318.506 37.0215 318.506C36.5612 318.506 36.2012 318.606 35.9414 318.807C35.6816 319.007 35.5518 319.269 35.5518 319.593C35.5518 319.898 35.6725 320.128 35.9141 320.283C36.1556 320.438 36.5908 320.586 37.2197 320.728C37.8532 320.869 38.3659 321.037 38.7578 321.233C39.1497 321.429 39.4391 321.666 39.626 321.944C39.8174 322.218 39.9131 322.553 39.9131 322.949C39.9131 323.61 39.6488 324.141 39.1201 324.542C38.5915 324.938 37.9056 325.137 37.0625 325.137C36.4701 325.137 35.946 325.032 35.4902 324.822C35.0345 324.613 34.6768 324.321 34.417 323.947C34.1618 323.569 34.0342 323.161 34.0342 322.724H35.2988C35.3216 323.147 35.4902 323.485 35.8047 323.735C36.1237 323.981 36.543 324.104 37.0625 324.104C37.541 324.104 37.9238 324.009 38.2109 323.817C38.5026 323.621 38.6484 323.362 38.6484 323.038ZM44.6299 325.137C43.6273 325.137 42.8115 324.809 42.1826 324.152C41.5537 323.492 41.2393 322.61 41.2393 321.507V321.274C41.2393 320.541 41.3783 319.887 41.6562 319.312C41.9388 318.734 42.3307 318.283 42.832 317.959C43.3379 317.631 43.8848 317.467 44.4727 317.467C45.4342 317.467 46.1816 317.784 46.7148 318.417C47.248 319.05 47.5146 319.957 47.5146 321.138V321.664H42.5039C42.5221 322.393 42.734 322.983 43.1396 323.435C43.5498 323.881 44.0693 324.104 44.6982 324.104C45.1449 324.104 45.5231 324.013 45.833 323.831C46.1429 323.649 46.4141 323.407 46.6465 323.106L47.4189 323.708C46.7992 324.66 45.8695 325.137 44.6299 325.137ZM44.4727 318.506C43.9622 318.506 43.5339 318.693 43.1875 319.066C42.8411 319.436 42.627 319.955 42.5449 320.625H46.25V320.529C46.2135 319.887 46.0404 319.39 45.7305 319.039C45.4206 318.684 45.0013 318.506 44.4727 318.506ZM50.1807 317.604L50.2217 318.533C50.7868 317.822 51.5251 317.467 52.4365 317.467C53.9997 317.467 54.7881 318.349 54.8018 320.112V325H53.5371V320.105C53.5326 319.572 53.4095 319.178 53.168 318.923C52.931 318.668 52.5596 318.54 52.0537 318.54C51.6436 318.54 51.2835 318.649 50.9736 318.868C50.6637 319.087 50.4222 319.374 50.249 319.729V325H48.9844V317.604H50.1807ZM59.7783 325.137C58.7757 325.137 57.96 324.809 57.3311 324.152C56.7021 323.492 56.3877 322.61 56.3877 321.507V321.274C56.3877 320.541 56.5267 319.887 56.8047 319.312C57.0872 318.734 57.4792 318.283 57.9805 317.959C58.4863 317.631 59.0332 317.467 59.6211 317.467C60.5827 317.467 61.3301 317.784 61.8633 318.417C62.3965 319.05 62.6631 319.957 62.6631 321.138V321.664H57.6523C57.6706 322.393 57.8825 322.983 58.2881 323.435C58.6982 323.881 59.2178 324.104 59.8467 324.104C60.2933 324.104 60.6715 324.013 60.9814 323.831C61.2913 323.649 61.5625 323.407 61.7949 323.106L62.5674 323.708C61.9476 324.66 61.0179 325.137 59.7783 325.137ZM59.6211 318.506C59.1107 318.506 58.6823 318.693 58.3359 319.066C57.9896 319.436 57.7754 319.955 57.6934 320.625H61.3984V320.529C61.362 319.887 61.1888 319.39 60.8789 319.039C60.569 318.684 60.1497 318.506 59.6211 318.506ZM63.8252 321.24C63.8252 320.105 64.0941 319.194 64.6318 318.506C65.1696 317.813 65.8737 317.467 66.7441 317.467C67.61 317.467 68.2959 317.763 68.8018 318.355V314.5H70.0664V325H68.9043L68.8428 324.207C68.3369 324.827 67.6328 325.137 66.7305 325.137C65.8737 325.137 65.1742 324.786 64.6318 324.084C64.0941 323.382 63.8252 322.466 63.8252 321.336V321.24ZM65.0898 321.384C65.0898 322.222 65.263 322.879 65.6094 323.353C65.9557 323.826 66.4342 324.063 67.0449 324.063C67.847 324.063 68.4326 323.703 68.8018 322.983V319.586C68.4235 318.889 67.8424 318.54 67.0586 318.54C66.4388 318.54 65.9557 318.779 65.6094 319.258C65.263 319.736 65.0898 320.445 65.0898 321.384ZM20.3965 337.24C20.3965 336.087 20.6631 335.171 21.1963 334.492C21.7295 333.809 22.4359 333.467 23.3154 333.467C24.2178 333.467 24.9219 333.786 25.4277 334.424L25.4893 333.604H26.6445V340.822C26.6445 341.779 26.3597 342.534 25.79 343.085C25.2249 343.636 24.4639 343.912 23.5068 343.912C22.9736 343.912 22.4518 343.798 21.9414 343.57C21.431 343.342 21.0413 343.03 20.7725 342.634L21.4287 341.875C21.971 342.545 22.6341 342.88 23.418 342.88C24.0332 342.88 24.5117 342.707 24.8535 342.36C25.1999 342.014 25.373 341.526 25.373 340.897V340.262C24.8672 340.845 24.1768 341.137 23.3018 341.137C22.4359 341.137 21.734 340.788 21.1963 340.091C20.6631 339.394 20.3965 338.443 20.3965 337.24ZM21.668 337.384C21.668 338.218 21.8389 338.874 22.1807 339.353C22.5225 339.826 23.001 340.063 23.6162 340.063C24.4137 340.063 24.9993 339.701 25.373 338.977V335.6C24.9857 334.893 24.4046 334.54 23.6299 334.54C23.0146 334.54 22.5339 334.779 22.1875 335.258C21.8411 335.736 21.668 336.445 21.668 337.384ZM32.1338 334.738C31.9424 334.706 31.735 334.69 31.5117 334.69C30.6823 334.69 30.1195 335.044 29.8232 335.75V341H28.5586V333.604H29.7891L29.8096 334.458C30.2243 333.797 30.8122 333.467 31.5732 333.467C31.8193 333.467 32.0062 333.499 32.1338 333.562V334.738ZM37.5957 341C37.5228 340.854 37.4635 340.594 37.418 340.221C36.8301 340.831 36.1283 341.137 35.3125 341.137C34.5833 341.137 33.984 340.932 33.5146 340.521C33.0498 340.107 32.8174 339.583 32.8174 338.949C32.8174 338.179 33.109 337.582 33.6924 337.158C34.2803 336.73 35.1051 336.516 36.167 336.516H37.3975V335.935C37.3975 335.493 37.2653 335.142 37.001 334.882C36.7367 334.618 36.347 334.485 35.832 334.485C35.3809 334.485 35.0026 334.599 34.6973 334.827C34.3919 335.055 34.2393 335.331 34.2393 335.654H32.9678C32.9678 335.285 33.0977 334.93 33.3574 334.588C33.6217 334.242 33.9772 333.968 34.4238 333.768C34.875 333.567 35.3695 333.467 35.9072 333.467C36.7594 333.467 37.4271 333.681 37.9102 334.109C38.3932 334.533 38.6439 335.119 38.6621 335.866V339.271C38.6621 339.95 38.7487 340.49 38.9219 340.891V341H37.5957ZM35.4971 340.036C35.8936 340.036 36.2695 339.934 36.625 339.729C36.9805 339.523 37.238 339.257 37.3975 338.929V337.411H36.4062C34.8568 337.411 34.082 337.865 34.082 338.771C34.082 339.168 34.2142 339.478 34.4785 339.701C34.7428 339.924 35.0824 340.036 35.4971 340.036ZM46.8926 337.384C46.8926 338.509 46.6351 339.416 46.1201 340.104C45.6051 340.793 44.9079 341.137 44.0283 341.137C43.1305 341.137 42.4242 340.852 41.9092 340.282V343.844H40.6445V333.604H41.7998L41.8613 334.424C42.3763 333.786 43.0918 333.467 44.0078 333.467C44.8965 333.467 45.5983 333.802 46.1133 334.472C46.6328 335.142 46.8926 336.074 46.8926 337.268V337.384ZM45.6279 337.24C45.6279 336.406 45.4502 335.748 45.0947 335.265C44.7393 334.782 44.2516 334.54 43.6318 334.54C42.8662 334.54 42.292 334.88 41.9092 335.559V339.093C42.2874 339.767 42.8662 340.104 43.6455 340.104C44.2516 340.104 44.7324 339.865 45.0879 339.387C45.4479 338.904 45.6279 338.188 45.6279 337.24ZM49.7705 334.499C50.3311 333.811 51.0602 333.467 51.958 333.467C53.5212 333.467 54.3096 334.349 54.3232 336.112V341H53.0586V336.105C53.054 335.572 52.931 335.178 52.6895 334.923C52.4525 334.668 52.0811 334.54 51.5752 334.54C51.165 334.54 50.805 334.649 50.4951 334.868C50.1852 335.087 49.9437 335.374 49.7705 335.729V341H48.5059V330.5H49.7705V334.499Z" fill="black"/>
            <line id="Line 2" x1="155" y1="325.5" x2="334" y2="325.5" stroke="black"/>
            <circle id="Ellipse 7" cx="212" cy="325" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 8" cx="277" cy="325" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 9" cx="344" cy="325" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 10" cx="145" cy="326" r="9.5" fill="white" stroke="#FF0000"/>
            <path id="Rectangle 4" d="M239.4 320.4H249.6V330.6H239.4V320.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 7" d="M174.4 320.4H184.6V330.6H174.4V320.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 5" d="M304.4 320.4H314.6V330.6H304.4V320.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            </g>
            <g id="l3"  class:inactive={active_ix!=2}>
            <path id="Original graph" d="M19.4199 356.345C19.4199 357.32 19.2559 358.172 18.9277 358.901C18.5996 359.626 18.1348 360.18 17.5332 360.562C16.9316 360.945 16.2298 361.137 15.4277 361.137C14.6439 361.137 13.9489 360.945 13.3428 360.562C12.7367 360.175 12.265 359.626 11.9277 358.915C11.5951 358.2 11.4242 357.372 11.415 356.434V355.716C11.415 354.759 11.5814 353.913 11.9141 353.18C12.2467 352.446 12.7161 351.885 13.3223 351.498C13.9329 351.106 14.6302 350.91 15.4141 350.91C16.2116 350.91 16.9134 351.104 17.5195 351.491C18.1302 351.874 18.5996 352.432 18.9277 353.166C19.2559 353.895 19.4199 354.745 19.4199 355.716V356.345ZM18.1143 355.702C18.1143 354.522 17.8773 353.617 17.4033 352.988C16.9294 352.355 16.2663 352.038 15.4141 352.038C14.5846 352.038 13.9307 352.355 13.4521 352.988C12.9782 353.617 12.7344 354.492 12.7207 355.613V356.345C12.7207 357.489 12.96 358.389 13.4385 359.045C13.9215 359.697 14.5846 360.022 15.4277 360.022C16.2754 360.022 16.9316 359.715 17.3965 359.1C17.8613 358.48 18.1006 357.593 18.1143 356.44V355.702ZM24.7656 354.738C24.5742 354.706 24.3669 354.69 24.1436 354.69C23.3141 354.69 22.7513 355.044 22.4551 355.75V361H21.1904V353.604H22.4209L22.4414 354.458C22.8561 353.797 23.444 353.467 24.2051 353.467C24.4512 353.467 24.638 353.499 24.7656 353.562V354.738ZM27.3086 361H26.0439V353.604H27.3086V361ZM25.9414 351.642C25.9414 351.437 26.0029 351.263 26.126 351.122C26.2536 350.981 26.4404 350.91 26.6865 350.91C26.9326 350.91 27.1195 350.981 27.2471 351.122C27.3747 351.263 27.4385 351.437 27.4385 351.642C27.4385 351.847 27.3747 352.018 27.2471 352.154C27.1195 352.291 26.9326 352.359 26.6865 352.359C26.4404 352.359 26.2536 352.291 26.126 352.154C26.0029 352.018 25.9414 351.847 25.9414 351.642ZM29.0381 357.24C29.0381 356.087 29.3047 355.171 29.8379 354.492C30.3711 353.809 31.0775 353.467 31.957 353.467C32.8594 353.467 33.5635 353.786 34.0693 354.424L34.1309 353.604H35.2861V360.822C35.2861 361.779 35.0013 362.534 34.4316 363.085C33.8665 363.636 33.1055 363.912 32.1484 363.912C31.6152 363.912 31.0934 363.798 30.583 363.57C30.0726 363.342 29.6829 363.03 29.4141 362.634L30.0703 361.875C30.6126 362.545 31.2757 362.88 32.0596 362.88C32.6748 362.88 33.1533 362.707 33.4951 362.36C33.8415 362.014 34.0146 361.526 34.0146 360.897V360.262C33.5088 360.845 32.8184 361.137 31.9434 361.137C31.0775 361.137 30.3757 360.788 29.8379 360.091C29.3047 359.394 29.0381 358.443 29.0381 357.24ZM30.3096 357.384C30.3096 358.218 30.4805 358.874 30.8223 359.353C31.1641 359.826 31.6426 360.063 32.2578 360.063C33.0553 360.063 33.641 359.701 34.0146 358.977V355.6C33.6273 354.893 33.0462 354.54 32.2715 354.54C31.6562 354.54 31.1755 354.779 30.8291 355.258C30.4827 355.736 30.3096 356.445 30.3096 357.384ZM38.5742 361H37.3096V353.604H38.5742V361ZM37.207 351.642C37.207 351.437 37.2686 351.263 37.3916 351.122C37.5192 350.981 37.7061 350.91 37.9521 350.91C38.1982 350.91 38.3851 350.981 38.5127 351.122C38.6403 351.263 38.7041 351.437 38.7041 351.642C38.7041 351.847 38.6403 352.018 38.5127 352.154C38.3851 352.291 38.1982 352.359 37.9521 352.359C37.7061 352.359 37.5192 352.291 37.3916 352.154C37.2686 352.018 37.207 351.847 37.207 351.642ZM41.8008 353.604L41.8418 354.533C42.4069 353.822 43.1452 353.467 44.0566 353.467C45.6198 353.467 46.4082 354.349 46.4219 356.112V361H45.1572V356.105C45.1527 355.572 45.0296 355.178 44.7881 354.923C44.5511 354.668 44.1797 354.54 43.6738 354.54C43.2637 354.54 42.9036 354.649 42.5938 354.868C42.2839 355.087 42.0423 355.374 41.8691 355.729V361H40.6045V353.604H41.8008ZM52.8955 361C52.8226 360.854 52.7633 360.594 52.7178 360.221C52.1299 360.831 51.4281 361.137 50.6123 361.137C49.8831 361.137 49.2839 360.932 48.8145 360.521C48.3496 360.107 48.1172 359.583 48.1172 358.949C48.1172 358.179 48.4089 357.582 48.9922 357.158C49.5801 356.73 50.4049 356.516 51.4668 356.516H52.6973V355.935C52.6973 355.493 52.5651 355.142 52.3008 354.882C52.0365 354.618 51.6468 354.485 51.1318 354.485C50.6807 354.485 50.3024 354.599 49.9971 354.827C49.6917 355.055 49.5391 355.331 49.5391 355.654H48.2676C48.2676 355.285 48.3975 354.93 48.6572 354.588C48.9215 354.242 49.277 353.968 49.7236 353.768C50.1748 353.567 50.6693 353.467 51.207 353.467C52.0592 353.467 52.7269 353.681 53.21 354.109C53.693 354.533 53.9437 355.119 53.9619 355.866V359.271C53.9619 359.95 54.0485 360.49 54.2217 360.891V361H52.8955ZM50.7969 360.036C51.1934 360.036 51.5693 359.934 51.9248 359.729C52.2803 359.523 52.5378 359.257 52.6973 358.929V357.411H51.7061C50.1566 357.411 49.3818 357.865 49.3818 358.771C49.3818 359.168 49.514 359.478 49.7783 359.701C50.0426 359.924 50.3822 360.036 50.7969 360.036ZM57.3184 361H56.0537V350.5H57.3184V361ZM17.3965 373.24C17.3965 372.087 17.6631 371.171 18.1963 370.492C18.7295 369.809 19.4359 369.467 20.3154 369.467C21.2178 369.467 21.9219 369.786 22.4277 370.424L22.4893 369.604H23.6445V376.822C23.6445 377.779 23.3597 378.534 22.79 379.085C22.2249 379.636 21.4639 379.912 20.5068 379.912C19.9736 379.912 19.4518 379.798 18.9414 379.57C18.431 379.342 18.0413 379.03 17.7725 378.634L18.4287 377.875C18.971 378.545 19.6341 378.88 20.418 378.88C21.0332 378.88 21.5117 378.707 21.8535 378.36C22.1999 378.014 22.373 377.526 22.373 376.897V376.262C21.8672 376.845 21.1768 377.137 20.3018 377.137C19.4359 377.137 18.734 376.788 18.1963 376.091C17.6631 375.394 17.3965 374.443 17.3965 373.24ZM18.668 373.384C18.668 374.218 18.8389 374.874 19.1807 375.353C19.5225 375.826 20.001 376.063 20.6162 376.063C21.4137 376.063 21.9993 375.701 22.373 374.977V371.6C21.9857 370.893 21.4046 370.54 20.6299 370.54C20.0146 370.54 19.5339 370.779 19.1875 371.258C18.8411 371.736 18.668 372.445 18.668 373.384ZM29.1338 370.738C28.9424 370.706 28.735 370.69 28.5117 370.69C27.6823 370.69 27.1195 371.044 26.8232 371.75V377H25.5586V369.604H26.7891L26.8096 370.458C27.2243 369.797 27.8122 369.467 28.5732 369.467C28.8193 369.467 29.0062 369.499 29.1338 369.562V370.738ZM34.5957 377C34.5228 376.854 34.4635 376.594 34.418 376.221C33.8301 376.831 33.1283 377.137 32.3125 377.137C31.5833 377.137 30.984 376.932 30.5146 376.521C30.0498 376.107 29.8174 375.583 29.8174 374.949C29.8174 374.179 30.109 373.582 30.6924 373.158C31.2803 372.73 32.1051 372.516 33.167 372.516H34.3975V371.935C34.3975 371.493 34.2653 371.142 34.001 370.882C33.7367 370.618 33.347 370.485 32.832 370.485C32.3809 370.485 32.0026 370.599 31.6973 370.827C31.3919 371.055 31.2393 371.331 31.2393 371.654H29.9678C29.9678 371.285 30.0977 370.93 30.3574 370.588C30.6217 370.242 30.9772 369.968 31.4238 369.768C31.875 369.567 32.3695 369.467 32.9072 369.467C33.7594 369.467 34.4271 369.681 34.9102 370.109C35.3932 370.533 35.6439 371.119 35.6621 371.866V375.271C35.6621 375.95 35.7487 376.49 35.9219 376.891V377H34.5957ZM32.4971 376.036C32.8936 376.036 33.2695 375.934 33.625 375.729C33.9805 375.523 34.238 375.257 34.3975 374.929V373.411H33.4062C31.8568 373.411 31.082 373.865 31.082 374.771C31.082 375.168 31.2142 375.478 31.4785 375.701C31.7428 375.924 32.0824 376.036 32.4971 376.036ZM43.8926 373.384C43.8926 374.509 43.6351 375.416 43.1201 376.104C42.6051 376.793 41.9079 377.137 41.0283 377.137C40.1305 377.137 39.4242 376.852 38.9092 376.282V379.844H37.6445V369.604H38.7998L38.8613 370.424C39.3763 369.786 40.0918 369.467 41.0078 369.467C41.8965 369.467 42.5983 369.802 43.1133 370.472C43.6328 371.142 43.8926 372.074 43.8926 373.268V373.384ZM42.6279 373.24C42.6279 372.406 42.4502 371.748 42.0947 371.265C41.7393 370.782 41.2516 370.54 40.6318 370.54C39.8662 370.54 39.292 370.88 38.9092 371.559V375.093C39.2874 375.767 39.8662 376.104 40.6455 376.104C41.2516 376.104 41.7324 375.865 42.0879 375.387C42.4479 374.904 42.6279 374.188 42.6279 373.24ZM46.7705 370.499C47.3311 369.811 48.0602 369.467 48.958 369.467C50.5212 369.467 51.3096 370.349 51.3232 372.112V377H50.0586V372.105C50.054 371.572 49.931 371.178 49.6895 370.923C49.4525 370.668 49.0811 370.54 48.5752 370.54C48.165 370.54 47.805 370.649 47.4951 370.868C47.1852 371.087 46.9437 371.374 46.7705 371.729V377H45.5059V366.5H46.7705V370.499Z" fill="black"/>
            <line id="Line 3" x1="94" y1="361.5" x2="393" y2="361.5" stroke="black"/>
            <circle id="Ellipse 11" cx="223" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 12" cx="268" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 17" cx="403" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 13" cx="313" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 14" cx="178" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 15" cx="133" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <circle id="Ellipse 16" cx="358" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            <path id="Rectangle 8" d="M240.4 356.4H250.6V366.6H240.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 9" d="M195.4 356.4H205.6V366.6H195.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 11" d="M150.4 356.4H160.6V366.6H150.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 12" d="M330.4 356.4H340.6V366.6H330.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 13" d="M375.4 356.4H385.6V366.6H375.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 14" d="M105.4 356.4H115.6V366.6H105.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <path id="Rectangle 10" d="M285.4 356.4H295.6V366.6H285.4V356.4Z" fill="#8FF8FF" stroke="black" stroke-width="0.8"/>
            <circle id="Ellipse 18" cx="88" cy="361" r="9.5" fill="white" stroke="#FF0000"/>
            </g>
            </g>


            <g id="key">
                <line id="Line 4" x1="697" y1="75.5" x2="739" y2="75.5" stroke="#008000" stroke-width="3"/>
                <line id="Line 5" x1="697" y1="100.5" x2="739" y2="100.5" stroke="#0095DD" stroke-opacity="0.4" stroke-width="3"/>
                <line id="Line 6" x1="697" y1="126.5" x2="739" y2="126.5" stroke="#FF6347" stroke-width="3" stroke-dasharray="6 2"/>
                <path id="Target signal" d="M755.758 69.8594H752.102V80H750.609V69.8594H746.961V68.625H755.758V69.8594ZM761.547 80C761.464 79.8333 761.396 79.5365 761.344 79.1094C760.672 79.8073 759.87 80.1562 758.938 80.1562C758.104 80.1562 757.419 79.9219 756.883 79.4531C756.352 78.9792 756.086 78.3802 756.086 77.6562C756.086 76.776 756.419 76.0938 757.086 75.6094C757.758 75.1198 758.701 74.875 759.914 74.875H761.32V74.2109C761.32 73.7057 761.169 73.3047 760.867 73.0078C760.565 72.7057 760.12 72.5547 759.531 72.5547C759.016 72.5547 758.583 72.6849 758.234 72.9453C757.885 73.2057 757.711 73.5208 757.711 73.8906H756.258C756.258 73.4688 756.406 73.0625 756.703 72.6719C757.005 72.276 757.411 71.9635 757.922 71.7344C758.438 71.5052 759.003 71.3906 759.617 71.3906C760.591 71.3906 761.354 71.6354 761.906 72.125C762.458 72.6094 762.745 73.2786 762.766 74.1328V78.0234C762.766 78.7995 762.865 79.4167 763.062 79.875V80H761.547ZM759.148 78.8984C759.602 78.8984 760.031 78.7812 760.438 78.5469C760.844 78.3125 761.138 78.0078 761.32 77.6328V75.8984H760.188C758.417 75.8984 757.531 76.4167 757.531 77.4531C757.531 77.9062 757.682 78.2604 757.984 78.5156C758.286 78.7708 758.674 78.8984 759.148 78.8984ZM769.117 72.8438C768.898 72.8073 768.661 72.7891 768.406 72.7891C767.458 72.7891 766.815 73.1927 766.477 74V80H765.031V71.5469H766.438L766.461 72.5234C766.935 71.7682 767.607 71.3906 768.477 71.3906C768.758 71.3906 768.971 71.4271 769.117 71.5V72.8438ZM769.953 75.7031C769.953 74.3854 770.258 73.3385 770.867 72.5625C771.477 71.7812 772.284 71.3906 773.289 71.3906C774.32 71.3906 775.125 71.7552 775.703 72.4844L775.773 71.5469H777.094V79.7969C777.094 80.8906 776.768 81.7526 776.117 82.3828C775.471 83.013 774.602 83.3281 773.508 83.3281C772.898 83.3281 772.302 83.1979 771.719 82.9375C771.135 82.6771 770.69 82.3203 770.383 81.8672L771.133 81C771.753 81.7656 772.51 82.1484 773.406 82.1484C774.109 82.1484 774.656 81.9505 775.047 81.5547C775.443 81.1589 775.641 80.6016 775.641 79.8828V79.1562C775.062 79.8229 774.273 80.1562 773.273 80.1562C772.284 80.1562 771.482 79.7578 770.867 78.9609C770.258 78.1641 769.953 77.0781 769.953 75.7031ZM771.406 75.8672C771.406 76.8203 771.602 77.5703 771.992 78.1172C772.383 78.6589 772.93 78.9297 773.633 78.9297C774.544 78.9297 775.214 78.5156 775.641 77.6875V73.8281C775.198 73.0208 774.534 72.6172 773.648 72.6172C772.945 72.6172 772.396 72.8906 772 73.4375C771.604 73.9844 771.406 74.7943 771.406 75.8672ZM782.789 80.1562C781.643 80.1562 780.711 79.7812 779.992 79.0312C779.273 78.276 778.914 77.2682 778.914 76.0078V75.7422C778.914 74.9036 779.073 74.1562 779.391 73.5C779.714 72.8385 780.161 72.3229 780.734 71.9531C781.312 71.5781 781.938 71.3906 782.609 71.3906C783.708 71.3906 784.562 71.7526 785.172 72.4766C785.781 73.2005 786.086 74.237 786.086 75.5859V76.1875H780.359C780.38 77.0208 780.622 77.6953 781.086 78.2109C781.555 78.7214 782.148 78.9766 782.867 78.9766C783.378 78.9766 783.81 78.8724 784.164 78.6641C784.518 78.4557 784.828 78.1797 785.094 77.8359L785.977 78.5234C785.268 79.612 784.206 80.1562 782.789 80.1562ZM782.609 72.5781C782.026 72.5781 781.536 72.7917 781.141 73.2188C780.745 73.6406 780.5 74.2344 780.406 75H784.641V74.8906C784.599 74.1562 784.401 73.5885 784.047 73.1875C783.693 72.7812 783.214 72.5781 782.609 72.5781ZM789.727 69.5V71.5469H791.305V72.6641H789.727V77.9062C789.727 78.2448 789.797 78.5 789.938 78.6719C790.078 78.8385 790.318 78.9219 790.656 78.9219C790.823 78.9219 791.052 78.8906 791.344 78.8281V80C790.964 80.1042 790.594 80.1562 790.234 80.1562C789.589 80.1562 789.102 79.9609 788.773 79.5703C788.445 79.1797 788.281 78.625 788.281 77.9062V72.6641H786.742V71.5469H788.281V69.5H789.727ZM801.891 77.7578C801.891 77.3672 801.742 77.0651 801.445 76.8516C801.154 76.6328 800.641 76.4453 799.906 76.2891C799.177 76.1328 798.596 75.9453 798.164 75.7266C797.737 75.5078 797.419 75.2474 797.211 74.9453C797.008 74.6432 796.906 74.2839 796.906 73.8672C796.906 73.1745 797.198 72.5885 797.781 72.1094C798.37 71.6302 799.12 71.3906 800.031 71.3906C800.99 71.3906 801.766 71.638 802.359 72.1328C802.958 72.6276 803.258 73.2604 803.258 74.0312H801.805C801.805 73.6354 801.635 73.2943 801.297 73.0078C800.964 72.7214 800.542 72.5781 800.031 72.5781C799.505 72.5781 799.094 72.6927 798.797 72.9219C798.5 73.151 798.352 73.4505 798.352 73.8203C798.352 74.1693 798.49 74.4323 798.766 74.6094C799.042 74.7865 799.539 74.9557 800.258 75.1172C800.982 75.2786 801.568 75.4714 802.016 75.6953C802.464 75.9193 802.794 76.1901 803.008 76.5078C803.227 76.8203 803.336 77.2031 803.336 77.6562C803.336 78.4115 803.034 79.0182 802.43 79.4766C801.826 79.9297 801.042 80.1562 800.078 80.1562C799.401 80.1562 798.802 80.0365 798.281 79.7969C797.76 79.5573 797.352 79.224 797.055 78.7969C796.763 78.3646 796.617 77.8984 796.617 77.3984H798.062C798.089 77.8828 798.281 78.2682 798.641 78.5547C799.005 78.8359 799.484 78.9766 800.078 78.9766C800.625 78.9766 801.062 78.8672 801.391 78.6484C801.724 78.4245 801.891 78.1276 801.891 77.7578ZM806.789 80H805.344V71.5469H806.789V80ZM805.227 69.3047C805.227 69.0703 805.297 68.8724 805.438 68.7109C805.583 68.5495 805.797 68.4688 806.078 68.4688C806.359 68.4688 806.573 68.5495 806.719 68.7109C806.865 68.8724 806.938 69.0703 806.938 69.3047C806.938 69.5391 806.865 69.7344 806.719 69.8906C806.573 70.0469 806.359 70.125 806.078 70.125C805.797 70.125 805.583 70.0469 805.438 69.8906C805.297 69.7344 805.227 69.5391 805.227 69.3047ZM808.766 75.7031C808.766 74.3854 809.07 73.3385 809.68 72.5625C810.289 71.7812 811.096 71.3906 812.102 71.3906C813.133 71.3906 813.938 71.7552 814.516 72.4844L814.586 71.5469H815.906V79.7969C815.906 80.8906 815.581 81.7526 814.93 82.3828C814.284 83.013 813.414 83.3281 812.32 83.3281C811.711 83.3281 811.115 83.1979 810.531 82.9375C809.948 82.6771 809.503 82.3203 809.195 81.8672L809.945 81C810.565 81.7656 811.323 82.1484 812.219 82.1484C812.922 82.1484 813.469 81.9505 813.859 81.5547C814.255 81.1589 814.453 80.6016 814.453 79.8828V79.1562C813.875 79.8229 813.086 80.1562 812.086 80.1562C811.096 80.1562 810.294 79.7578 809.68 78.9609C809.07 78.1641 808.766 77.0781 808.766 75.7031ZM810.219 75.8672C810.219 76.8203 810.414 77.5703 810.805 78.1172C811.195 78.6589 811.742 78.9297 812.445 78.9297C813.357 78.9297 814.026 78.5156 814.453 77.6875V73.8281C814.01 73.0208 813.346 72.6172 812.461 72.6172C811.758 72.6172 811.208 72.8906 810.812 73.4375C810.417 73.9844 810.219 74.7943 810.219 75.8672ZM819.461 71.5469L819.508 72.6094C820.154 71.7969 820.997 71.3906 822.039 71.3906C823.826 71.3906 824.727 72.3984 824.742 74.4141V80H823.297V74.4062C823.292 73.7969 823.151 73.3464 822.875 73.0547C822.604 72.763 822.18 72.6172 821.602 72.6172C821.133 72.6172 820.721 72.7422 820.367 72.9922C820.013 73.2422 819.737 73.5703 819.539 73.9766V80H818.094V71.5469H819.461ZM832.141 80C832.057 79.8333 831.99 79.5365 831.938 79.1094C831.266 79.8073 830.464 80.1562 829.531 80.1562C828.698 80.1562 828.013 79.9219 827.477 79.4531C826.945 78.9792 826.68 78.3802 826.68 77.6562C826.68 76.776 827.013 76.0938 827.68 75.6094C828.352 75.1198 829.294 74.875 830.508 74.875H831.914V74.2109C831.914 73.7057 831.763 73.3047 831.461 73.0078C831.159 72.7057 830.714 72.5547 830.125 72.5547C829.609 72.5547 829.177 72.6849 828.828 72.9453C828.479 73.2057 828.305 73.5208 828.305 73.8906H826.852C826.852 73.4688 827 73.0625 827.297 72.6719C827.599 72.276 828.005 71.9635 828.516 71.7344C829.031 71.5052 829.596 71.3906 830.211 71.3906C831.185 71.3906 831.948 71.6354 832.5 72.125C833.052 72.6094 833.339 73.2786 833.359 74.1328V78.0234C833.359 78.7995 833.458 79.4167 833.656 79.875V80H832.141ZM829.742 78.8984C830.195 78.8984 830.625 78.7812 831.031 78.5469C831.438 78.3125 831.732 78.0078 831.914 77.6328V75.8984H830.781C829.01 75.8984 828.125 76.4167 828.125 77.4531C828.125 77.9062 828.276 78.2604 828.578 78.5156C828.88 78.7708 829.268 78.8984 829.742 78.8984ZM837.195 80H835.75V68H837.195V80Z" fill="black"/>
                <path id="Source signal" d="M751.125 101.93C749.839 101.56 748.901 101.107 748.312 100.57C747.729 100.029 747.438 99.362 747.438 98.5703C747.438 97.6745 747.794 96.9349 748.508 96.3516C749.227 95.763 750.159 95.4688 751.305 95.4688C752.086 95.4688 752.781 95.6198 753.391 95.9219C754.005 96.224 754.479 96.6406 754.812 97.1719C755.151 97.7031 755.32 98.2839 755.32 98.9141H753.812C753.812 98.2266 753.594 97.6875 753.156 97.2969C752.719 96.901 752.102 96.7031 751.305 96.7031C750.565 96.7031 749.987 96.8672 749.57 97.1953C749.159 97.5182 748.953 97.9688 748.953 98.5469C748.953 99.0104 749.148 99.4036 749.539 99.7266C749.935 100.044 750.604 100.336 751.547 100.602C752.495 100.867 753.234 101.161 753.766 101.484C754.302 101.802 754.698 102.174 754.953 102.602C755.214 103.029 755.344 103.531 755.344 104.109C755.344 105.031 754.984 105.771 754.266 106.328C753.547 106.88 752.586 107.156 751.383 107.156C750.602 107.156 749.872 107.008 749.195 106.711C748.518 106.409 747.995 105.997 747.625 105.477C747.26 104.956 747.078 104.365 747.078 103.703H748.586C748.586 104.391 748.839 104.935 749.344 105.336C749.854 105.732 750.534 105.93 751.383 105.93C752.174 105.93 752.781 105.768 753.203 105.445C753.625 105.122 753.836 104.682 753.836 104.125C753.836 103.568 753.641 103.138 753.25 102.836C752.859 102.529 752.151 102.227 751.125 101.93ZM756.664 102.695C756.664 101.867 756.826 101.122 757.148 100.461C757.477 99.7995 757.93 99.2891 758.508 98.9297C759.091 98.5703 759.755 98.3906 760.5 98.3906C761.651 98.3906 762.581 98.7891 763.289 99.5859C764.003 100.383 764.359 101.443 764.359 102.766V102.867C764.359 103.69 764.201 104.43 763.883 105.086C763.57 105.737 763.12 106.245 762.531 106.609C761.948 106.974 761.276 107.156 760.516 107.156C759.37 107.156 758.44 106.758 757.727 105.961C757.018 105.164 756.664 104.109 756.664 102.797V102.695ZM758.117 102.867C758.117 103.805 758.333 104.557 758.766 105.125C759.203 105.693 759.786 105.977 760.516 105.977C761.25 105.977 761.833 105.69 762.266 105.117C762.698 104.539 762.914 103.732 762.914 102.695C762.914 101.768 762.693 101.018 762.25 100.445C761.812 99.8672 761.229 99.5781 760.5 99.5781C759.786 99.5781 759.211 99.862 758.773 100.43C758.336 100.997 758.117 101.81 758.117 102.867ZM771.391 106.164C770.828 106.826 770.003 107.156 768.914 107.156C768.013 107.156 767.326 106.896 766.852 106.375C766.383 105.849 766.146 105.073 766.141 104.047V98.5469H767.586V104.008C767.586 105.289 768.107 105.93 769.148 105.93C770.253 105.93 770.987 105.518 771.352 104.695V98.5469H772.797V107H771.422L771.391 106.164ZM779.086 99.8438C778.867 99.8073 778.63 99.7891 778.375 99.7891C777.427 99.7891 776.784 100.193 776.445 101V107H775V98.5469H776.406L776.43 99.5234C776.904 98.7682 777.576 98.3906 778.445 98.3906C778.727 98.3906 778.94 98.4271 779.086 98.5V99.8438ZM783.656 105.977C784.172 105.977 784.622 105.82 785.008 105.508C785.393 105.195 785.607 104.805 785.648 104.336H787.016C786.99 104.82 786.823 105.281 786.516 105.719C786.208 106.156 785.797 106.505 785.281 106.766C784.771 107.026 784.229 107.156 783.656 107.156C782.505 107.156 781.589 106.773 780.906 106.008C780.229 105.237 779.891 104.185 779.891 102.852V102.609C779.891 101.786 780.042 101.055 780.344 100.414C780.646 99.7734 781.078 99.276 781.641 98.9219C782.208 98.5677 782.878 98.3906 783.648 98.3906C784.596 98.3906 785.383 98.6745 786.008 99.2422C786.638 99.8099 786.974 100.547 787.016 101.453H785.648C785.607 100.906 785.398 100.458 785.023 100.109C784.654 99.7552 784.195 99.5781 783.648 99.5781C782.914 99.5781 782.344 99.8438 781.938 100.375C781.536 100.901 781.336 101.664 781.336 102.664V102.938C781.336 103.911 781.536 104.661 781.938 105.188C782.339 105.714 782.911 105.977 783.656 105.977ZM792.148 107.156C791.003 107.156 790.07 106.781 789.352 106.031C788.633 105.276 788.273 104.268 788.273 103.008V102.742C788.273 101.904 788.432 101.156 788.75 100.5C789.073 99.8385 789.521 99.3229 790.094 98.9531C790.672 98.5781 791.297 98.3906 791.969 98.3906C793.068 98.3906 793.922 98.7526 794.531 99.4766C795.141 100.201 795.445 101.237 795.445 102.586V103.188H789.719C789.74 104.021 789.982 104.695 790.445 105.211C790.914 105.721 791.508 105.977 792.227 105.977C792.737 105.977 793.169 105.872 793.523 105.664C793.878 105.456 794.188 105.18 794.453 104.836L795.336 105.523C794.628 106.612 793.565 107.156 792.148 107.156ZM791.969 99.5781C791.385 99.5781 790.896 99.7917 790.5 100.219C790.104 100.641 789.859 101.234 789.766 102H794V101.891C793.958 101.156 793.76 100.589 793.406 100.188C793.052 99.7812 792.573 99.5781 791.969 99.5781ZM806.016 104.758C806.016 104.367 805.867 104.065 805.57 103.852C805.279 103.633 804.766 103.445 804.031 103.289C803.302 103.133 802.721 102.945 802.289 102.727C801.862 102.508 801.544 102.247 801.336 101.945C801.133 101.643 801.031 101.284 801.031 100.867C801.031 100.174 801.323 99.5885 801.906 99.1094C802.495 98.6302 803.245 98.3906 804.156 98.3906C805.115 98.3906 805.891 98.638 806.484 99.1328C807.083 99.6276 807.383 100.26 807.383 101.031H805.93C805.93 100.635 805.76 100.294 805.422 100.008C805.089 99.7214 804.667 99.5781 804.156 99.5781C803.63 99.5781 803.219 99.6927 802.922 99.9219C802.625 100.151 802.477 100.451 802.477 100.82C802.477 101.169 802.615 101.432 802.891 101.609C803.167 101.786 803.664 101.956 804.383 102.117C805.107 102.279 805.693 102.471 806.141 102.695C806.589 102.919 806.919 103.19 807.133 103.508C807.352 103.82 807.461 104.203 807.461 104.656C807.461 105.411 807.159 106.018 806.555 106.477C805.951 106.93 805.167 107.156 804.203 107.156C803.526 107.156 802.927 107.036 802.406 106.797C801.885 106.557 801.477 106.224 801.18 105.797C800.888 105.365 800.742 104.898 800.742 104.398H802.188C802.214 104.883 802.406 105.268 802.766 105.555C803.13 105.836 803.609 105.977 804.203 105.977C804.75 105.977 805.188 105.867 805.516 105.648C805.849 105.424 806.016 105.128 806.016 104.758ZM810.914 107H809.469V98.5469H810.914V107ZM809.352 96.3047C809.352 96.0703 809.422 95.8724 809.562 95.7109C809.708 95.5495 809.922 95.4688 810.203 95.4688C810.484 95.4688 810.698 95.5495 810.844 95.7109C810.99 95.8724 811.062 96.0703 811.062 96.3047C811.062 96.5391 810.99 96.7344 810.844 96.8906C810.698 97.0469 810.484 97.125 810.203 97.125C809.922 97.125 809.708 97.0469 809.562 96.8906C809.422 96.7344 809.352 96.5391 809.352 96.3047ZM812.891 102.703C812.891 101.385 813.195 100.339 813.805 99.5625C814.414 98.7812 815.221 98.3906 816.227 98.3906C817.258 98.3906 818.062 98.7552 818.641 99.4844L818.711 98.5469H820.031V106.797C820.031 107.891 819.706 108.753 819.055 109.383C818.409 110.013 817.539 110.328 816.445 110.328C815.836 110.328 815.24 110.198 814.656 109.938C814.073 109.677 813.628 109.32 813.32 108.867L814.07 108C814.69 108.766 815.448 109.148 816.344 109.148C817.047 109.148 817.594 108.951 817.984 108.555C818.38 108.159 818.578 107.602 818.578 106.883V106.156C818 106.823 817.211 107.156 816.211 107.156C815.221 107.156 814.419 106.758 813.805 105.961C813.195 105.164 812.891 104.078 812.891 102.703ZM814.344 102.867C814.344 103.82 814.539 104.57 814.93 105.117C815.32 105.659 815.867 105.93 816.57 105.93C817.482 105.93 818.151 105.516 818.578 104.688V100.828C818.135 100.021 817.471 99.6172 816.586 99.6172C815.883 99.6172 815.333 99.8906 814.938 100.438C814.542 100.984 814.344 101.794 814.344 102.867ZM823.586 98.5469L823.633 99.6094C824.279 98.7969 825.122 98.3906 826.164 98.3906C827.951 98.3906 828.852 99.3984 828.867 101.414V107H827.422V101.406C827.417 100.797 827.276 100.346 827 100.055C826.729 99.763 826.305 99.6172 825.727 99.6172C825.258 99.6172 824.846 99.7422 824.492 99.9922C824.138 100.242 823.862 100.57 823.664 100.977V107H822.219V98.5469H823.586ZM836.266 107C836.182 106.833 836.115 106.536 836.062 106.109C835.391 106.807 834.589 107.156 833.656 107.156C832.823 107.156 832.138 106.922 831.602 106.453C831.07 105.979 830.805 105.38 830.805 104.656C830.805 103.776 831.138 103.094 831.805 102.609C832.477 102.12 833.419 101.875 834.633 101.875H836.039V101.211C836.039 100.706 835.888 100.305 835.586 100.008C835.284 99.7057 834.839 99.5547 834.25 99.5547C833.734 99.5547 833.302 99.6849 832.953 99.9453C832.604 100.206 832.43 100.521 832.43 100.891H830.977C830.977 100.469 831.125 100.062 831.422 99.6719C831.724 99.276 832.13 98.9635 832.641 98.7344C833.156 98.5052 833.721 98.3906 834.336 98.3906C835.31 98.3906 836.073 98.6354 836.625 99.125C837.177 99.6094 837.464 100.279 837.484 101.133V105.023C837.484 105.799 837.583 106.417 837.781 106.875V107H836.266ZM833.867 105.898C834.32 105.898 834.75 105.781 835.156 105.547C835.562 105.312 835.857 105.008 836.039 104.633V102.898H834.906C833.135 102.898 832.25 103.417 832.25 104.453C832.25 104.906 832.401 105.26 832.703 105.516C833.005 105.771 833.393 105.898 833.867 105.898ZM841.32 107H839.875V95H841.32V107Z" fill="black"/>
                <path id="Residuals" d="M751.898 127.398H749.227V132H747.719V120.625H751.484C752.766 120.625 753.75 120.917 754.438 121.5C755.13 122.083 755.477 122.932 755.477 124.047C755.477 124.755 755.284 125.372 754.898 125.898C754.518 126.424 753.987 126.818 753.305 127.078L755.977 131.906V132H754.367L751.898 127.398ZM749.227 126.172H751.531C752.276 126.172 752.867 125.979 753.305 125.594C753.747 125.208 753.969 124.693 753.969 124.047C753.969 123.344 753.758 122.805 753.336 122.43C752.919 122.055 752.315 121.865 751.523 121.859H749.227V126.172ZM760.867 132.156C759.721 132.156 758.789 131.781 758.07 131.031C757.352 130.276 756.992 129.268 756.992 128.008V127.742C756.992 126.904 757.151 126.156 757.469 125.5C757.792 124.839 758.24 124.323 758.812 123.953C759.391 123.578 760.016 123.391 760.688 123.391C761.786 123.391 762.641 123.753 763.25 124.477C763.859 125.201 764.164 126.237 764.164 127.586V128.188H758.438C758.458 129.021 758.701 129.695 759.164 130.211C759.633 130.721 760.227 130.977 760.945 130.977C761.456 130.977 761.888 130.872 762.242 130.664C762.596 130.456 762.906 130.18 763.172 129.836L764.055 130.523C763.346 131.612 762.284 132.156 760.867 132.156ZM760.688 124.578C760.104 124.578 759.615 124.792 759.219 125.219C758.823 125.641 758.578 126.234 758.484 127H762.719V126.891C762.677 126.156 762.479 125.589 762.125 125.188C761.771 124.781 761.292 124.578 760.688 124.578ZM770.766 129.758C770.766 129.367 770.617 129.065 770.32 128.852C770.029 128.633 769.516 128.445 768.781 128.289C768.052 128.133 767.471 127.945 767.039 127.727C766.612 127.508 766.294 127.247 766.086 126.945C765.883 126.643 765.781 126.284 765.781 125.867C765.781 125.174 766.073 124.589 766.656 124.109C767.245 123.63 767.995 123.391 768.906 123.391C769.865 123.391 770.641 123.638 771.234 124.133C771.833 124.628 772.133 125.26 772.133 126.031H770.68C770.68 125.635 770.51 125.294 770.172 125.008C769.839 124.721 769.417 124.578 768.906 124.578C768.38 124.578 767.969 124.693 767.672 124.922C767.375 125.151 767.227 125.451 767.227 125.82C767.227 126.169 767.365 126.432 767.641 126.609C767.917 126.786 768.414 126.956 769.133 127.117C769.857 127.279 770.443 127.471 770.891 127.695C771.339 127.919 771.669 128.19 771.883 128.508C772.102 128.82 772.211 129.203 772.211 129.656C772.211 130.411 771.909 131.018 771.305 131.477C770.701 131.93 769.917 132.156 768.953 132.156C768.276 132.156 767.677 132.036 767.156 131.797C766.635 131.557 766.227 131.224 765.93 130.797C765.638 130.365 765.492 129.898 765.492 129.398H766.938C766.964 129.883 767.156 130.268 767.516 130.555C767.88 130.836 768.359 130.977 768.953 130.977C769.5 130.977 769.938 130.867 770.266 130.648C770.599 130.424 770.766 130.128 770.766 129.758ZM775.664 132H774.219V123.547H775.664V132ZM774.102 121.305C774.102 121.07 774.172 120.872 774.312 120.711C774.458 120.549 774.672 120.469 774.953 120.469C775.234 120.469 775.448 120.549 775.594 120.711C775.74 120.872 775.812 121.07 775.812 121.305C775.812 121.539 775.74 121.734 775.594 121.891C775.448 122.047 775.234 122.125 774.953 122.125C774.672 122.125 774.458 122.047 774.312 121.891C774.172 121.734 774.102 121.539 774.102 121.305ZM777.633 127.703C777.633 126.406 777.94 125.365 778.555 124.578C779.169 123.786 779.974 123.391 780.969 123.391C781.958 123.391 782.742 123.729 783.32 124.406V120H784.766V132H783.438L783.367 131.094C782.789 131.802 781.984 132.156 780.953 132.156C779.974 132.156 779.174 131.755 778.555 130.953C777.94 130.151 777.633 129.104 777.633 127.812V127.703ZM779.078 127.867C779.078 128.826 779.276 129.576 779.672 130.117C780.068 130.659 780.615 130.93 781.312 130.93C782.229 130.93 782.898 130.518 783.32 129.695V125.812C782.888 125.016 782.224 124.617 781.328 124.617C780.62 124.617 780.068 124.891 779.672 125.438C779.276 125.984 779.078 126.794 779.078 127.867ZM792.234 131.164C791.672 131.826 790.846 132.156 789.758 132.156C788.857 132.156 788.169 131.896 787.695 131.375C787.227 130.849 786.99 130.073 786.984 129.047V123.547H788.43V129.008C788.43 130.289 788.951 130.93 789.992 130.93C791.096 130.93 791.831 130.518 792.195 129.695V123.547H793.641V132H792.266L792.234 131.164ZM801.062 132C800.979 131.833 800.911 131.536 800.859 131.109C800.188 131.807 799.385 132.156 798.453 132.156C797.62 132.156 796.935 131.922 796.398 131.453C795.867 130.979 795.602 130.38 795.602 129.656C795.602 128.776 795.935 128.094 796.602 127.609C797.273 127.12 798.216 126.875 799.43 126.875H800.836V126.211C800.836 125.706 800.685 125.305 800.383 125.008C800.081 124.706 799.635 124.555 799.047 124.555C798.531 124.555 798.099 124.685 797.75 124.945C797.401 125.206 797.227 125.521 797.227 125.891H795.773C795.773 125.469 795.922 125.062 796.219 124.672C796.521 124.276 796.927 123.964 797.438 123.734C797.953 123.505 798.518 123.391 799.133 123.391C800.107 123.391 800.87 123.635 801.422 124.125C801.974 124.609 802.26 125.279 802.281 126.133V130.023C802.281 130.799 802.38 131.417 802.578 131.875V132H801.062ZM798.664 130.898C799.117 130.898 799.547 130.781 799.953 130.547C800.359 130.312 800.654 130.008 800.836 129.633V127.898H799.703C797.932 127.898 797.047 128.417 797.047 129.453C797.047 129.906 797.198 130.26 797.5 130.516C797.802 130.771 798.19 130.898 798.664 130.898ZM806.117 132H804.672V120H806.117V132ZM813.359 129.758C813.359 129.367 813.211 129.065 812.914 128.852C812.622 128.633 812.109 128.445 811.375 128.289C810.646 128.133 810.065 127.945 809.633 127.727C809.206 127.508 808.888 127.247 808.68 126.945C808.477 126.643 808.375 126.284 808.375 125.867C808.375 125.174 808.667 124.589 809.25 124.109C809.839 123.63 810.589 123.391 811.5 123.391C812.458 123.391 813.234 123.638 813.828 124.133C814.427 124.628 814.727 125.26 814.727 126.031H813.273C813.273 125.635 813.104 125.294 812.766 125.008C812.432 124.721 812.01 124.578 811.5 124.578C810.974 124.578 810.562 124.693 810.266 124.922C809.969 125.151 809.82 125.451 809.82 125.82C809.82 126.169 809.958 126.432 810.234 126.609C810.51 126.786 811.008 126.956 811.727 127.117C812.451 127.279 813.036 127.471 813.484 127.695C813.932 127.919 814.263 128.19 814.477 128.508C814.695 128.82 814.805 129.203 814.805 129.656C814.805 130.411 814.503 131.018 813.898 131.477C813.294 131.93 812.51 132.156 811.547 132.156C810.87 132.156 810.271 132.036 809.75 131.797C809.229 131.557 808.82 131.224 808.523 130.797C808.232 130.365 808.086 129.898 808.086 129.398H809.531C809.557 129.883 809.75 130.268 810.109 130.555C810.474 130.836 810.953 130.977 811.547 130.977C812.094 130.977 812.531 130.867 812.859 130.648C813.193 130.424 813.359 130.128 813.359 129.758Z" fill="black"/>
            </g>

            <g id="axes">
                <path id="Arrow 1" d="M371.354 215.354C371.549 215.158 371.549 214.842 371.354 214.646L368.172 211.464C367.976 211.269 367.66 211.269 367.464 211.464C367.269 211.66 367.269 211.976 367.464 212.172L370.293 215L367.464 217.828C367.269 218.024 367.269 218.34 367.464 218.536C367.66 218.731 367.976 218.731 368.172 218.536L371.354 215.354ZM110 215.5H371V214.5H110V215.5Z" fill="black"/>
                <path id="Arrow 2" d="M116.354 80.6465C116.158 80.4512 115.842 80.4512 115.646 80.6465L112.464 83.8284C112.269 84.0237 112.269 84.3403 112.464 84.5355C112.66 84.7308 112.976 84.7308 113.172 84.5355L116 81.7071L118.828 84.5355C119.024 84.7308 119.34 84.7308 119.536 84.5355C119.731 84.3403 119.731 84.0237 119.536 83.8284L116.354 80.6465ZM116.5 225L116.5 81L115.5 81L115.5 225L116.5 225Z" fill="black"/>
            </g>
            <g id="axis labels">
                <path id="Log Energy" d="M71.9688 137.773H77.3594V139H70.4609V127.625H71.9688V137.773ZM78.4609 134.695C78.4609 133.867 78.6224 133.122 78.9453 132.461C79.2734 131.799 79.7266 131.289 80.3047 130.93C80.888 130.57 81.5521 130.391 82.2969 130.391C83.4479 130.391 84.3776 130.789 85.0859 131.586C85.7995 132.383 86.1562 133.443 86.1562 134.766V134.867C86.1562 135.69 85.9974 136.43 85.6797 137.086C85.3672 137.737 84.9167 138.245 84.3281 138.609C83.7448 138.974 83.0729 139.156 82.3125 139.156C81.1667 139.156 80.237 138.758 79.5234 137.961C78.8151 137.164 78.4609 136.109 78.4609 134.797V134.695ZM79.9141 134.867C79.9141 135.805 80.1302 136.557 80.5625 137.125C81 137.693 81.5833 137.977 82.3125 137.977C83.0469 137.977 83.6302 137.69 84.0625 137.117C84.4948 136.539 84.7109 135.732 84.7109 134.695C84.7109 133.768 84.4896 133.018 84.0469 132.445C83.6094 131.867 83.026 131.578 82.2969 131.578C81.5833 131.578 81.0078 131.862 80.5703 132.43C80.1328 132.997 79.9141 133.81 79.9141 134.867ZM87.625 134.703C87.625 133.385 87.9297 132.339 88.5391 131.562C89.1484 130.781 89.9557 130.391 90.9609 130.391C91.9922 130.391 92.7969 130.755 93.375 131.484L93.4453 130.547H94.7656V138.797C94.7656 139.891 94.4401 140.753 93.7891 141.383C93.1432 142.013 92.2734 142.328 91.1797 142.328C90.5703 142.328 89.974 142.198 89.3906 141.938C88.8073 141.677 88.362 141.32 88.0547 140.867L88.8047 140C89.4245 140.766 90.1823 141.148 91.0781 141.148C91.7812 141.148 92.3281 140.951 92.7188 140.555C93.1146 140.159 93.3125 139.602 93.3125 138.883V138.156C92.7344 138.823 91.9453 139.156 90.9453 139.156C89.9557 139.156 89.1536 138.758 88.5391 137.961C87.9297 137.164 87.625 136.078 87.625 134.703ZM89.0781 134.867C89.0781 135.82 89.2734 136.57 89.6641 137.117C90.0547 137.659 90.6016 137.93 91.3047 137.93C92.2161 137.93 92.8854 137.516 93.3125 136.688V132.828C92.8698 132.021 92.2057 131.617 91.3203 131.617C90.6172 131.617 90.0677 131.891 89.6719 132.438C89.276 132.984 89.0781 133.794 89.0781 134.867ZM66.1328 152.742H61.2031V156.773H66.9297V158H59.7031V146.625H66.8516V147.859H61.2031V151.516H66.1328V152.742ZM69.9375 149.547L69.9844 150.609C70.6302 149.797 71.474 149.391 72.5156 149.391C74.3021 149.391 75.2031 150.398 75.2188 152.414V158H73.7734V152.406C73.7682 151.797 73.6276 151.346 73.3516 151.055C73.0807 150.763 72.6562 150.617 72.0781 150.617C71.6094 150.617 71.1979 150.742 70.8438 150.992C70.4896 151.242 70.2135 151.57 70.0156 151.977V158H68.5703V149.547H69.9375ZM80.9062 158.156C79.7604 158.156 78.8281 157.781 78.1094 157.031C77.3906 156.276 77.0312 155.268 77.0312 154.008V153.742C77.0312 152.904 77.1901 152.156 77.5078 151.5C77.8307 150.839 78.2786 150.323 78.8516 149.953C79.4297 149.578 80.0547 149.391 80.7266 149.391C81.8255 149.391 82.6797 149.753 83.2891 150.477C83.8984 151.201 84.2031 152.237 84.2031 153.586V154.188H78.4766C78.4974 155.021 78.7396 155.695 79.2031 156.211C79.6719 156.721 80.2656 156.977 80.9844 156.977C81.4948 156.977 81.9271 156.872 82.2812 156.664C82.6354 156.456 82.9453 156.18 83.2109 155.836L84.0938 156.523C83.3854 157.612 82.3229 158.156 80.9062 158.156ZM80.7266 150.578C80.1432 150.578 79.6536 150.792 79.2578 151.219C78.862 151.641 78.6172 152.234 78.5234 153H82.7578V152.891C82.7161 152.156 82.5182 151.589 82.1641 151.188C81.8099 150.781 81.3307 150.578 80.7266 150.578ZM89.9688 150.844C89.75 150.807 89.513 150.789 89.2578 150.789C88.3099 150.789 87.6667 151.193 87.3281 152V158H85.8828V149.547H87.2891L87.3125 150.523C87.7865 149.768 88.4583 149.391 89.3281 149.391C89.6094 149.391 89.8229 149.427 89.9688 149.5V150.844ZM90.8047 153.703C90.8047 152.385 91.1094 151.339 91.7188 150.562C92.3281 149.781 93.1354 149.391 94.1406 149.391C95.1719 149.391 95.9766 149.755 96.5547 150.484L96.625 149.547H97.9453V157.797C97.9453 158.891 97.6198 159.753 96.9688 160.383C96.3229 161.013 95.4531 161.328 94.3594 161.328C93.75 161.328 93.1536 161.198 92.5703 160.938C91.987 160.677 91.5417 160.32 91.2344 159.867L91.9844 159C92.6042 159.766 93.362 160.148 94.2578 160.148C94.9609 160.148 95.5078 159.951 95.8984 159.555C96.2943 159.159 96.4922 158.602 96.4922 157.883V157.156C95.9141 157.823 95.125 158.156 94.125 158.156C93.1354 158.156 92.3333 157.758 91.7188 156.961C91.1094 156.164 90.8047 155.078 90.8047 153.703ZM92.2578 153.867C92.2578 154.82 92.4531 155.57 92.8438 156.117C93.2344 156.659 93.7812 156.93 94.4844 156.93C95.3958 156.93 96.0651 156.516 96.4922 155.688V151.828C96.0495 151.021 95.3854 150.617 94.5 150.617C93.7969 150.617 93.2474 150.891 92.8516 151.438C92.4557 151.984 92.2578 152.794 92.2578 153.867ZM102.898 155.883L104.867 149.547H106.414L103.016 159.305C102.49 160.711 101.654 161.414 100.508 161.414L100.234 161.391L99.6953 161.289V160.117L100.086 160.148C100.576 160.148 100.956 160.049 101.227 159.852C101.503 159.654 101.729 159.292 101.906 158.766L102.227 157.906L99.2109 149.547H100.789L102.898 155.883Z" fill="black"/>                
                <path id="Iteration" d="M214.93 240H213.43V228.625H214.93V240ZM219.414 229.5V231.547H220.992V232.664H219.414V237.906C219.414 238.245 219.484 238.5 219.625 238.672C219.766 238.839 220.005 238.922 220.344 238.922C220.51 238.922 220.74 238.891 221.031 238.828V240C220.651 240.104 220.281 240.156 219.922 240.156C219.276 240.156 218.789 239.961 218.461 239.57C218.133 239.18 217.969 238.625 217.969 237.906V232.664H216.43V231.547H217.969V229.5H219.414ZM226.195 240.156C225.049 240.156 224.117 239.781 223.398 239.031C222.68 238.276 222.32 237.268 222.32 236.008V235.742C222.32 234.904 222.479 234.156 222.797 233.5C223.12 232.839 223.568 232.323 224.141 231.953C224.719 231.578 225.344 231.391 226.016 231.391C227.115 231.391 227.969 231.753 228.578 232.477C229.188 233.201 229.492 234.237 229.492 235.586V236.188H223.766C223.786 237.021 224.029 237.695 224.492 238.211C224.961 238.721 225.555 238.977 226.273 238.977C226.784 238.977 227.216 238.872 227.57 238.664C227.924 238.456 228.234 238.18 228.5 237.836L229.383 238.523C228.674 239.612 227.612 240.156 226.195 240.156ZM226.016 232.578C225.432 232.578 224.943 232.792 224.547 233.219C224.151 233.641 223.906 234.234 223.812 235H228.047V234.891C228.005 234.156 227.807 233.589 227.453 233.188C227.099 232.781 226.62 232.578 226.016 232.578ZM235.258 232.844C235.039 232.807 234.802 232.789 234.547 232.789C233.599 232.789 232.956 233.193 232.617 234V240H231.172V231.547H232.578L232.602 232.523C233.076 231.768 233.747 231.391 234.617 231.391C234.898 231.391 235.112 231.427 235.258 231.5V232.844ZM241.5 240C241.417 239.833 241.349 239.536 241.297 239.109C240.625 239.807 239.823 240.156 238.891 240.156C238.057 240.156 237.372 239.922 236.836 239.453C236.305 238.979 236.039 238.38 236.039 237.656C236.039 236.776 236.372 236.094 237.039 235.609C237.711 235.12 238.654 234.875 239.867 234.875H241.273V234.211C241.273 233.706 241.122 233.305 240.82 233.008C240.518 232.706 240.073 232.555 239.484 232.555C238.969 232.555 238.536 232.685 238.188 232.945C237.839 233.206 237.664 233.521 237.664 233.891H236.211C236.211 233.469 236.359 233.062 236.656 232.672C236.958 232.276 237.365 231.964 237.875 231.734C238.391 231.505 238.956 231.391 239.57 231.391C240.544 231.391 241.307 231.635 241.859 232.125C242.411 232.609 242.698 233.279 242.719 234.133V238.023C242.719 238.799 242.818 239.417 243.016 239.875V240H241.5ZM239.102 238.898C239.555 238.898 239.984 238.781 240.391 238.547C240.797 238.312 241.091 238.008 241.273 237.633V235.898H240.141C238.37 235.898 237.484 236.417 237.484 237.453C237.484 237.906 237.635 238.26 237.938 238.516C238.24 238.771 238.628 238.898 239.102 238.898ZM246.945 229.5V231.547H248.523V232.664H246.945V237.906C246.945 238.245 247.016 238.5 247.156 238.672C247.297 238.839 247.536 238.922 247.875 238.922C248.042 238.922 248.271 238.891 248.562 238.828V240C248.182 240.104 247.812 240.156 247.453 240.156C246.807 240.156 246.32 239.961 245.992 239.57C245.664 239.18 245.5 238.625 245.5 237.906V232.664H243.961V231.547H245.5V229.5H246.945ZM251.789 240H250.344V231.547H251.789V240ZM250.227 229.305C250.227 229.07 250.297 228.872 250.438 228.711C250.583 228.549 250.797 228.469 251.078 228.469C251.359 228.469 251.573 228.549 251.719 228.711C251.865 228.872 251.938 229.07 251.938 229.305C251.938 229.539 251.865 229.734 251.719 229.891C251.573 230.047 251.359 230.125 251.078 230.125C250.797 230.125 250.583 230.047 250.438 229.891C250.297 229.734 250.227 229.539 250.227 229.305ZM253.727 235.695C253.727 234.867 253.888 234.122 254.211 233.461C254.539 232.799 254.992 232.289 255.57 231.93C256.154 231.57 256.818 231.391 257.562 231.391C258.714 231.391 259.643 231.789 260.352 232.586C261.065 233.383 261.422 234.443 261.422 235.766V235.867C261.422 236.69 261.263 237.43 260.945 238.086C260.633 238.737 260.182 239.245 259.594 239.609C259.01 239.974 258.339 240.156 257.578 240.156C256.432 240.156 255.503 239.758 254.789 238.961C254.081 238.164 253.727 237.109 253.727 235.797V235.695ZM255.18 235.867C255.18 236.805 255.396 237.557 255.828 238.125C256.266 238.693 256.849 238.977 257.578 238.977C258.312 238.977 258.896 238.69 259.328 238.117C259.76 237.539 259.977 236.732 259.977 235.695C259.977 234.768 259.755 234.018 259.312 233.445C258.875 232.867 258.292 232.578 257.562 232.578C256.849 232.578 256.273 232.862 255.836 233.43C255.398 233.997 255.18 234.81 255.18 235.867ZM264.602 231.547L264.648 232.609C265.294 231.797 266.138 231.391 267.18 231.391C268.966 231.391 269.867 232.398 269.883 234.414V240H268.438V234.406C268.432 233.797 268.292 233.346 268.016 233.055C267.745 232.763 267.32 232.617 266.742 232.617C266.273 232.617 265.862 232.742 265.508 232.992C265.154 233.242 264.878 233.57 264.68 233.977V240H263.234V231.547H264.602Z" fill="black"/>
            </g>


            <defs>
                <pattern id="clear_icon" patternContentUnits="objectBoundingBox" width="1" height="1">
                <use xlink:href="#clear" transform="scale(0.0111111)"/>
                </pattern>
                <pattern id="down_icon" patternContentUnits="objectBoundingBox" width="1" height="1">
                <use xlink:href="#down" transform="translate(0.0172414) scale(0.010728 0.0111111)"/>
                </pattern>
                <pattern id="reset_icon" patternContentUnits="objectBoundingBox" width="1" height="1">
                <use xlink:href="#res" transform="scale(0.0111111)"/>
                </pattern>
                <image id="clear" width="90" height="90" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAAB9klEQVR4nO2cS24CMRBES1mEnDzMebJAuVBCbgGL0BIiw4SPu101rid5w+r5CQwDQwPGGGOMMcYYY4wxZo4NgAnA/rSm02MqSPi/AvgAcLhYnwDeOnrdioT/NUlK2Rkk/P+TpJKdQcL/VkkK2Rkk/O+VZIst4b8BsHtAMtYOfd/NZfynJyR7x342cqxthey+gWiPY+TR42Ju/VQItwpdGbtl5AOArwJnbBsKVxwjrY6L8/We6JsqnhVbyXWW1i/FjGNEwfEmmDfC7PYQjBtidGoC08aYXFJg2CCDQwk9NzpM5KDHhoeLHFRufNjIQUWA4SMHmSEc+YKsS2Dpy+osMp59fiZfgTX2qiIHbLFXGTlgib3qyEHv2ENEDnrFHipyUB17yMhBVeyhIwfZsR35jKzYNJFfeguYOnx0FOA3wwL88a4AX7AU4EvwAnpHHiI2S+RVx2aLvMrYrJFXFds/zhbg2w0K8A00BfiWsAJ8k2MBvm23AIaNMjikwrRBJpemMG6M0ekpmDfE7HYXChtRcFxE6W+/Sq5/aDGvo1I8I7bUvI7Kl2LrY0RqXofyYBSZeR3qo34k5nX0/u5Xyl9inNkCUv4SA/oWkPKXGDm5gJS/xBDVBaT8JcYCLyDlv8HvR7/v09pC65dldX9jjDHGGGOMMcaYMo5GWlFN6GAqrAAAAABJRU5ErkJggg=="/>
                <image id="down" width="90" height="90" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAACAElEQVR4nO3cPUokQRjG8b8yKjoom6zfeAgzE8/iRfYQworn2AVBD2BoZiQYGvgBgiAbrKKBFoiMznR31VNd3c8P3mym5uVPw3TQNJiZmfXcVO4FJjQElhm97/37WE1D4BdwCbyMmRvgAFjPsmnBNoFzxgf+PLfAToZ9izQAzqge+WPsNfnWBdqjfuQwv+VbF+iI5qGv5VsX6ILmoV+AH+rFvzOde4ERFiKdM4x0ThRtDN1JDi3i0CIOLeLQIg4t4tAiDi3i0CIOLeLQIg4t4tAiDi3i0CIOLeLQIg4t4tAiDi3i0CIOLeLQIg4t4tAiDi3i0CIOLeLQIg4t4tAiDi3i0CIOLeLQIg4t4tAiDi3i0CIOLeLQIg4t4tAig8TnLwI/K34n1k5bwFyFzz8Ad5F+W2YFOCbOWwqUcw5sJ+iRzAn5o9WdK+K9YSGpJeCZ/MGazG7sKCn+DP8DTwnOVXrMvcCkDsl/VdadUwq6G5sF/pI/WtW5ADYS9EiqtNhFRg5KiV105KDtsTsROWhr7E5FDtoWu5ORg7bE7nTkIHfsXkQOcsXuVeRAHbuXkQNV7F5HDlLHduQPUsV25BFix3bkb8SK7cgTaBrbkSuoG9uRa6ga25EbmDS2I0cwLrYjR/RVbEdOYA7YB/7x9jjDH2A160YdNwPM517CzMzMKnoFOaA9z0fsNRUAAAAASUVORK5CYII="/>
                <image id="res" width="90" height="90" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAABmJLR0QA/wD/AP+gvaeTAAAFp0lEQVR4nO2dXWgdRRiGnzSnSWxjaBFttaA1F6kXatXUnzRpSvGiqCCxKFVatOIPLaK1/uCFN0EURFEpKvS6EPDGglCN/aMoFixS24ogVlFqTZrWNtombZU0PV5852A47rc7e87uzpzNPDAkTDJn3nnPnt1vvpndAx6Px+PxeDwej8fjKA22BQTQCNxSKh3AIqAdmA3MLf1sAMaBs8AY8HOp/AR8DXwPXMpaeD2wAHgO+AT4CyjWWP4EtgMbgCszHIeTtABrgB3ARWo3VysXgV3AaqCQycgcoRV4ERgmPXO1chR4uaQhLv1VtLFCAdgEnCJ7gyvLMPAkcj0wob/Uznl6gMPYN7iyHAaWRGgvm+y00U3AZiQCiGPAGDAIvAE8CtyJRB5zS69ZKP1+LdAFrAVeB3aX2sbpawJ4DZgZoL+/4n+dpB34BvMBDwFvA0up7aJVAHqB94l3HdiPRD9lKk120ugVSIhlMsCdwErMz5dxaAQeBL401DKMfEKCTHbO6FXA30QPahC4PUNdvchkxuRUov3NGR4nOib+DXjAkr4GJHb/I0Kj00avItrkrVQXwybNVcA26tDoFcAFdIHnkaPdJRqQyUucWalV2gm/8I0C3dbURTNAHRjdRHgINwTcaE1dNFp04ZzRm0NEjZIvk60Z3YM+4zuP26eLaky2YnQBOBQiaJ0NUYZUa7IVozeFiNlqQ5AhtZicudGt6KnOo7gRJwdRq8mZG/1SiBBbM74okjA5U6Nb0DNig1kKyTtr0d/tLou6cscOgk3eaVNU3liAnhdYaVFX7thIsMlDpJO0zxUzYvzv3Ur9ADCZgBYPcsRqGbqlFnXljiUEmzxG8OqxpwLTU8fNSv1XyBqbJwJTo29Q6g8kJSTvmBq9SKn/MSkhecfU6IVK/ZGkhNQZDcTcW25qdJtSfyJOZzlgFrAFOFcqW4DLkuxAS4tekWQndcCH/N+DD5Ls4J+ADorI4ux0ImguMWrSMM7McLrTDMwJqJ9l0tjU6HGl3tXVlDS4XKkfM2lsarT2YlrneUQLCM6aNDY1+oxSf7Vh+zwwX6lP1OhflfoOw/Z5QJu0/WLS2NRobQaodZ5Hapod12p0p2H7PHCbUp/o7LiT6Z0mbUJmgkEe3JpkR2GJf5f32CVFL8FjP43hWcH01DEJfKH8rc/wNeoZbWPQXlK4uf9Zgt/VYfK9OFsARgge+4Y0OrwGfbvBPWl06Aj3ETzmCWBeWp1+rnS6O60OHWAvwWPenmana5RO87oafhf6eFen2XELsmFmumwL20PwWH9Hsnmp8oLSeRG5HTgvPIw+zo1ZCJiNfufpMfKR0WtD/+SOYJiDTgJtH14R2SJW73yEPr5nshTSCBwMEfNElmISZj36uA5gYc7QRfjtb8uyFpQAy9FvtZ4E7rAl7F1FVBHJjdxkS1gVLCb8UXBv2ZMmWa39AaKmTs/rwezFwHH0cezDgSzlQmTJPezIdvk0spzwI/kU8uwmJ+gl/DESF4CnrKnTWU/04y96rKlT6CP62RcDuBFntxEewhWRsdxvS2AU64g2+xjwkC2ByIxPm4yUywTwmC2BpvQR/nEsl11ke29iN3ruovJ04eyRXEkv4RfIqWUPcC/pTAQKSD5ZS3UGXficOydHcR1mjz8rl+NIXL6M2jZPNiFv9HvoKyNaCJdadJH2g7pnAm8CzxNvQ+U5ZODfIsv5PwAnkTCsvA+wFdl0OA+59aMDWa3vJl7S5xLwDvAqObgfp5PwiY2tcpAc3sPeiCzwnsS+wSeQLFyeF5VpBp5GwrysDR4BXiHDfLILNAOPAJ+R7qPnJ4BPkfg59eUn15mPfJS3Ibt/ajX3NPAxsu8itS0BcXDx60FmINm0qV8Pcj0ybZ7Df3cZjCNRyBlkW/ERZDPmIeA7/NeDeDwej8fj8Xg8Ho8Z/wJD/Fexs/jO8AAAAABJRU5ErkJggg=="/>
            </defs>

            <path id="target-path" d="{target_path}"></path>
            <path id="source-path" d="{src_path}"></path>

            {#each belief_means as mean, i}
                <circle 
                    class="means"
                    cx={map_x(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x + mean)}
                    cy={map_y(fgs[active_ix].factors[nodes[active_ix] - 1 + i].meas)}
                    r={radius}/>
            {/each}
            {#each belief_means as mean, i}
                <!-- <line 
                    class="res_line"
                    x1="{map_x(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x + mean)}" 
                    y1="{map_y(fgs[active_ix].factors[nodes[active_ix] - 1 + i].meas)}"
                    x2="{map_x(shift(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x))}"
                    y2="{map_y(fgs[active_ix].factors[nodes[active_ix] - 1 + i].meas)}"/> -->
                <line 
                    class="res_line"
                    x1="{map_x(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x + mean)}" 
                    y1="{map_y(fgs[active_ix].factors[nodes[active_ix] - 1 + i].meas)}"
                    x2="{map_x(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x + mean)}"
                    y2="{map_y(target_fn(fgs[active_ix].factors[nodes[active_ix] - 1 + i].x + mean))}"/>
            {/each}


            {#each plot_paths as pth, i}
                <path class="plot-path" d="{pth}" stroke="{colors[i]}"></path>
                <circle
                    cx={map_x_graph(Math.min(iter, max_x_plot))}
                    cy={map_y_graph(energies[Math.min(iter, max_x_plot)])}
                    r="5"
                    fill={colors[colors.length-1]}/>
            {/each}

        </svg>

    </div>

    <figcaption style="text-align: center;">
        Multiscale learning. Iterate through GBP while changing the scale of the problem. 
    </figcaption>



</figure>

