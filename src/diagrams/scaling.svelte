<script>
    import * as d3 from 'd3';

    let sigma = 1;

    function gen_path(fn, map_x, map_y) {
        const ys = xs.map(x => fn(x));
        const pts = d3.zip(xs, ys);
        let path = d3.line().x(d => map_x(d[0])).y(d => map_y(d[1]))(pts);
        return path;
    }

    function mousemove_handler(e) {
        const rect = e.currentTarget.getBoundingClientRect();
        mouse_x = Math.min(Math.max((e.clientX - rect.x)/rect.width * 363, 37), 354);
        rescaled_loss_path = gen_path(rescaled_loss, map_x, map_y_loss);
    }

    function squared_loss(x){
        return 0.5*x*x;
    }
    function huber_loss(x){
        if (Math.abs(x) < delta) {
            return squared_loss(x);
        } else {
            return delta*(Math.abs(x) - 0.5*delta);
        }
    }
    function rescaled_loss(x) {
        const linpoint = map_inv_x(mouse_x);
        if (Math.abs(linpoint) < delta) {
            sigma = 1;
            return squared_loss(x);
        } else {
            sigma = 1 * squared_loss(linpoint) / huber_loss(linpoint);
            return squared_loss(x) * huber_loss(linpoint) / squared_loss(linpoint);
        }
    }
    function squared_prob(x) { return Math.exp(-squared_loss(x)); }
    function huber_prob(x) { return Math.exp(-huber_loss(x)); }        

    let mouse_x = 194.82;  // start at middle

    const STEP = 0.1;
    const range = 5;
    const xs = d3.range(-range, range, STEP);

    const delta = 1.5;

    const map_x = d3.scaleLinear().domain([-range, range]).range([37, 354]);
    const map_inv_x = d3.scaleLinear().domain([37, 354]).range([-range, range]);
    const map_y_loss = d3.scaleLinear().domain([0, 0.5*range*range]).range([209.55, 11.8]);

    const square_loss_path = gen_path(squared_loss, map_x, map_y_loss);
    const huber_loss_path = gen_path(huber_loss, map_x, map_y_loss);
    let rescaled_loss_path = gen_path(rescaled_loss, map_x, map_y_loss);


</script>

<style>

    #wrapper {
        position: relative;
        margin-bottom: 0.5rem;
        /* min-height: 210px; */
        /* border: none; */
        /* background-color: white; */
    }

    figure {
        padding-bottom: 0em;
    }

    .curve {
        stroke-linecap: square;
        stroke-width: 2;
    }

    .huber {
        stroke: var(--full_blue);
    }

    .rescaled {
        stroke: green;
    }

    #track {
        stroke: green;
        stroke-width: 2;
        stroke-dasharray: 8,3;
    }

    .transition {
        fill: var(--full_blue);
    }

    .ball {
        fill: green;
    }

</style>


<figure class="subgrid" id="figure">

    <div id="wrapper" class="interactive-container">


        <svg on:mousemove={mousemove_handler} width="363" height="263" viewBox="0 0 363 263" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect id="Rectangle 1" x="27.5" y="0.5" width="335" height="217" fill="white" stroke="black"/>
            <g id="axis2">
            <g id="Vector">
            <path d="M194.821 217.44V220.94Z" fill="black"/>
            <path d="M194.821 217.44V220.94" stroke="black" stroke-width="0.8"/>
            </g>
            <path id="Vector_2" d="M194.815 226.164C193.902 226.164 193.215 226.614 192.753 227.514C192.294 228.412 192.064 229.764 192.064 231.57C192.064 233.368 192.294 234.717 192.753 235.617C193.215 236.517 193.902 236.967 194.815 236.967C195.736 236.967 196.426 236.517 196.885 235.617C197.346 234.717 197.577 233.368 197.577 231.57C197.577 229.764 197.346 228.412 196.885 227.514C196.426 226.614 195.736 226.164 194.815 226.164ZM194.815 224.758C196.287 224.758 197.411 225.34 198.187 226.504C198.963 227.667 199.352 229.355 199.352 231.57C199.352 233.778 198.963 235.465 198.187 236.629C197.411 237.792 196.287 238.373 194.815 238.373C193.345 238.373 192.222 237.792 191.446 236.629C190.669 235.465 190.281 233.778 190.281 231.57C190.281 229.355 190.669 227.667 191.446 226.504C192.222 225.34 193.345 224.758 194.815 224.758Z" fill="black"/>
            </g>
            <g id="ax labels">
            <path id="Energy / neg. log prob" d="M11.4277 198.049L11.4277 204.211H16.4668V197.053H18V206.086H3.78125L3.78125 197.15H5.32422V204.211H9.89453L9.89453 198.049H11.4277ZM7.43359 193.293L8.76172 193.234C7.74609 192.427 7.23828 191.372 7.23828 190.07C7.23828 187.837 8.49805 186.711 11.0176 186.691H18V188.498H11.0078C10.2461 188.505 9.68294 188.68 9.31836 189.025C8.95378 189.364 8.77148 189.895 8.77148 190.617C8.77148 191.203 8.92773 191.717 9.24023 192.16C9.55273 192.603 9.96289 192.948 10.4707 193.195H18V195.002H7.43359V193.293ZM18.1953 179.582C18.1953 181.014 17.7266 182.18 16.7891 183.078C15.8451 183.977 14.5853 184.426 13.0098 184.426H12.6777C11.6296 184.426 10.6953 184.227 9.875 183.83C9.04818 183.426 8.40365 182.867 7.94141 182.15C7.47266 181.428 7.23828 180.646 7.23828 179.807C7.23828 178.433 7.69076 177.365 8.5957 176.604C9.50065 175.842 10.7962 175.461 12.4824 175.461H13.2344V182.619C14.276 182.593 15.1191 182.29 15.7637 181.711C16.4017 181.125 16.7207 180.383 16.7207 179.484C16.7207 178.846 16.5905 178.306 16.3301 177.863C16.0697 177.421 15.7246 177.033 15.2949 176.701L16.1543 175.598C17.515 176.483 18.1953 177.811 18.1953 179.582ZM8.72266 179.807C8.72266 180.536 8.98958 181.148 9.52344 181.643C10.0508 182.137 10.793 182.443 11.75 182.561V177.268H11.6133C10.6953 177.32 9.98568 177.567 9.48438 178.01C8.97656 178.452 8.72266 179.051 8.72266 179.807ZM9.05469 168.254C9.00911 168.527 8.98633 168.824 8.98633 169.143C8.98633 170.327 9.49089 171.132 10.5 171.555H18V173.361H7.43359V171.604L8.6543 171.574C7.71029 170.982 7.23828 170.142 7.23828 169.055C7.23828 168.703 7.28385 168.436 7.375 168.254H9.05469ZM12.6289 167.209C10.9818 167.209 9.67318 166.828 8.70313 166.066C7.72656 165.305 7.23828 164.296 7.23828 163.039C7.23828 161.75 7.69401 160.744 8.60547 160.021L7.43359 159.934V158.283H17.7461C19.1133 158.283 20.1908 158.69 20.9785 159.504C21.7663 160.311 22.1602 161.398 22.1602 162.766C22.1602 163.527 21.9974 164.273 21.6719 165.002C21.3464 165.731 20.9004 166.288 20.334 166.672L19.25 165.734C20.207 164.96 20.6855 164.012 20.6855 162.893C20.6855 162.014 20.4382 161.33 19.9434 160.842C19.4486 160.347 18.752 160.1 17.8535 160.1H16.9453C17.7786 160.822 18.1953 161.809 18.1953 163.059C18.1953 164.296 17.6973 165.298 16.7012 166.066C15.7051 166.828 14.3477 167.209 12.6289 167.209ZM12.834 165.393C14.0254 165.393 14.9629 165.148 15.6465 164.66C16.3236 164.172 16.6621 163.488 16.6621 162.609C16.6621 161.47 16.1445 160.633 15.1094 160.1H10.2852C9.27604 160.653 8.77148 161.483 8.77148 162.59C8.77148 163.469 9.11328 164.156 9.79688 164.65C10.4805 165.145 11.4928 165.393 12.834 165.393ZM15.3535 152.092L7.43359 149.631L7.43359 147.697L19.6309 151.945C21.3887 152.603 22.2676 153.648 22.2676 155.08L22.2383 155.422L22.1113 156.096H20.6465L20.6855 155.607C20.6855 154.995 20.5618 154.52 20.3145 154.182C20.0671 153.837 19.6146 153.553 18.957 153.332L17.8828 152.932L7.43359 156.701V154.729L15.3535 152.092ZM19.2207 140.754V142.307L3.78125 136.369V134.826L19.2207 140.754ZM7.43359 126.203L8.76172 126.145C7.74609 125.337 7.23828 124.283 7.23828 122.98C7.23828 120.747 8.49805 119.621 11.0176 119.602H18V121.408H11.0078C10.2461 121.415 9.68294 121.59 9.31836 121.936C8.95378 122.274 8.77148 122.805 8.77148 123.527C8.77148 124.113 8.92773 124.628 9.24023 125.07C9.55273 125.513 9.96289 125.858 10.4707 126.105H18V127.912H7.43359V126.203ZM18.1953 112.492C18.1953 113.924 17.7266 115.09 16.7891 115.988C15.8451 116.887 14.5853 117.336 13.0098 117.336H12.6777C11.6296 117.336 10.6953 117.137 9.875 116.74C9.04818 116.337 8.40365 115.777 7.94141 115.061C7.47266 114.338 7.23828 113.557 7.23828 112.717C7.23828 111.343 7.69076 110.275 8.5957 109.514C9.50065 108.752 10.7962 108.371 12.4824 108.371H13.2344L13.2344 115.529C14.276 115.503 15.1191 115.201 15.7637 114.621C16.4017 114.035 16.7207 113.293 16.7207 112.395C16.7207 111.757 16.5905 111.216 16.3301 110.773C16.0697 110.331 15.7246 109.943 15.2949 109.611L16.1543 108.508C17.515 109.393 18.1953 110.721 18.1953 112.492ZM8.72266 112.717C8.72266 113.446 8.98958 114.058 9.52344 114.553C10.0508 115.048 10.793 115.354 11.75 115.471L11.75 110.178H11.6133C10.6953 110.23 9.98568 110.477 9.48438 110.92C8.97656 111.363 8.72266 111.962 8.72266 112.717ZM12.6289 106.701C10.9818 106.701 9.67318 106.32 8.70313 105.559C7.72656 104.797 7.23828 103.788 7.23828 102.531C7.23828 101.242 7.69401 100.236 8.60547 99.5137L7.43359 99.4258V97.7754H17.7461C19.1133 97.7754 20.1908 98.1823 20.9785 98.9961C21.7663 99.8034 22.1602 100.891 22.1602 102.258C22.1602 103.02 21.9974 103.765 21.6719 104.494C21.3464 105.223 20.9004 105.78 20.334 106.164L19.25 105.227C20.207 104.452 20.6855 103.505 20.6855 102.385C20.6855 101.506 20.4382 100.822 19.9434 100.334C19.4486 99.8392 18.752 99.5918 17.8535 99.5918H16.9453C17.7786 100.314 18.1953 101.301 18.1953 102.551C18.1953 103.788 17.6973 104.79 16.7012 105.559C15.7051 106.32 14.3477 106.701 12.6289 106.701ZM12.834 104.885C14.0254 104.885 14.9629 104.641 15.6465 104.152C16.3236 103.664 16.6621 102.98 16.6621 102.102C16.6621 100.962 16.1445 100.126 15.1094 99.5918H10.2852C9.27604 100.145 8.77148 100.975 8.77148 102.082C8.77148 102.961 9.11328 103.648 9.79688 104.143C10.4805 104.637 11.4928 104.885 12.834 104.885ZM17.0527 95.002C16.7402 95.002 16.4798 94.9108 16.2715 94.7285C16.0632 94.5397 15.959 94.2598 15.959 93.8887C15.959 93.5176 16.0632 93.2376 16.2715 93.0488C16.4798 92.8535 16.7402 92.7559 17.0527 92.7559C17.3522 92.7559 17.6029 92.8535 17.8047 93.0488C18.0065 93.2376 18.1074 93.5176 18.1074 93.8887C18.1074 94.2598 18.0065 94.5397 17.8047 94.7285C17.6029 94.9108 17.3522 95.002 17.0527 95.002ZM18 82.8438V84.6504H3V82.8438H18ZM12.6191 80.4219C11.584 80.4219 10.653 80.2201 9.82617 79.8164C8.99935 79.4062 8.36133 78.8398 7.91211 78.1172C7.46289 77.388 7.23828 76.5579 7.23828 75.627C7.23828 74.1882 7.73633 73.026 8.73242 72.1406C9.72852 71.2487 11.0534 70.8027 12.707 70.8027H12.834C13.8626 70.8027 14.7871 71.0013 15.6074 71.3984C16.4212 71.7891 17.056 72.3522 17.5117 73.0879C17.9674 73.8171 18.1953 74.6569 18.1953 75.6074C18.1953 77.0397 17.6973 78.2018 16.7012 79.0938C15.7051 79.9792 14.3867 80.4219 12.7461 80.4219H12.6191ZM12.834 78.6055C14.0059 78.6055 14.9466 78.3353 15.6563 77.7949C16.3659 77.248 16.7207 76.5189 16.7207 75.6074C16.7207 74.6895 16.3626 73.9603 15.6465 73.4199C14.9238 72.8796 13.9147 72.6094 12.6191 72.6094C11.4603 72.6094 10.5228 72.8861 9.80664 73.4395C9.08398 73.9863 8.72266 74.7155 8.72266 75.627C8.72266 76.5189 9.07747 77.2383 9.78711 77.7852C10.4967 78.332 11.5124 78.6055 12.834 78.6055ZM12.6289 68.9668C10.9818 68.9668 9.67318 68.5859 8.70313 67.8242C7.72656 67.0625 7.23828 66.0534 7.23828 64.7969C7.23828 63.5078 7.69401 62.502 8.60547 61.7793L7.43359 61.6914L7.43359 60.041H17.7461C19.1133 60.041 20.1908 60.4479 20.9785 61.2617C21.7663 62.069 22.1602 63.1562 22.1602 64.5234C22.1602 65.2852 21.9974 66.0306 21.6719 66.7598C21.3464 67.4889 20.9004 68.0456 20.334 68.4297L19.25 67.4922C20.207 66.7174 20.6855 65.7702 20.6855 64.6504C20.6855 63.7715 20.4382 63.0879 19.9434 62.5996C19.4486 62.1048 18.752 61.8574 17.8535 61.8574H16.9453C17.7786 62.5801 18.1953 63.5664 18.1953 64.8164C18.1953 66.0534 17.6973 67.056 16.7012 67.8242C15.7051 68.5859 14.3477 68.9668 12.6289 68.9668ZM12.834 67.1504C14.0254 67.1504 14.9629 66.9062 15.6465 66.418C16.3236 65.9297 16.6621 65.2461 16.6621 64.3672C16.6621 63.2279 16.1445 62.3913 15.1094 61.8574H10.2852C9.27604 62.4108 8.77148 63.2409 8.77148 64.3477C8.77148 65.2266 9.11328 65.9134 9.79688 66.4082C10.4805 66.903 11.4928 67.1504 12.834 67.1504ZM12.834 43.4199C14.4421 43.4199 15.7376 43.7878 16.7207 44.5234C17.7038 45.2591 18.1953 46.2552 18.1953 47.5117C18.1953 48.7943 17.7884 49.8034 16.9746 50.5391H22.0625V52.3457H7.43359V50.6953L8.60547 50.6074C7.69401 49.8717 7.23828 48.8496 7.23828 47.541C7.23828 46.2715 7.7168 45.2689 8.67383 44.5332C9.63086 43.791 10.9622 43.4199 12.668 43.4199H12.834ZM12.6289 45.2266C11.4375 45.2266 10.4967 45.4805 9.80664 45.9883C9.11654 46.4961 8.77148 47.1927 8.77148 48.0781C8.77148 49.1719 9.25651 49.9922 10.2266 50.5391H15.2754C16.2389 49.9987 16.7207 49.1719 16.7207 48.0586C16.7207 47.1927 16.3789 46.5059 15.6953 45.998C15.0052 45.4837 13.9831 45.2266 12.6289 45.2266ZM9.05469 36.0078C9.00911 36.2812 8.98633 36.5775 8.98633 36.8965C8.98633 38.0814 9.49089 38.8854 10.5 39.3086H18V41.1152H7.43359V39.3574L8.6543 39.3281C7.71029 38.7357 7.23828 37.8958 7.23828 36.8086C7.23828 36.457 7.28385 36.1901 7.375 36.0078H9.05469ZM12.6191 35.0117C11.584 35.0117 10.653 34.8099 9.82617 34.4062C8.99935 33.9961 8.36133 33.4297 7.91211 32.707C7.46289 31.9779 7.23828 31.1478 7.23828 30.2168C7.23828 28.778 7.73633 27.6159 8.73242 26.7305C9.72852 25.8385 11.0534 25.3926 12.707 25.3926H12.834C13.8626 25.3926 14.7871 25.5911 15.6074 25.9883C16.4212 26.3789 17.056 26.9421 17.5117 27.6777C17.9674 28.4069 18.1953 29.2467 18.1953 30.1973C18.1953 31.6296 17.6973 32.7917 16.7012 33.6836C15.7051 34.569 14.3867 35.0117 12.7461 35.0117H12.6191ZM12.834 33.1953C14.0059 33.1953 14.9466 32.9251 15.6563 32.3848C16.3659 31.8379 16.7207 31.1087 16.7207 30.1973C16.7207 29.2793 16.3626 28.5501 15.6465 28.0098C14.9238 27.4694 13.9147 27.1992 12.6191 27.1992C11.4603 27.1992 10.5228 27.4759 9.80664 28.0293C9.08398 28.5762 8.72266 29.3053 8.72266 30.2168C8.72266 31.1087 9.07747 31.8281 9.78711 32.375C10.4967 32.9219 11.5124 33.1953 12.834 33.1953ZM12.834 14.1816C14.4486 14.1816 15.7474 14.5527 16.7305 15.2949C17.707 16.0371 18.1953 17.0332 18.1953 18.2832C18.1953 19.6178 17.7233 20.6497 16.7793 21.3789L18 21.4668V23.127H3V21.3203H8.5957C7.69076 20.5911 7.23828 19.5853 7.23828 18.3027C7.23828 17.0202 7.72331 16.0143 8.69336 15.2852C9.66341 14.5495 10.9915 14.1816 12.6777 14.1816H12.834ZM12.6289 15.9883C11.3984 15.9883 10.4479 16.2259 9.77734 16.7012C9.10677 17.1764 8.77148 17.86 8.77148 18.752C8.77148 19.9434 9.32487 20.7995 10.4316 21.3203H15.002C16.1087 20.7669 16.6621 19.9043 16.6621 18.7324C16.6621 17.8665 16.3268 17.1927 15.6563 16.7109C14.9857 16.2292 13.9766 15.9883 12.6289 15.9883Z" fill="black"/>
            <path id="Residual" d="M115.779 253.248H112.439V259H110.555V244.781H115.262C116.863 244.781 118.094 245.146 118.953 245.875C119.819 246.604 120.252 247.665 120.252 249.059C120.252 249.944 120.011 250.715 119.529 251.373C119.054 252.031 118.39 252.522 117.537 252.848L120.877 258.883V259H118.865L115.779 253.248ZM112.439 251.715H115.32C116.251 251.715 116.99 251.474 117.537 250.992C118.09 250.51 118.367 249.866 118.367 249.059C118.367 248.18 118.104 247.506 117.576 247.037C117.055 246.568 116.3 246.331 115.311 246.324H112.439V251.715ZM126.99 259.195C125.558 259.195 124.393 258.727 123.494 257.789C122.596 256.845 122.146 255.585 122.146 254.01V253.678C122.146 252.63 122.345 251.695 122.742 250.875C123.146 250.048 123.706 249.404 124.422 248.941C125.145 248.473 125.926 248.238 126.766 248.238C128.139 248.238 129.207 248.691 129.969 249.596C130.73 250.501 131.111 251.796 131.111 253.482V254.234H123.953C123.979 255.276 124.282 256.119 124.861 256.764C125.447 257.402 126.189 257.721 127.088 257.721C127.726 257.721 128.266 257.59 128.709 257.33C129.152 257.07 129.539 256.725 129.871 256.295L130.975 257.154C130.089 258.515 128.761 259.195 126.99 259.195ZM126.766 249.723C126.036 249.723 125.424 249.99 124.93 250.523C124.435 251.051 124.129 251.793 124.012 252.75H129.305V252.613C129.253 251.695 129.005 250.986 128.562 250.484C128.12 249.977 127.521 249.723 126.766 249.723ZM139.363 256.197C139.363 255.709 139.178 255.331 138.807 255.064C138.442 254.791 137.801 254.557 136.883 254.361C135.971 254.166 135.245 253.932 134.705 253.658C134.171 253.385 133.774 253.059 133.514 252.682C133.26 252.304 133.133 251.855 133.133 251.334C133.133 250.468 133.497 249.736 134.227 249.137C134.962 248.538 135.9 248.238 137.039 248.238C138.237 248.238 139.207 248.548 139.949 249.166C140.698 249.785 141.072 250.576 141.072 251.539H139.256C139.256 251.044 139.044 250.618 138.621 250.26C138.204 249.902 137.677 249.723 137.039 249.723C136.382 249.723 135.867 249.866 135.496 250.152C135.125 250.439 134.939 250.813 134.939 251.275C134.939 251.712 135.112 252.04 135.457 252.262C135.802 252.483 136.424 252.695 137.322 252.896C138.227 253.098 138.96 253.339 139.52 253.619C140.079 253.899 140.493 254.238 140.76 254.635C141.033 255.025 141.17 255.504 141.17 256.07C141.17 257.014 140.792 257.773 140.037 258.346C139.282 258.912 138.302 259.195 137.098 259.195C136.251 259.195 135.503 259.046 134.852 258.746C134.201 258.447 133.689 258.03 133.318 257.496C132.954 256.956 132.771 256.373 132.771 255.748H134.578C134.611 256.354 134.852 256.835 135.301 257.193C135.757 257.545 136.355 257.721 137.098 257.721C137.781 257.721 138.328 257.584 138.738 257.311C139.155 257.031 139.363 256.66 139.363 256.197ZM145.486 259H143.68V248.434H145.486V259ZM143.533 245.631C143.533 245.338 143.621 245.09 143.797 244.889C143.979 244.687 144.246 244.586 144.598 244.586C144.949 244.586 145.216 244.687 145.398 244.889C145.581 245.09 145.672 245.338 145.672 245.631C145.672 245.924 145.581 246.168 145.398 246.363C145.216 246.559 144.949 246.656 144.598 246.656C144.246 246.656 143.979 246.559 143.797 246.363C143.621 246.168 143.533 245.924 143.533 245.631ZM147.947 253.629C147.947 252.008 148.331 250.706 149.1 249.723C149.868 248.733 150.874 248.238 152.117 248.238C153.354 248.238 154.334 248.661 155.057 249.508V244H156.863V259H155.203L155.115 257.867C154.393 258.753 153.387 259.195 152.098 259.195C150.874 259.195 149.874 258.694 149.1 257.691C148.331 256.689 147.947 255.38 147.947 253.766V253.629ZM149.754 253.834C149.754 255.032 150.001 255.969 150.496 256.646C150.991 257.324 151.674 257.662 152.547 257.662C153.693 257.662 154.529 257.148 155.057 256.119V251.266C154.516 250.27 153.686 249.771 152.566 249.771C151.681 249.771 150.991 250.113 150.496 250.797C150.001 251.48 149.754 252.493 149.754 253.834ZM166.199 257.955C165.496 258.782 164.464 259.195 163.104 259.195C161.977 259.195 161.118 258.87 160.525 258.219C159.939 257.561 159.643 256.591 159.637 255.309V248.434H161.443V255.26C161.443 256.861 162.094 257.662 163.396 257.662C164.777 257.662 165.695 257.148 166.15 256.119V248.434H167.957V259H166.238L166.199 257.955ZM177.234 259C177.13 258.792 177.046 258.421 176.98 257.887C176.141 258.759 175.138 259.195 173.973 259.195C172.931 259.195 172.075 258.902 171.404 258.316C170.74 257.724 170.408 256.975 170.408 256.07C170.408 254.97 170.825 254.117 171.658 253.512C172.498 252.9 173.676 252.594 175.193 252.594H176.951V251.764C176.951 251.132 176.762 250.631 176.385 250.26C176.007 249.882 175.451 249.693 174.715 249.693C174.07 249.693 173.53 249.856 173.094 250.182C172.658 250.507 172.439 250.901 172.439 251.363H170.623C170.623 250.836 170.809 250.328 171.18 249.84C171.557 249.345 172.065 248.954 172.703 248.668C173.348 248.382 174.054 248.238 174.822 248.238C176.04 248.238 176.993 248.544 177.684 249.156C178.374 249.762 178.732 250.598 178.758 251.666V256.529C178.758 257.499 178.882 258.271 179.129 258.844V259H177.234ZM174.236 257.623C174.803 257.623 175.34 257.477 175.848 257.184C176.355 256.891 176.723 256.51 176.951 256.041V253.873H175.535C173.322 253.873 172.215 254.521 172.215 255.816C172.215 256.383 172.404 256.826 172.781 257.145C173.159 257.464 173.644 257.623 174.236 257.623ZM183.553 259H181.746V244H183.553V259Z" fill="black"/>
            <g id="res equn">
            <path id="Vector_3" d="M204.06 249.651C203.456 249.768 203.144 250.197 203.144 250.626C203.144 251.094 203.514 251.25 203.787 251.25C204.333 251.25 204.782 250.782 204.782 250.197C204.782 249.573 204.177 249.027 203.202 249.027C202.422 249.027 201.525 249.378 200.706 250.567C200.569 249.534 199.789 249.027 199.009 249.027C198.248 249.027 197.858 249.612 197.624 250.041C197.293 250.743 197 251.913 197 252.011C197 252.089 197.078 252.186 197.215 252.186C197.371 252.186 197.39 252.167 197.507 251.718C197.8 250.548 198.17 249.417 198.95 249.417C199.418 249.417 199.555 249.748 199.555 250.314C199.555 250.743 199.36 251.503 199.223 252.108L198.677 254.214C198.599 254.585 198.385 255.463 198.287 255.814C198.151 256.321 197.936 257.237 197.936 257.335C197.936 257.608 198.151 257.823 198.443 257.823C198.658 257.823 199.028 257.686 199.145 257.296C199.204 257.14 199.926 254.195 200.043 253.746C200.14 253.317 200.257 252.908 200.355 252.479C200.433 252.206 200.511 251.894 200.569 251.64C200.628 251.464 201.154 250.509 201.642 250.08C201.876 249.865 202.383 249.417 203.183 249.417C203.495 249.417 203.807 249.475 204.06 249.651Z" fill="black"/>
            <path id="Vector_4" d="M224.192 251.308C224.465 251.308 224.816 251.308 224.816 250.957C224.816 250.587 224.485 250.587 224.192 250.587H212.705C212.432 250.587 212.081 250.587 212.081 250.938C212.081 251.308 212.412 251.308 212.705 251.308H224.192ZM224.192 254.936C224.465 254.936 224.816 254.936 224.816 254.585C224.816 254.214 224.485 254.214 224.192 254.214H212.705C212.432 254.214 212.081 254.214 212.081 254.565C212.081 254.936 212.412 254.936 212.705 254.936H224.192Z" fill="black"/>
            <path id="Vector_5" d="M241.108 244.58C241.128 244.502 241.167 244.385 241.167 244.287C241.167 244.092 240.972 244.092 240.933 244.092C240.913 244.092 239.957 244.17 239.86 244.19C239.528 244.209 239.236 244.248 238.885 244.268C238.397 244.307 238.261 244.326 238.261 244.677C238.261 244.872 238.417 244.872 238.69 244.872C239.645 244.872 239.665 245.048 239.665 245.243C239.665 245.36 239.626 245.516 239.606 245.574L238.417 250.314C238.202 249.807 237.676 249.027 236.661 249.027C234.458 249.027 232.078 251.874 232.078 254.761C232.078 256.691 233.209 257.823 234.536 257.823C235.608 257.823 236.525 256.984 237.071 256.34C237.266 257.491 238.183 257.823 238.768 257.823C239.353 257.823 239.821 257.471 240.172 256.769C240.484 256.106 240.757 254.917 240.757 254.839C240.757 254.741 240.679 254.663 240.562 254.663C240.387 254.663 240.367 254.761 240.289 255.053C239.996 256.204 239.626 257.432 238.826 257.432C238.261 257.432 238.222 256.925 238.222 256.535C238.222 256.457 238.222 256.048 238.358 255.502L241.108 244.58ZM237.168 255.307C237.071 255.638 237.071 255.677 236.798 256.048C236.369 256.594 235.511 257.432 234.594 257.432C233.794 257.432 233.346 256.711 233.346 255.56C233.346 254.487 233.95 252.303 234.321 251.484C234.984 250.119 235.901 249.417 236.661 249.417C237.949 249.417 238.202 251.016 238.202 251.172C238.202 251.191 238.144 251.445 238.124 251.484L237.168 255.307Z" fill="black"/>
            <path id="Vector_6" d="M258.408 253.142C258.739 253.142 259.09 253.142 259.09 252.752C259.09 252.362 258.739 252.362 258.408 252.362H247.857C247.525 252.362 247.174 252.362 247.174 252.752C247.174 253.142 247.525 253.142 247.857 253.142H258.408Z" fill="black"/>
            <path id="Vector_7" d="M270.539 244.58C270.558 244.502 270.597 244.385 270.597 244.287C270.597 244.092 270.402 244.092 270.363 244.092C270.344 244.092 269.388 244.17 269.291 244.19C268.959 244.209 268.667 244.248 268.316 244.268C267.828 244.307 267.691 244.326 267.691 244.677C267.691 244.872 267.847 244.872 268.121 244.872C269.076 244.872 269.096 245.048 269.096 245.243C269.096 245.36 269.057 245.516 269.037 245.574L266.209 256.867C266.131 257.159 266.131 257.198 266.131 257.315C266.131 257.745 266.463 257.823 266.658 257.823C266.989 257.823 267.243 257.569 267.34 257.354L268.218 253.824C268.316 253.395 268.433 252.986 268.53 252.557C268.745 251.738 268.745 251.718 269.115 251.152C269.486 250.587 270.363 249.417 271.865 249.417C272.645 249.417 272.918 250.002 272.918 250.782C272.918 251.874 272.158 254 271.729 255.17C271.553 255.638 271.456 255.892 271.456 256.243C271.456 257.12 272.06 257.823 272.996 257.823C274.81 257.823 275.493 254.956 275.493 254.839C275.493 254.741 275.415 254.663 275.298 254.663C275.122 254.663 275.103 254.722 275.005 255.053C274.557 256.613 273.835 257.432 273.055 257.432C272.86 257.432 272.548 257.413 272.548 256.789C272.548 256.282 272.782 255.658 272.86 255.443C273.211 254.507 274.089 252.206 274.089 251.074C274.089 249.904 273.406 249.027 271.924 249.027C270.812 249.027 269.837 249.553 269.037 250.567L270.539 244.58Z" fill="black"/>
            <path id="Vector_8" d="M282.39 262.367C282.39 262.308 282.39 262.269 282.059 261.938C280.108 259.968 279.016 256.75 279.016 252.771C279.016 248.988 279.933 245.73 282.195 243.429C282.39 243.254 282.39 243.215 282.39 243.156C282.39 243.039 282.293 243 282.215 243C281.961 243 280.362 244.404 279.406 246.316C278.412 248.285 277.963 250.372 277.963 252.771C277.963 254.507 278.236 256.828 279.25 258.915C280.401 261.255 282 262.523 282.215 262.523C282.293 262.523 282.39 262.484 282.39 262.367Z" fill="black"/>
            <path id="Vector_9" d="M292.742 249.709L290.909 245.438C291.162 244.97 291.748 244.892 291.982 244.872C292.099 244.872 292.313 244.853 292.313 244.521C292.313 244.307 292.138 244.307 292.021 244.307C291.689 244.307 291.299 244.346 290.967 244.346H289.836C288.647 244.346 287.788 244.307 287.769 244.307C287.613 244.307 287.418 244.307 287.418 244.677C287.418 244.872 287.593 244.872 287.847 244.872C288.978 244.872 289.056 245.067 289.251 245.535L291.572 250.957L287.34 255.482C286.638 256.243 285.799 256.984 284.356 257.062C284.122 257.081 283.966 257.081 283.966 257.432C283.966 257.491 283.985 257.628 284.2 257.628C284.473 257.628 284.765 257.589 285.038 257.589H285.955C286.579 257.589 287.262 257.628 287.866 257.628C288.003 257.628 288.237 257.628 288.237 257.276C288.237 257.081 288.1 257.062 287.983 257.062C287.593 257.023 287.34 256.808 287.34 256.496C287.34 256.165 287.574 255.931 288.139 255.346L289.875 253.454C290.304 253.005 291.338 251.874 291.767 251.445L293.815 256.243C293.834 256.282 293.912 256.477 293.912 256.496C293.912 256.672 293.483 257.023 292.859 257.062C292.742 257.062 292.528 257.081 292.528 257.432C292.528 257.628 292.723 257.628 292.82 257.628C293.152 257.628 293.542 257.589 293.873 257.589H296.019C296.37 257.589 296.74 257.628 297.072 257.628C297.208 257.628 297.423 257.628 297.423 257.257C297.423 257.062 297.228 257.062 297.052 257.062C295.882 257.042 295.843 256.945 295.512 256.223L292.937 250.177L295.414 247.525C295.609 247.33 296.058 246.842 296.233 246.647C297.072 245.769 297.852 244.97 299.432 244.872C299.627 244.853 299.822 244.853 299.822 244.521C299.822 244.307 299.646 244.307 299.568 244.307C299.295 244.307 299.003 244.346 298.73 244.346H297.833C297.208 244.346 296.526 244.307 295.921 244.307C295.785 244.307 295.551 244.307 295.551 244.658C295.551 244.853 295.687 244.872 295.804 244.872C296.116 244.911 296.448 245.067 296.448 245.438L296.428 245.477C296.409 245.613 296.37 245.808 296.155 246.043L292.742 249.709Z" fill="black"/>
            <path id="Vector_10" d="M306.361 252.771C306.361 251.289 306.165 248.871 305.073 246.608C303.923 244.268 302.323 243 302.109 243C302.031 243 301.933 243.039 301.933 243.156C301.933 243.215 301.933 243.254 302.265 243.585C304.215 245.555 305.307 248.773 305.307 252.752C305.307 256.535 304.391 259.792 302.128 262.094C301.933 262.269 301.933 262.308 301.933 262.367C301.933 262.484 302.031 262.523 302.109 262.523C302.362 262.523 303.962 261.119 304.917 259.207C305.912 257.218 306.361 255.112 306.361 252.771Z" fill="black"/>
            </g>
            </g>
            <g id="key">
            <path id="Approximate Gaussian" d="M129.027 42.4746H123.368L122.097 46H120.26L125.418 32.4922H126.977L132.144 46H130.316L129.027 42.4746ZM123.906 41.0088H128.498L126.197 34.6909L123.906 41.0088ZM142.173 41.0923C142.173 42.62 141.823 43.8507 141.125 44.7847C140.426 45.7186 139.479 46.1855 138.286 46.1855C137.067 46.1855 136.109 45.799 135.41 45.0259V49.8594H133.693V35.9619H135.261L135.345 37.0752C136.044 36.2093 137.015 35.7764 138.258 35.7764C139.464 35.7764 140.416 36.231 141.115 37.1401C141.82 38.0493 142.173 39.3141 142.173 40.9346V41.0923ZM140.457 40.8975C140.457 39.7656 140.215 38.8719 139.733 38.2163C139.25 37.5607 138.589 37.2329 137.748 37.2329C136.708 37.2329 135.929 37.6937 135.41 38.6152V43.4116C135.923 44.327 136.708 44.7847 137.766 44.7847C138.589 44.7847 139.241 44.46 139.724 43.8105C140.212 43.1549 140.457 42.1839 140.457 40.8975ZM152.842 41.0923C152.842 42.62 152.492 43.8507 151.793 44.7847C151.095 45.7186 150.148 46.1855 148.955 46.1855C147.736 46.1855 146.778 45.799 146.079 45.0259V49.8594H144.362V35.9619H145.93L146.014 37.0752C146.713 36.2093 147.684 35.7764 148.927 35.7764C150.133 35.7764 151.085 36.231 151.784 37.1401C152.489 38.0493 152.842 39.3141 152.842 40.9346V41.0923ZM151.125 40.8975C151.125 39.7656 150.884 38.8719 150.402 38.2163C149.919 37.5607 149.258 37.2329 148.417 37.2329C147.377 37.2329 146.598 37.6937 146.079 38.6152V43.4116C146.592 44.327 147.377 44.7847 148.435 44.7847C149.258 44.7847 149.91 44.46 150.393 43.8105C150.881 43.1549 151.125 42.1839 151.125 40.8975ZM159.883 37.502C159.624 37.4587 159.342 37.437 159.039 37.437C157.913 37.437 157.15 37.9163 156.748 38.875V46H155.031V35.9619H156.701L156.729 37.1216C157.292 36.2248 158.09 35.7764 159.123 35.7764C159.457 35.7764 159.71 35.8197 159.883 35.9062V37.502ZM160.83 40.8882C160.83 39.9048 161.021 39.0203 161.405 38.2349C161.794 37.4494 162.333 36.8433 163.019 36.4165C163.712 35.9897 164.5 35.7764 165.385 35.7764C166.752 35.7764 167.856 36.2495 168.697 37.1958C169.544 38.1421 169.968 39.4007 169.968 40.9717V41.0923C169.968 42.0695 169.779 42.9478 169.402 43.7271C169.031 44.5002 168.496 45.1032 167.797 45.5361C167.104 45.9691 166.306 46.1855 165.403 46.1855C164.043 46.1855 162.939 45.7124 162.091 44.7661C161.25 43.8198 160.83 42.5674 160.83 41.0088V40.8882ZM162.555 41.0923C162.555 42.2056 162.812 43.0993 163.325 43.7734C163.845 44.4476 164.537 44.7847 165.403 44.7847C166.275 44.7847 166.968 44.4445 167.481 43.7642C167.995 43.0776 168.251 42.119 168.251 40.8882C168.251 39.7873 167.989 38.8966 167.463 38.2163C166.943 37.5298 166.251 37.1865 165.385 37.1865C164.537 37.1865 163.854 37.5236 163.334 38.1978C162.815 38.8719 162.555 39.8368 162.555 41.0923ZM175.284 39.6265L177.51 35.9619H179.514L176.23 40.9253L179.616 46H177.631L175.312 42.2427L172.992 46H170.998L174.384 40.9253L171.1 35.9619H173.085L175.284 39.6265ZM183.207 46H181.49V35.9619H183.207V46ZM181.351 33.2993C181.351 33.021 181.435 32.786 181.602 32.5942C181.775 32.4025 182.028 32.3066 182.362 32.3066C182.696 32.3066 182.95 32.4025 183.123 32.5942C183.296 32.786 183.383 33.021 183.383 33.2993C183.383 33.5776 183.296 33.8096 183.123 33.9951C182.95 34.1807 182.696 34.2734 182.362 34.2734C182.028 34.2734 181.775 34.1807 181.602 33.9951C181.435 33.8096 181.351 33.5776 181.351 33.2993ZM187.576 35.9619L187.623 37.0752C188.359 36.2093 189.351 35.7764 190.601 35.7764C192.005 35.7764 192.96 36.3145 193.467 37.3906C193.801 36.9082 194.234 36.5186 194.766 36.2217C195.304 35.9248 195.938 35.7764 196.668 35.7764C198.87 35.7764 199.989 36.9422 200.026 39.2739V46H198.31V39.376C198.31 38.6585 198.146 38.1235 197.818 37.771C197.491 37.4123 196.94 37.2329 196.167 37.2329C195.53 37.2329 195.001 37.4246 194.581 37.8081C194.16 38.1854 193.916 38.6956 193.848 39.3389V46H192.122V39.4224C192.122 37.9627 191.408 37.2329 189.979 37.2329C188.853 37.2329 188.083 37.7122 187.669 38.6709V46H185.953V35.9619H187.576ZM208.821 46C208.722 45.8021 208.642 45.4495 208.58 44.9424C207.782 45.7712 206.83 46.1855 205.723 46.1855C204.733 46.1855 203.92 45.9072 203.283 45.3506C202.652 44.7878 202.336 44.0765 202.336 43.2168C202.336 42.1715 202.732 41.3613 203.524 40.7861C204.322 40.2048 205.441 39.9141 206.882 39.9141H208.552V39.1255C208.552 38.5256 208.373 38.0493 208.014 37.6968C207.655 37.3381 207.127 37.1587 206.428 37.1587C205.815 37.1587 205.302 37.3133 204.888 37.6226C204.473 37.9318 204.266 38.306 204.266 38.7451H202.541C202.541 38.2441 202.717 37.7617 203.069 37.2979C203.428 36.8278 203.91 36.4567 204.517 36.1846C205.129 35.9124 205.8 35.7764 206.53 35.7764C207.686 35.7764 208.592 36.0671 209.248 36.6484C209.904 37.2236 210.244 38.0184 210.269 39.0327V43.6528C210.269 44.5744 210.386 45.3073 210.621 45.8516V46H208.821ZM205.973 44.6919C206.511 44.6919 207.021 44.5527 207.504 44.2744C207.986 43.9961 208.336 43.6343 208.552 43.189V41.1294H207.207C205.104 41.1294 204.053 41.7448 204.053 42.9756C204.053 43.5137 204.232 43.9342 204.591 44.2373C204.95 44.5404 205.41 44.6919 205.973 44.6919ZM215.288 33.5312V35.9619H217.162V37.2886H215.288V43.5137C215.288 43.9157 215.371 44.2188 215.538 44.4229C215.705 44.6208 215.99 44.7197 216.392 44.7197C216.59 44.7197 216.862 44.6826 217.208 44.6084V46C216.757 46.1237 216.317 46.1855 215.891 46.1855C215.124 46.1855 214.545 45.9536 214.156 45.4897C213.766 45.0259 213.571 44.3672 213.571 43.5137V37.2886H211.744V35.9619H213.571V33.5312H215.288ZM223.34 46.1855C221.98 46.1855 220.873 45.7402 220.019 44.8496C219.166 43.9528 218.739 42.756 218.739 41.2593V40.9438C218.739 39.9481 218.927 39.0605 219.305 38.2812C219.688 37.4958 220.22 36.8835 220.9 36.4443C221.587 35.999 222.329 35.7764 223.127 35.7764C224.432 35.7764 225.446 36.2062 226.17 37.0659C226.894 37.9256 227.255 39.1564 227.255 40.7583V41.4727H220.455C220.48 42.4622 220.767 43.2632 221.318 43.8755C221.875 44.4816 222.58 44.7847 223.433 44.7847C224.039 44.7847 224.553 44.661 224.973 44.4136C225.394 44.1662 225.762 43.8384 226.077 43.4302L227.125 44.2466C226.284 45.5392 225.023 46.1855 223.34 46.1855ZM223.127 37.1865C222.434 37.1865 221.853 37.4401 221.383 37.9473C220.913 38.4482 220.622 39.1533 220.511 40.0625H225.539V39.9326C225.49 39.0605 225.255 38.3864 224.834 37.9102C224.413 37.4277 223.844 37.1865 223.127 37.1865ZM244.205 44.228C243.747 44.8836 243.107 45.3753 242.285 45.7031C241.468 46.0247 240.516 46.1855 239.427 46.1855C238.326 46.1855 237.349 45.9289 236.496 45.4155C235.642 44.896 234.98 44.16 234.51 43.2075C234.046 42.255 233.808 41.151 233.796 39.8955V38.7173C233.796 36.6825 234.269 35.1053 235.215 33.9858C236.168 32.8664 237.504 32.3066 239.223 32.3066C240.633 32.3066 241.768 32.6685 242.628 33.3921C243.488 34.1095 244.013 35.13 244.205 36.4536H242.424C242.09 34.6662 241.026 33.7725 239.232 33.7725C238.039 33.7725 237.133 34.193 236.514 35.0342C235.902 35.8691 235.593 37.0814 235.586 38.6709V39.7749C235.586 41.2902 235.933 42.4963 236.625 43.3931C237.318 44.2837 238.255 44.729 239.437 44.729C240.104 44.729 240.689 44.6548 241.19 44.5063C241.691 44.3579 242.105 44.1074 242.433 43.7549V40.7212H239.307V39.2739H244.205V44.228ZM253.111 46C253.012 45.8021 252.932 45.4495 252.87 44.9424C252.072 45.7712 251.12 46.1855 250.013 46.1855C249.023 46.1855 248.21 45.9072 247.573 45.3506C246.942 44.7878 246.626 44.0765 246.626 43.2168C246.626 42.1715 247.022 41.3613 247.814 40.7861C248.612 40.2048 249.731 39.9141 251.172 39.9141H252.842V39.1255C252.842 38.5256 252.663 38.0493 252.304 37.6968C251.945 37.3381 251.417 37.1587 250.718 37.1587C250.105 37.1587 249.592 37.3133 249.178 37.6226C248.763 37.9318 248.556 38.306 248.556 38.7451H246.831C246.831 38.2441 247.007 37.7617 247.359 37.2979C247.718 36.8278 248.201 36.4567 248.807 36.1846C249.419 35.9124 250.09 35.7764 250.82 35.7764C251.976 35.7764 252.882 36.0671 253.538 36.6484C254.194 37.2236 254.534 38.0184 254.559 39.0327V43.6528C254.559 44.5744 254.676 45.3073 254.911 45.8516V46H253.111ZM250.263 44.6919C250.801 44.6919 251.312 44.5527 251.794 44.2744C252.276 43.9961 252.626 43.6343 252.842 43.189V41.1294H251.497C249.394 41.1294 248.343 41.7448 248.343 42.9756C248.343 43.5137 248.522 43.9342 248.881 44.2373C249.24 44.5404 249.7 44.6919 250.263 44.6919ZM263.446 45.0073C262.778 45.7928 261.798 46.1855 260.505 46.1855C259.435 46.1855 258.619 45.8763 258.056 45.2578C257.5 44.6331 257.218 43.7116 257.212 42.4932V35.9619H258.928V42.4468C258.928 43.9683 259.547 44.729 260.784 44.729C262.095 44.729 262.967 44.2404 263.4 43.2632V35.9619H265.116V46H263.483L263.446 45.0073ZM273.577 43.3374C273.577 42.8735 273.401 42.5148 273.048 42.2612C272.702 42.0015 272.093 41.7788 271.221 41.5933C270.355 41.4077 269.665 41.1851 269.152 40.9253C268.645 40.6655 268.267 40.3563 268.02 39.9976C267.779 39.6388 267.658 39.2121 267.658 38.7173C267.658 37.8947 268.005 37.1989 268.697 36.6299C269.396 36.0609 270.287 35.7764 271.369 35.7764C272.507 35.7764 273.429 36.0701 274.134 36.6577C274.845 37.2453 275.201 37.9967 275.201 38.9121H273.475C273.475 38.4421 273.274 38.0369 272.872 37.6968C272.476 37.3566 271.975 37.1865 271.369 37.1865C270.744 37.1865 270.256 37.3226 269.903 37.5947C269.551 37.8669 269.375 38.2225 269.375 38.6616C269.375 39.076 269.538 39.3883 269.866 39.5986C270.194 39.8089 270.785 40.0099 271.638 40.2017C272.498 40.3934 273.194 40.6222 273.726 40.8882C274.257 41.1541 274.65 41.4757 274.904 41.853C275.164 42.2241 275.293 42.6787 275.293 43.2168C275.293 44.1136 274.935 44.8341 274.217 45.3784C273.5 45.9165 272.569 46.1855 271.425 46.1855C270.621 46.1855 269.91 46.0433 269.291 45.7588C268.673 45.4743 268.187 45.0785 267.834 44.5713C267.488 44.0579 267.315 43.5044 267.315 42.9106H269.031C269.062 43.4858 269.291 43.9435 269.718 44.2837C270.151 44.6177 270.72 44.7847 271.425 44.7847C272.074 44.7847 272.594 44.6548 272.983 44.395C273.379 44.1291 273.577 43.7765 273.577 43.3374ZM283.374 43.3374C283.374 42.8735 283.198 42.5148 282.845 42.2612C282.499 42.0015 281.89 41.7788 281.018 41.5933C280.152 41.4077 279.462 41.1851 278.949 40.9253C278.442 40.6655 278.064 40.3563 277.817 39.9976C277.576 39.6388 277.455 39.2121 277.455 38.7173C277.455 37.8947 277.801 37.1989 278.494 36.6299C279.193 36.0609 280.084 35.7764 281.166 35.7764C282.304 35.7764 283.226 36.0701 283.931 36.6577C284.642 37.2453 284.998 37.9967 284.998 38.9121H283.272C283.272 38.4421 283.071 38.0369 282.669 37.6968C282.273 37.3566 281.772 37.1865 281.166 37.1865C280.541 37.1865 280.053 37.3226 279.7 37.5947C279.348 37.8669 279.171 38.2225 279.171 38.6616C279.171 39.076 279.335 39.3883 279.663 39.5986C279.991 39.8089 280.582 40.0099 281.435 40.2017C282.295 40.3934 282.991 40.6222 283.522 40.8882C284.054 41.1541 284.447 41.4757 284.701 41.853C284.96 42.2241 285.09 42.6787 285.09 43.2168C285.09 44.1136 284.732 44.8341 284.014 45.3784C283.297 45.9165 282.366 46.1855 281.222 46.1855C280.418 46.1855 279.706 46.0433 279.088 45.7588C278.469 45.4743 277.984 45.0785 277.631 44.5713C277.285 44.0579 277.112 43.5044 277.112 42.9106H278.828C278.859 43.4858 279.088 43.9435 279.515 44.2837C279.948 44.6177 280.517 44.7847 281.222 44.7847C281.871 44.7847 282.391 44.6548 282.78 44.395C283.176 44.1291 283.374 43.7765 283.374 43.3374ZM289.191 46H287.475V35.9619H289.191V46ZM287.335 33.2993C287.335 33.021 287.419 32.786 287.586 32.5942C287.759 32.4025 288.013 32.3066 288.347 32.3066C288.681 32.3066 288.934 32.4025 289.107 32.5942C289.281 32.786 289.367 33.021 289.367 33.2993C289.367 33.5776 289.281 33.8096 289.107 33.9951C288.934 34.1807 288.681 34.2734 288.347 34.2734C288.013 34.2734 287.759 34.1807 287.586 33.9951C287.419 33.8096 287.335 33.5776 287.335 33.2993ZM298.144 46C298.045 45.8021 297.964 45.4495 297.902 44.9424C297.104 45.7712 296.152 46.1855 295.045 46.1855C294.055 46.1855 293.242 45.9072 292.605 45.3506C291.974 44.7878 291.659 44.0765 291.659 43.2168C291.659 42.1715 292.055 41.3613 292.846 40.7861C293.644 40.2048 294.764 39.9141 296.205 39.9141H297.875V39.1255C297.875 38.5256 297.695 38.0493 297.336 37.6968C296.978 37.3381 296.449 37.1587 295.75 37.1587C295.138 37.1587 294.624 37.3133 294.21 37.6226C293.796 37.9318 293.588 38.306 293.588 38.7451H291.863C291.863 38.2441 292.039 37.7617 292.392 37.2979C292.75 36.8278 293.233 36.4567 293.839 36.1846C294.451 35.9124 295.122 35.7764 295.852 35.7764C297.009 35.7764 297.915 36.0671 298.57 36.6484C299.226 37.2236 299.566 38.0184 299.591 39.0327V43.6528C299.591 44.5744 299.708 45.3073 299.943 45.8516V46H298.144ZM295.295 44.6919C295.833 44.6919 296.344 44.5527 296.826 44.2744C297.309 43.9961 297.658 43.6343 297.875 43.189V41.1294H296.529C294.426 41.1294 293.375 41.7448 293.375 42.9756C293.375 43.5137 293.554 43.9342 293.913 44.2373C294.272 44.5404 294.733 44.6919 295.295 44.6919ZM303.905 35.9619L303.96 37.2236C304.727 36.2588 305.729 35.7764 306.966 35.7764C309.088 35.7764 310.158 36.9731 310.176 39.3667V46H308.46V39.3574C308.454 38.6338 308.287 38.0988 307.959 37.7524C307.637 37.4061 307.133 37.2329 306.447 37.2329C305.89 37.2329 305.402 37.3813 304.981 37.6782C304.56 37.9751 304.233 38.3647 303.998 38.8472V46H302.281V35.9619H303.905Z" fill="black"/>
            <path id="True data distribution" d="M130.901 9.95801H126.559V22H124.787V9.95801H120.455V8.49219H130.901V9.95801ZM136.783 13.502C136.523 13.4587 136.242 13.437 135.938 13.437C134.813 13.437 134.049 13.9163 133.647 14.875V22H131.931V11.9619H133.601L133.628 13.1216C134.191 12.2248 134.989 11.7764 136.022 11.7764C136.356 11.7764 136.61 11.8197 136.783 11.9062V13.502ZM144.566 21.0073C143.898 21.7928 142.918 22.1855 141.625 22.1855C140.556 22.1855 139.739 21.8763 139.176 21.2578C138.62 20.6331 138.338 19.7116 138.332 18.4932V11.9619H140.048V18.4468C140.048 19.9683 140.667 20.729 141.904 20.729C143.215 20.729 144.087 20.2404 144.52 19.2632V11.9619H146.236V22H144.604L144.566 21.0073ZM153.018 22.1855C151.657 22.1855 150.55 21.7402 149.697 20.8496C148.843 19.9528 148.417 18.756 148.417 17.2593V16.9438C148.417 15.9481 148.605 15.0605 148.982 14.2812C149.366 13.4958 149.898 12.8835 150.578 12.4443C151.265 11.999 152.007 11.7764 152.805 11.7764C154.11 11.7764 155.124 12.2062 155.848 13.0659C156.571 13.9256 156.933 15.1564 156.933 16.7583V17.4727H150.133C150.158 18.4622 150.445 19.2632 150.996 19.8755C151.552 20.4816 152.257 20.7847 153.111 20.7847C153.717 20.7847 154.23 20.661 154.651 20.4136C155.071 20.1662 155.439 19.8384 155.755 19.4302L156.803 20.2466C155.962 21.5392 154.7 22.1855 153.018 22.1855ZM152.805 13.1865C152.112 13.1865 151.531 13.4401 151.061 13.9473C150.59 14.4482 150.3 15.1533 150.188 16.0625H155.217V15.9326C155.167 15.0605 154.932 14.3864 154.512 13.9102C154.091 13.4277 153.522 13.1865 152.805 13.1865ZM163.223 16.8975C163.223 15.3574 163.588 14.1204 164.318 13.1865C165.048 12.2464 166.003 11.7764 167.185 11.7764C168.36 11.7764 169.291 12.1784 169.977 12.9824V7.75H171.693V22H170.116L170.033 20.9238C169.346 21.765 168.391 22.1855 167.166 22.1855C166.003 22.1855 165.054 21.7093 164.318 20.7568C163.588 19.8044 163.223 18.5612 163.223 17.0273V16.8975ZM164.939 17.0923C164.939 18.2303 165.174 19.1209 165.645 19.7642C166.115 20.4074 166.764 20.729 167.593 20.729C168.681 20.729 169.476 20.2404 169.977 19.2632V14.6523C169.464 13.7061 168.675 13.2329 167.611 13.2329C166.77 13.2329 166.115 13.5576 165.645 14.207C165.174 14.8564 164.939 15.8182 164.939 17.0923ZM180.562 22C180.464 21.8021 180.383 21.4495 180.321 20.9424C179.523 21.7712 178.571 22.1855 177.464 22.1855C176.474 22.1855 175.661 21.9072 175.024 21.3506C174.393 20.7878 174.078 20.0765 174.078 19.2168C174.078 18.1715 174.473 17.3613 175.265 16.7861C176.063 16.2048 177.182 15.9141 178.624 15.9141H180.293V15.1255C180.293 14.5256 180.114 14.0493 179.755 13.6968C179.397 13.3381 178.868 13.1587 178.169 13.1587C177.557 13.1587 177.043 13.3133 176.629 13.6226C176.215 13.9318 176.007 14.306 176.007 14.7451H174.282C174.282 14.2441 174.458 13.7617 174.811 13.2979C175.169 12.8278 175.652 12.4567 176.258 12.1846C176.87 11.9124 177.541 11.7764 178.271 11.7764C179.428 11.7764 180.334 12.0671 180.989 12.6484C181.645 13.2236 181.985 14.0184 182.01 15.0327V19.6528C182.01 20.5744 182.127 21.3073 182.362 21.8516V22H180.562ZM177.714 20.6919C178.252 20.6919 178.763 20.5527 179.245 20.2744C179.728 19.9961 180.077 19.6343 180.293 19.189V17.1294H178.948C176.845 17.1294 175.794 17.7448 175.794 18.9756C175.794 19.5137 175.973 19.9342 176.332 20.2373C176.691 20.5404 177.152 20.6919 177.714 20.6919ZM187.029 9.53125V11.9619H188.903V13.2886H187.029V19.5137C187.029 19.9157 187.112 20.2188 187.279 20.4229C187.446 20.6208 187.731 20.7197 188.133 20.7197C188.331 20.7197 188.603 20.6826 188.949 20.6084V22C188.498 22.1237 188.059 22.1855 187.632 22.1855C186.865 22.1855 186.287 21.9536 185.897 21.4897C185.507 21.0259 185.312 20.3672 185.312 19.5137V13.2886H183.485V11.9619H185.312V9.53125H187.029ZM197.113 22C197.014 21.8021 196.934 21.4495 196.872 20.9424C196.074 21.7712 195.122 22.1855 194.015 22.1855C193.025 22.1855 192.212 21.9072 191.575 21.3506C190.944 20.7878 190.628 20.0765 190.628 19.2168C190.628 18.1715 191.024 17.3613 191.816 16.7861C192.614 16.2048 193.733 15.9141 195.174 15.9141H196.844V15.1255C196.844 14.5256 196.665 14.0493 196.306 13.6968C195.947 13.3381 195.419 13.1587 194.72 13.1587C194.107 13.1587 193.594 13.3133 193.18 13.6226C192.765 13.9318 192.558 14.306 192.558 14.7451H190.833C190.833 14.2441 191.009 13.7617 191.361 13.2979C191.72 12.8278 192.202 12.4567 192.809 12.1846C193.421 11.9124 194.092 11.7764 194.822 11.7764C195.978 11.7764 196.884 12.0671 197.54 12.6484C198.196 13.2236 198.536 14.0184 198.561 15.0327V19.6528C198.561 20.5744 198.678 21.3073 198.913 21.8516V22H197.113ZM194.265 20.6919C194.803 20.6919 195.313 20.5527 195.796 20.2744C196.278 19.9961 196.628 19.6343 196.844 19.189V17.1294H195.499C193.396 17.1294 192.345 17.7448 192.345 18.9756C192.345 19.5137 192.524 19.9342 192.883 20.2373C193.242 20.5404 193.702 20.6919 194.265 20.6919ZM205.546 16.8975C205.546 15.3574 205.911 14.1204 206.641 13.1865C207.371 12.2464 208.326 11.7764 209.508 11.7764C210.683 11.7764 211.614 12.1784 212.3 12.9824V7.75H214.017V22H212.439L212.356 20.9238C211.669 21.765 210.714 22.1855 209.489 22.1855C208.326 22.1855 207.377 21.7093 206.641 20.7568C205.911 19.8044 205.546 18.5612 205.546 17.0273V16.8975ZM207.263 17.0923C207.263 18.2303 207.498 19.1209 207.968 19.7642C208.438 20.4074 209.087 20.729 209.916 20.729C211.005 20.729 211.799 20.2404 212.3 19.2632V14.6523C211.787 13.7061 210.998 13.2329 209.935 13.2329C209.093 13.2329 208.438 13.5576 207.968 14.207C207.498 14.8564 207.263 15.8182 207.263 17.0923ZM218.553 22H216.837V11.9619H218.553V22ZM216.698 9.29932C216.698 9.021 216.781 8.78597 216.948 8.59424C217.121 8.40251 217.375 8.30664 217.709 8.30664C218.043 8.30664 218.297 8.40251 218.47 8.59424C218.643 8.78597 218.729 9.021 218.729 9.29932C218.729 9.57764 218.643 9.80957 218.47 9.99512C218.297 10.1807 218.043 10.2734 217.709 10.2734C217.375 10.2734 217.121 10.1807 216.948 9.99512C216.781 9.80957 216.698 9.57764 216.698 9.29932ZM227.153 19.3374C227.153 18.8735 226.977 18.5148 226.625 18.2612C226.278 18.0015 225.669 17.7788 224.797 17.5933C223.931 17.4077 223.241 17.1851 222.728 16.9253C222.221 16.6655 221.844 16.3563 221.596 15.9976C221.355 15.6388 221.234 15.2121 221.234 14.7173C221.234 13.8947 221.581 13.1989 222.273 12.6299C222.972 12.0609 223.863 11.7764 224.945 11.7764C226.083 11.7764 227.005 12.0701 227.71 12.6577C228.421 13.2453 228.777 13.9967 228.777 14.9121H227.051C227.051 14.4421 226.85 14.0369 226.448 13.6968C226.052 13.3566 225.551 13.1865 224.945 13.1865C224.321 13.1865 223.832 13.3226 223.479 13.5947C223.127 13.8669 222.951 14.2225 222.951 14.6616C222.951 15.076 223.115 15.3883 223.442 15.5986C223.77 15.8089 224.361 16.0099 225.214 16.2017C226.074 16.3934 226.77 16.6222 227.302 16.8882C227.834 17.1541 228.226 17.4757 228.48 17.853C228.74 18.2241 228.87 18.6787 228.87 19.2168C228.87 20.1136 228.511 20.8341 227.793 21.3784C227.076 21.9165 226.145 22.1855 225.001 22.1855C224.197 22.1855 223.486 22.0433 222.867 21.7588C222.249 21.4743 221.763 21.0785 221.411 20.5713C221.064 20.0579 220.891 19.5044 220.891 18.9106H222.607C222.638 19.4858 222.867 19.9435 223.294 20.2837C223.727 20.6177 224.296 20.7847 225.001 20.7847C225.65 20.7847 226.17 20.6548 226.56 20.395C226.955 20.1291 227.153 19.7765 227.153 19.3374ZM233.434 9.53125V11.9619H235.308V13.2886H233.434V19.5137C233.434 19.9157 233.518 20.2188 233.685 20.4229C233.852 20.6208 234.136 20.7197 234.538 20.7197C234.736 20.7197 235.008 20.6826 235.354 20.6084V22C234.903 22.1237 234.464 22.1855 234.037 22.1855C233.27 22.1855 232.692 21.9536 232.302 21.4897C231.913 21.0259 231.718 20.3672 231.718 19.5137V13.2886H229.89V11.9619H231.718V9.53125H233.434ZM242.173 13.502C241.914 13.4587 241.632 13.437 241.329 13.437C240.203 13.437 239.44 13.9163 239.038 14.875V22H237.321V11.9619H238.991L239.019 13.1216C239.582 12.2248 240.38 11.7764 241.413 11.7764C241.747 11.7764 242 11.8197 242.173 11.9062V13.502ZM245.625 22H243.908V11.9619H245.625V22ZM243.769 9.29932C243.769 9.021 243.853 8.78597 244.02 8.59424C244.193 8.40251 244.446 8.30664 244.78 8.30664C245.114 8.30664 245.368 8.40251 245.541 8.59424C245.714 8.78597 245.801 9.021 245.801 9.29932C245.801 9.57764 245.714 9.80957 245.541 9.99512C245.368 10.1807 245.114 10.2734 244.78 10.2734C244.446 10.2734 244.193 10.1807 244.02 9.99512C243.853 9.80957 243.769 9.57764 243.769 9.29932ZM256.878 17.0923C256.878 18.6261 256.525 19.86 255.82 20.7939C255.115 21.7217 254.169 22.1855 252.981 22.1855C251.714 22.1855 250.733 21.7371 250.041 20.8403L249.957 22H248.38V7.75H250.096V13.0659C250.789 12.2062 251.744 11.7764 252.963 11.7764C254.181 11.7764 255.137 12.2371 255.83 13.1587C256.528 14.0802 256.878 15.342 256.878 16.9438V17.0923ZM255.162 16.8975C255.162 15.7285 254.936 14.8255 254.484 14.1885C254.033 13.5514 253.383 13.2329 252.536 13.2329C251.404 13.2329 250.591 13.7586 250.096 14.8101V19.1519C250.622 20.2033 251.441 20.729 252.555 20.729C253.377 20.729 254.017 20.4105 254.475 19.7734C254.933 19.1364 255.162 18.1777 255.162 16.8975ZM265.246 21.0073C264.578 21.7928 263.598 22.1855 262.305 22.1855C261.235 22.1855 260.419 21.8763 259.856 21.2578C259.299 20.6331 259.018 19.7116 259.012 18.4932V11.9619H260.728V18.4468C260.728 19.9683 261.347 20.729 262.583 20.729C263.895 20.729 264.767 20.2404 265.2 19.2632V11.9619H266.916V22H265.283L265.246 21.0073ZM271.861 9.53125V11.9619H273.735V13.2886H271.861V19.5137C271.861 19.9157 271.944 20.2188 272.111 20.4229C272.278 20.6208 272.563 20.7197 272.965 20.7197C273.163 20.7197 273.435 20.6826 273.781 20.6084V22C273.33 22.1237 272.891 22.1855 272.464 22.1855C271.697 22.1855 271.119 21.9536 270.729 21.4897C270.339 21.0259 270.145 20.3672 270.145 19.5137V13.2886H268.317V11.9619H270.145V9.53125H271.861ZM277.613 22H275.896V11.9619H277.613V22ZM275.757 9.29932C275.757 9.021 275.841 8.78597 276.008 8.59424C276.181 8.40251 276.435 8.30664 276.769 8.30664C277.103 8.30664 277.356 8.40251 277.529 8.59424C277.702 8.78597 277.789 9.021 277.789 9.29932C277.789 9.57764 277.702 9.80957 277.529 9.99512C277.356 10.1807 277.103 10.2734 276.769 10.2734C276.435 10.2734 276.181 10.1807 276.008 9.99512C275.841 9.80957 275.757 9.57764 275.757 9.29932ZM279.914 16.8882C279.914 15.9048 280.105 15.0203 280.489 14.2349C280.878 13.4494 281.417 12.8433 282.103 12.4165C282.796 11.9897 283.584 11.7764 284.469 11.7764C285.836 11.7764 286.94 12.2495 287.781 13.1958C288.628 14.1421 289.052 15.4007 289.052 16.9717V17.0923C289.052 18.0695 288.863 18.9478 288.486 19.7271C288.115 20.5002 287.58 21.1032 286.881 21.5361C286.188 21.9691 285.39 22.1855 284.487 22.1855C283.127 22.1855 282.023 21.7124 281.175 20.7661C280.334 19.8198 279.914 18.5674 279.914 17.0088V16.8882ZM281.639 17.0923C281.639 18.2056 281.896 19.0993 282.409 19.7734C282.929 20.4476 283.621 20.7847 284.487 20.7847C285.359 20.7847 286.052 20.4445 286.565 19.7642C287.079 19.0776 287.335 18.119 287.335 16.8882C287.335 15.7873 287.073 14.8966 286.547 14.2163C286.027 13.5298 285.335 13.1865 284.469 13.1865C283.621 13.1865 282.938 13.5236 282.418 14.1978C281.899 14.8719 281.639 15.8368 281.639 17.0923ZM292.828 11.9619L292.883 13.2236C293.65 12.2588 294.652 11.7764 295.889 11.7764C298.011 11.7764 299.081 12.9731 299.099 15.3667V22H297.383V15.3574C297.377 14.6338 297.21 14.0988 296.882 13.7524C296.56 13.4061 296.056 13.2329 295.37 13.2329C294.813 13.2329 294.324 13.3813 293.904 13.6782C293.483 13.9751 293.155 14.3647 292.92 14.8472V22H291.204V11.9619H292.828Z" fill="black"/>
            <line id="Line 4" x1="79" y1="40" x2="110" y2="40" stroke="#3DB867" stroke-width="2"/>
            <line id="Line 1" x1="79" y1="17" x2="110" y2="17" stroke="#007BFF" stroke-width="2"/>
            </g>
            <g id="sigma = ">
            <path id="Vector_3" d="M171.589 62.8624C171.764 62.6428 171.808 62.5988 171.808 62.489C171.808 62.4451 171.808 62.4012 171.676 62.2255L167.24 55.6369H172.423C176.113 55.6369 177.233 56.4275 177.65 59.8975H178.133L177.562 55H165.549C165.022 55 165 55 165 55.5051L170.337 63.4114L165.242 69.429C165.066 69.6266 165.022 69.6925 165.022 69.7804C165.022 70 165.198 70 165.549 70H177.562L178.133 64.8829H177.65C177.255 68.5066 175.871 69.1435 172.357 69.1435H166.274L171.589 62.8624Z" fill="black"/>
            <path id="Vector_4" d="M200.27 62.8843C200.577 62.8843 200.972 62.8843 200.972 62.489C200.972 62.0717 200.599 62.0717 200.27 62.0717H187.334C187.027 62.0717 186.631 62.0717 186.631 62.4671C186.631 62.8843 187.005 62.8843 187.334 62.8843H200.27ZM200.27 66.9693C200.577 66.9693 200.972 66.9693 200.972 66.5739C200.972 66.1567 200.599 66.1567 200.27 66.1567H187.334C187.027 66.1567 186.631 66.1567 186.631 66.552C186.631 66.9693 187.005 66.9693 187.334 66.9693H200.27Z" fill="black"/>
            </g>
            <text x="210" y="70" stroke="black">{sigma.toFixed(1)}</text>


            <path class="huber curve" d="{huber_loss_path}"/>
            <path class="rescaled curve" d="{rescaled_loss_path}"/>

            <circle class="transition" cx="{map_x(delta)}" cy="{map_y_loss(huber_loss(delta))}" r="3"/>
            <circle class="transition" cx="{map_x(-delta)}" cy="{map_y_loss(huber_loss(-delta))}" r="3"/>

            <line id="track" x1="{mouse_x}" x2="{mouse_x}" y1="81.8" y2="215"/>

            <circle class="ball" cx="{mouse_x}" cy="{map_y_loss(huber_loss(map_inv_x(mouse_x)))}" r="6"/>

        </svg>
    </div>

    <figcaption style="text-align: left;">
        Move your mouse over the figure to set the residual and observe how the scaled covariance $\Sigma$ of the approximate Gaussian changes. 
        The true data distribution follows a Huber energy and the blue dots indicate the transition point.
    </figcaption>

</figure>

